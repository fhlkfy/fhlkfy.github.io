<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.RedSteps</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a> <a id="70" class="Symbol">(</a><a id="71" href="Definition.Typed.RedSteps.html#71" class="Bound">M</a> <a id="73" class="Symbol">:</a> <a id="75" class="PrimitiveType">Set</a><a id="78" class="Symbol">)</a> <a id="80" class="Keyword">where</a>

<a id="87" class="Keyword">open</a> <a id="92" class="Keyword">import</a> <a id="99" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="118" href="Definition.Typed.RedSteps.html#71" class="Bound">M</a> <a id="120" class="Keyword">hiding</a> <a id="127" class="Symbol">(</a>_∷_<a id="131" class="Symbol">)</a>
<a id="133" class="Keyword">open</a> <a id="138" class="Keyword">import</a> <a id="145" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="162" href="Definition.Typed.RedSteps.html#71" class="Bound">M</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="187" class="Keyword">private</a>
  <a id="197" class="Keyword">variable</a>
    <a id="210" href="Definition.Typed.RedSteps.html#210" class="Generalizable">n</a> <a id="212" class="Symbol">:</a> <a id="214" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="222" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="224" class="Symbol">:</a> <a id="226" href="Definition.Untyped.html#706" class="Datatype">Con</a> <a id="230" href="Definition.Untyped.html#2016" class="Datatype">Term</a> <a id="235" href="Definition.Typed.RedSteps.html#210" class="Generalizable">n</a>
    <a id="241" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="243" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="245" href="Definition.Typed.RedSteps.html#245" class="Generalizable">C</a> <a id="247" class="Symbol">:</a> <a id="249" href="Definition.Untyped.html#2016" class="Datatype">Term</a> <a id="254" href="Definition.Typed.RedSteps.html#210" class="Generalizable">n</a>
    <a id="260" href="Definition.Typed.RedSteps.html#260" class="Generalizable">a</a> <a id="262" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="264" href="Definition.Typed.RedSteps.html#264" class="Generalizable">t′</a> <a id="267" href="Definition.Typed.RedSteps.html#267" class="Generalizable">u</a> <a id="269" href="Definition.Typed.RedSteps.html#269" class="Generalizable">r</a> <a id="271" class="Symbol">:</a> <a id="273" href="Definition.Untyped.html#2016" class="Datatype">Term</a> <a id="278" href="Definition.Typed.RedSteps.html#210" class="Generalizable">n</a>
    <a id="284" href="Definition.Typed.RedSteps.html#284" class="Generalizable">p</a> <a id="286" href="Definition.Typed.RedSteps.html#286" class="Generalizable">q</a> <a id="288" class="Symbol">:</a> <a id="290" href="Definition.Typed.RedSteps.html#71" class="Bound">M</a>

<a id="293" class="Comment">-- Concatenation of type reduction closures</a>
<a id="_⇨*_"></a><a id="337" href="Definition.Typed.RedSteps.html#337" class="Function Operator">_⇨*_</a> <a id="342" class="Symbol">:</a> <a id="344" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="346" href="Definition.Typed.html#12512" class="Datatype Operator">⊢</a> <a id="348" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="350" href="Definition.Typed.html#12512" class="Datatype Operator">⇒*</a> <a id="353" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="355" class="Symbol">→</a> <a id="357" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="359" href="Definition.Typed.html#12512" class="Datatype Operator">⊢</a> <a id="361" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="363" href="Definition.Typed.html#12512" class="Datatype Operator">⇒*</a> <a id="366" href="Definition.Typed.RedSteps.html#245" class="Generalizable">C</a> <a id="368" class="Symbol">→</a> <a id="370" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="372" href="Definition.Typed.html#12512" class="Datatype Operator">⊢</a> <a id="374" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="376" href="Definition.Typed.html#12512" class="Datatype Operator">⇒*</a> <a id="379" href="Definition.Typed.RedSteps.html#245" class="Generalizable">C</a>
<a id="381" href="Definition.Typed.html#12568" class="InductiveConstructor">id</a> <a id="384" href="Definition.Typed.RedSteps.html#384" class="Bound">⊢B</a> <a id="387" href="Definition.Typed.RedSteps.html#337" class="Function Operator">⇨*</a> <a id="390" href="Definition.Typed.RedSteps.html#390" class="Bound">B⇒C</a> <a id="394" class="Symbol">=</a> <a id="396" href="Definition.Typed.RedSteps.html#390" class="Bound">B⇒C</a>
<a id="400" class="Symbol">(</a><a id="401" href="Definition.Typed.RedSteps.html#401" class="Bound">A⇒A′</a> <a id="406" href="Definition.Typed.html#12615" class="InductiveConstructor Operator">⇨</a> <a id="408" href="Definition.Typed.RedSteps.html#408" class="Bound">A′⇒B</a><a id="412" class="Symbol">)</a> <a id="414" href="Definition.Typed.RedSteps.html#337" class="Function Operator">⇨*</a> <a id="417" href="Definition.Typed.RedSteps.html#417" class="Bound">B⇒C</a> <a id="421" class="Symbol">=</a> <a id="423" href="Definition.Typed.RedSteps.html#401" class="Bound">A⇒A′</a> <a id="428" href="Definition.Typed.html#12615" class="InductiveConstructor Operator">⇨</a> <a id="430" class="Symbol">(</a><a id="431" href="Definition.Typed.RedSteps.html#408" class="Bound">A′⇒B</a> <a id="436" href="Definition.Typed.RedSteps.html#337" class="Function Operator">⇨*</a> <a id="439" href="Definition.Typed.RedSteps.html#417" class="Bound">B⇒C</a><a id="442" class="Symbol">)</a>

<a id="445" class="Comment">-- Concatenation of term reduction closures</a>
<a id="_⇨∷*_"></a><a id="489" href="Definition.Typed.RedSteps.html#489" class="Function Operator">_⇨∷*_</a> <a id="495" class="Symbol">:</a> <a id="497" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="499" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="501" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="503" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="506" href="Definition.Typed.RedSteps.html#267" class="Generalizable">u</a> <a id="508" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="510" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="512" class="Symbol">→</a> <a id="514" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="516" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="518" href="Definition.Typed.RedSteps.html#267" class="Generalizable">u</a> <a id="520" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="523" href="Definition.Typed.RedSteps.html#269" class="Generalizable">r</a> <a id="525" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="527" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="529" class="Symbol">→</a> <a id="531" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="533" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="535" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="537" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="540" href="Definition.Typed.RedSteps.html#269" class="Generalizable">r</a> <a id="542" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="544" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a>
<a id="546" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="549" href="Definition.Typed.RedSteps.html#549" class="Bound">⊢u</a> <a id="552" href="Definition.Typed.RedSteps.html#489" class="Function Operator">⇨∷*</a> <a id="556" href="Definition.Typed.RedSteps.html#556" class="Bound">u⇒r</a> <a id="560" class="Symbol">=</a> <a id="562" href="Definition.Typed.RedSteps.html#556" class="Bound">u⇒r</a>
<a id="566" class="Symbol">(</a><a id="567" href="Definition.Typed.RedSteps.html#567" class="Bound">t⇒t′</a> <a id="572" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="574" href="Definition.Typed.RedSteps.html#574" class="Bound">t′⇒u</a><a id="578" class="Symbol">)</a> <a id="580" href="Definition.Typed.RedSteps.html#489" class="Function Operator">⇨∷*</a> <a id="584" href="Definition.Typed.RedSteps.html#584" class="Bound">u⇒r</a> <a id="588" class="Symbol">=</a> <a id="590" href="Definition.Typed.RedSteps.html#567" class="Bound">t⇒t′</a> <a id="595" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="597" class="Symbol">(</a><a id="598" href="Definition.Typed.RedSteps.html#574" class="Bound">t′⇒u</a> <a id="603" href="Definition.Typed.RedSteps.html#489" class="Function Operator">⇨∷*</a> <a id="607" href="Definition.Typed.RedSteps.html#584" class="Bound">u⇒r</a><a id="610" class="Symbol">)</a>

<a id="613" class="Comment">-- Conversion of reduction closures</a>
<a id="conv*"></a><a id="649" href="Definition.Typed.RedSteps.html#649" class="Function">conv*</a> <a id="655" class="Symbol">:</a> <a id="657" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="659" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="661" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="663" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="666" href="Definition.Typed.RedSteps.html#267" class="Generalizable">u</a> <a id="668" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="670" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="672" class="Symbol">→</a> <a id="674" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="676" href="Definition.Typed.html#3390" class="Datatype Operator">⊢</a> <a id="678" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="680" href="Definition.Typed.html#3390" class="Datatype Operator">≡</a> <a id="682" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="684" class="Symbol">→</a> <a id="686" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="688" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="690" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="692" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="695" href="Definition.Typed.RedSteps.html#267" class="Generalizable">u</a> <a id="697" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="699" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a>
<a id="701" href="Definition.Typed.RedSteps.html#649" class="Function">conv*</a> <a id="707" class="Symbol">(</a><a id="708" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="711" href="Definition.Typed.RedSteps.html#711" class="Bound">x</a><a id="712" class="Symbol">)</a> <a id="714" href="Definition.Typed.RedSteps.html#714" class="Bound">A≡B</a> <a id="718" class="Symbol">=</a> <a id="720" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="723" class="Symbol">(</a><a id="724" href="Definition.Typed.html#3263" class="InductiveConstructor">conv</a> <a id="729" href="Definition.Typed.RedSteps.html#711" class="Bound">x</a> <a id="731" href="Definition.Typed.RedSteps.html#714" class="Bound">A≡B</a><a id="734" class="Symbol">)</a>
<a id="736" href="Definition.Typed.RedSteps.html#649" class="Function">conv*</a> <a id="742" class="Symbol">(</a><a id="743" href="Definition.Typed.RedSteps.html#743" class="Bound">x</a> <a id="745" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="747" href="Definition.Typed.RedSteps.html#747" class="Bound">d</a><a id="748" class="Symbol">)</a> <a id="750" href="Definition.Typed.RedSteps.html#750" class="Bound">A≡B</a> <a id="754" class="Symbol">=</a> <a id="756" href="Definition.Typed.html#8937" class="InductiveConstructor">conv</a> <a id="761" href="Definition.Typed.RedSteps.html#743" class="Bound">x</a> <a id="763" href="Definition.Typed.RedSteps.html#750" class="Bound">A≡B</a> <a id="767" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="769" href="Definition.Typed.RedSteps.html#649" class="Function">conv*</a> <a id="775" href="Definition.Typed.RedSteps.html#747" class="Bound">d</a> <a id="777" href="Definition.Typed.RedSteps.html#750" class="Bound">A≡B</a>

<a id="782" class="Comment">-- Universe of reduction closures</a>
<a id="univ*"></a><a id="816" href="Definition.Typed.RedSteps.html#816" class="Function">univ*</a> <a id="822" class="Symbol">:</a> <a id="824" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="826" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="828" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="830" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="833" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="835" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="837" href="Definition.Untyped.html#2444" class="Function">U</a> <a id="839" class="Symbol">→</a> <a id="841" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="843" href="Definition.Typed.html#12512" class="Datatype Operator">⊢</a> <a id="845" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="847" href="Definition.Typed.html#12512" class="Datatype Operator">⇒*</a> <a id="850" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a>
<a id="852" href="Definition.Typed.RedSteps.html#816" class="Function">univ*</a> <a id="858" class="Symbol">(</a><a id="859" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="862" href="Definition.Typed.RedSteps.html#862" class="Bound">x</a><a id="863" class="Symbol">)</a> <a id="865" class="Symbol">=</a> <a id="867" href="Definition.Typed.html#12568" class="InductiveConstructor">id</a> <a id="870" class="Symbol">(</a><a id="871" href="Definition.Typed.html#1153" class="InductiveConstructor">univ</a> <a id="876" href="Definition.Typed.RedSteps.html#862" class="Bound">x</a><a id="877" class="Symbol">)</a>
<a id="879" href="Definition.Typed.RedSteps.html#816" class="Function">univ*</a> <a id="885" class="Symbol">(</a><a id="886" href="Definition.Typed.RedSteps.html#886" class="Bound">x</a> <a id="888" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="890" href="Definition.Typed.RedSteps.html#890" class="Bound">A⇒B</a><a id="893" class="Symbol">)</a> <a id="895" class="Symbol">=</a> <a id="897" href="Definition.Typed.html#12173" class="InductiveConstructor">univ</a> <a id="902" href="Definition.Typed.RedSteps.html#886" class="Bound">x</a> <a id="904" href="Definition.Typed.html#12615" class="InductiveConstructor Operator">⇨</a> <a id="906" href="Definition.Typed.RedSteps.html#816" class="Function">univ*</a> <a id="912" href="Definition.Typed.RedSteps.html#890" class="Bound">A⇒B</a>

<a id="917" class="Comment">-- Application substitution of reduction closures</a>
<a id="app-subst*"></a><a id="967" href="Definition.Typed.RedSteps.html#967" class="Function">app-subst*</a> <a id="978" class="Symbol">:</a> <a id="980" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="982" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="984" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="986" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="989" href="Definition.Typed.RedSteps.html#264" class="Generalizable">t′</a> <a id="992" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="994" href="Definition.Untyped.html#2512" class="Function Operator">Π</a> <a id="996" href="Definition.Typed.RedSteps.html#284" class="Generalizable">p</a> <a id="998" href="Definition.Untyped.html#2512" class="Function Operator">,</a> <a id="1000" href="Definition.Typed.RedSteps.html#286" class="Generalizable">q</a> <a id="1002" href="Definition.Untyped.html#2512" class="Function Operator">▷</a> <a id="1004" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a> <a id="1006" href="Definition.Untyped.html#2512" class="Function Operator">▹</a> <a id="1008" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="1014" href="Definition.Typed.html#1231" class="Datatype Operator">⊢</a> <a id="1016" href="Definition.Typed.RedSteps.html#260" class="Generalizable">a</a> <a id="1018" href="Definition.Typed.html#1231" class="Datatype Operator">∷</a> <a id="1020" href="Definition.Typed.RedSteps.html#241" class="Generalizable">A</a>
           <a id="1033" class="Symbol">→</a> <a id="1035" href="Definition.Typed.RedSteps.html#222" class="Generalizable">Γ</a> <a id="1037" href="Definition.Typed.html#12262" class="Datatype Operator">⊢</a> <a id="1039" href="Definition.Typed.RedSteps.html#262" class="Generalizable">t</a> <a id="1041" href="Definition.Untyped.html#3159" class="Function Operator">∘</a> <a id="1043" href="Definition.Typed.RedSteps.html#284" class="Generalizable">p</a> <a id="1045" href="Definition.Untyped.html#3159" class="Function Operator">▷</a> <a id="1047" href="Definition.Typed.RedSteps.html#260" class="Generalizable">a</a> <a id="1049" href="Definition.Typed.html#12262" class="Datatype Operator">⇒*</a> <a id="1052" href="Definition.Typed.RedSteps.html#264" class="Generalizable">t′</a> <a id="1055" href="Definition.Untyped.html#3159" class="Function Operator">∘</a> <a id="1057" href="Definition.Typed.RedSteps.html#284" class="Generalizable">p</a> <a id="1059" href="Definition.Untyped.html#3159" class="Function Operator">▷</a> <a id="1061" href="Definition.Typed.RedSteps.html#260" class="Generalizable">a</a> <a id="1063" href="Definition.Typed.html#12262" class="Datatype Operator">∷</a> <a id="1065" href="Definition.Typed.RedSteps.html#243" class="Generalizable">B</a> <a id="1067" href="Definition.Untyped.html#15749" class="Function Operator">[</a> <a id="1069" href="Definition.Typed.RedSteps.html#260" class="Generalizable">a</a> <a id="1071" href="Definition.Untyped.html#15749" class="Function Operator">]</a>
<a id="1073" href="Definition.Typed.RedSteps.html#967" class="Function">app-subst*</a> <a id="1084" class="Symbol">(</a><a id="1085" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="1088" href="Definition.Typed.RedSteps.html#1088" class="Bound">x</a><a id="1089" class="Symbol">)</a> <a id="1091" href="Definition.Typed.RedSteps.html#1091" class="Bound">a₁</a> <a id="1094" class="Symbol">=</a> <a id="1096" href="Definition.Typed.html#12329" class="InductiveConstructor">id</a> <a id="1099" class="Symbol">(</a><a id="1100" href="Definition.Typed.RedSteps.html#1088" class="Bound">x</a> <a id="1102" href="Definition.Typed.html#1877" class="InductiveConstructor Operator">∘ⱼ</a> <a id="1105" href="Definition.Typed.RedSteps.html#1091" class="Bound">a₁</a><a id="1107" class="Symbol">)</a>
<a id="1109" href="Definition.Typed.RedSteps.html#967" class="Function">app-subst*</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Definition.Typed.RedSteps.html#1121" class="Bound">x</a> <a id="1123" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="1125" href="Definition.Typed.RedSteps.html#1125" class="Bound">t⇒t′</a><a id="1129" class="Symbol">)</a> <a id="1131" href="Definition.Typed.RedSteps.html#1131" class="Bound">a₁</a> <a id="1134" class="Symbol">=</a> <a id="1136" href="Definition.Typed.html#9063" class="InductiveConstructor">app-subst</a> <a id="1146" href="Definition.Typed.RedSteps.html#1121" class="Bound">x</a> <a id="1148" href="Definition.Typed.RedSteps.html#1131" class="Bound">a₁</a> <a id="1151" href="Definition.Typed.html#12386" class="InductiveConstructor Operator">⇨</a> <a id="1153" href="Definition.Typed.RedSteps.html#967" class="Function">app-subst*</a> <a id="1164" href="Definition.Typed.RedSteps.html#1125" class="Bound">t⇒t′</a> <a id="1169" href="Definition.Typed.RedSteps.html#1131" class="Bound">a₁</a>
</pre></body></html>