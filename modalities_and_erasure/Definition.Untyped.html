<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Untyped</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-- Raw terms, weakening (renaming) and substitution.</a>

<a id="55" class="Symbol">{-#</a> <a id="59" class="Keyword">OPTIONS</a> <a id="67" class="Pragma">--without-K</a> <a id="79" class="Pragma">--safe</a> <a id="86" class="Symbol">#-}</a>

<a id="91" class="Keyword">module</a> <a id="98" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="117" class="Symbol">{</a><a id="118" href="Definition.Untyped.html#118" class="Bound">a</a><a id="119" class="Symbol">}</a> <a id="121" class="Symbol">(</a><a id="122" href="Definition.Untyped.html#122" class="Bound">M</a> <a id="124" class="Symbol">:</a> <a id="126" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="130" href="Definition.Untyped.html#118" class="Bound">a</a><a id="131" class="Symbol">)</a> <a id="133" class="Keyword">where</a>

<a id="140" class="Keyword">open</a> <a id="145" class="Keyword">import</a> <a id="152" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="162" class="Keyword">open</a> <a id="167" class="Keyword">import</a> <a id="174" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="Tools.List.html" class="Module">Tools.List</a>
<a id="233" class="Keyword">import</a> <a id="240" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="268" class="Symbol">as</a> <a id="271" class="Module">PE</a>

<a id="275" class="Keyword">private</a>
  <a id="285" class="Keyword">variable</a>
    <a id="298" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="300" href="Definition.Untyped.html#300" class="Generalizable">q</a> <a id="302" href="Definition.Untyped.html#302" class="Generalizable">r</a> <a id="304" class="Symbol">:</a> <a id="306" href="Definition.Untyped.html#122" class="Bound">M</a>
    <a id="312" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="314" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="316" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="318" class="Symbol">:</a> <a id="320" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>

<a id="325" class="Keyword">infixl</a> <a id="332" class="Number">30</a> <a id="335" href="Definition.Untyped.html#878" class="InductiveConstructor Operator">_∙_</a>
<a id="339" class="Keyword">infixr</a> <a id="346" class="Number">5</a> <a id="348" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a>
<a id="352" class="Keyword">infix</a> <a id="358" class="Number">30</a> <a id="361" href="Definition.Untyped.html#2721" class="Function Operator">Π_,_▷_▹_</a>
<a id="370" class="Keyword">infix</a> <a id="376" class="Number">30</a> <a id="379" href="Definition.Untyped.html#4887" class="InductiveConstructor Operator">Σ_▷_▹_</a>
<a id="386" class="Keyword">infix</a> <a id="392" class="Number">30</a> <a id="395" href="Definition.Untyped.html#3022" class="Function Operator">Σₚ_▷_▹_</a>
<a id="403" class="Keyword">infix</a> <a id="409" class="Number">30</a> <a id="412" href="Definition.Untyped.html#2875" class="Function Operator">Σᵣ_▷_▹_</a>
<a id="420" class="Keyword">infix</a> <a id="426" class="Number">30</a> <a id="429" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">Σ⟨_⟩_▷_▹_</a>
<a id="439" class="Keyword">infix</a> <a id="445" class="Number">30</a> <a id="448" href="Definition.Untyped.html#4997" class="Function Operator">⟦_⟧_▹_</a>
<a id="455" class="Keyword">infixl</a> <a id="462" class="Number">30</a> <a id="465" href="Definition.Untyped.html#16129" class="Function Operator">_ₛ•ₛ_</a> <a id="471" href="Definition.Untyped.html#16304" class="Function Operator">_•ₛ_</a> <a id="476" href="Definition.Untyped.html#16420" class="Function Operator">_ₛ•_</a>
<a id="481" class="Keyword">infix</a> <a id="487" class="Number">25</a> <a id="490" href="Definition.Untyped.html#16607" class="Function Operator">_[_]</a>
<a id="495" class="Keyword">infix</a> <a id="501" class="Number">25</a> <a id="504" href="Definition.Untyped.html#16861" class="Function Operator">_[_]↑</a>
<a id="510" class="Keyword">infix</a> <a id="516" class="Number">25</a> <a id="519" href="Definition.Untyped.html#17121" class="Function Operator">_[_,_]</a>
<a id="526" class="Keyword">infix</a> <a id="532" class="Number">25</a> <a id="535" href="Definition.Untyped.html#17397" class="Function Operator">_[_]↑²</a>


<a id="544" class="Comment">-- Typing contexts (length indexed snoc-lists, isomorphic to lists).</a>
<a id="613" class="Comment">-- Terms added to the context are well scoped in the sense that it cannot</a>
<a id="687" class="Comment">-- contain more unbound variables than can be looked up in the context.</a>

<a id="760" class="Keyword">data</a> <a id="Con"></a><a id="706"></a><a id="765" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="769" class="Symbol">(</a><a id="770" href="Definition.Untyped.html#770" class="Bound">A</a> <a id="772" class="Symbol">:</a> <a id="774" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="778" class="Symbol">→</a> <a id="780" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="784" href="Definition.Untyped.html#118" class="Bound">a</a><a id="785" class="Symbol">)</a> <a id="787" class="Symbol">:</a> <a id="789" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="793" class="Symbol">→</a> <a id="795" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="799" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="801" class="Keyword">where</a>
  <a id="Con.ε"></a><a id="809" href="Definition.Untyped.html#809" class="InductiveConstructor">ε</a>   <a id="813" class="Symbol">:</a>                             <a id="843" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="847" href="Definition.Untyped.html#770" class="Bound">A</a> <a id="849" class="Number">0</a>        <a id="858" class="Comment">-- Empty context.</a>
  <a id="Con._∙_"></a><a id="878" href="Definition.Untyped.html#878" class="InductiveConstructor Operator">_∙_</a> <a id="882" class="Symbol">:</a> <a id="884" class="Symbol">{</a><a id="885" href="Definition.Untyped.html#885" class="Bound">n</a> <a id="887" class="Symbol">:</a> <a id="889" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="892" class="Symbol">}</a> <a id="894" class="Symbol">→</a> <a id="896" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="900" href="Definition.Untyped.html#770" class="Bound">A</a> <a id="902" href="Definition.Untyped.html#885" class="Bound">n</a> <a id="904" class="Symbol">→</a> <a id="906" href="Definition.Untyped.html#770" class="Bound">A</a> <a id="908" href="Definition.Untyped.html#885" class="Bound">n</a> <a id="910" class="Symbol">→</a> <a id="912" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="916" href="Definition.Untyped.html#770" class="Bound">A</a> <a id="918" class="Symbol">(</a><a id="919" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="922" href="Definition.Untyped.html#885" class="Bound">n</a><a id="923" class="Symbol">)</a>   <a id="927" class="Comment">-- Context extension.</a>

<a id="950" class="Comment">-- Representation of sub terms using a list of binding levels</a>

<a id="1013" class="Keyword">data</a> <a id="GenTs"></a><a id="1018" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="1024" class="Symbol">(</a><a id="1025" href="Definition.Untyped.html#1025" class="Bound">A</a> <a id="1027" class="Symbol">:</a> <a id="1029" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1033" class="Symbol">→</a> <a id="1035" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1039" href="Definition.Untyped.html#118" class="Bound">a</a><a id="1040" class="Symbol">)</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1048" class="Symbol">→</a> <a id="1050" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1055" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1065" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="1067" class="Keyword">where</a>
  <a id="GenTs.[]"></a><a id="1075" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>  <a id="1079" class="Symbol">:</a> <a id="1081" class="Symbol">{</a><a id="1082" href="Definition.Untyped.html#1082" class="Bound">n</a> <a id="1084" class="Symbol">:</a> <a id="1086" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1089" class="Symbol">}</a> <a id="1091" class="Symbol">→</a> <a id="1093" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="1099" href="Definition.Untyped.html#1025" class="Bound">A</a> <a id="1101" href="Definition.Untyped.html#1082" class="Bound">n</a> <a id="1103" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="GenTs._∷_"></a><a id="1108" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a> <a id="1112" class="Symbol">:</a> <a id="1114" class="Symbol">{</a><a id="1115" href="Definition.Untyped.html#1115" class="Bound">n</a> <a id="1117" href="Definition.Untyped.html#1117" class="Bound">b</a> <a id="1119" class="Symbol">:</a> <a id="1121" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1124" class="Symbol">}</a> <a id="1126" class="Symbol">{</a><a id="1127" href="Definition.Untyped.html#1127" class="Bound">bs</a> <a id="1130" class="Symbol">:</a> <a id="1132" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1137" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1140" class="Symbol">}</a> <a id="1142" class="Symbol">(</a><a id="1143" href="Definition.Untyped.html#1143" class="Bound">t</a> <a id="1145" class="Symbol">:</a> <a id="1147" href="Definition.Untyped.html#1025" class="Bound">A</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Definition.Untyped.html#1117" class="Bound">b</a> <a id="1152" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1154" href="Definition.Untyped.html#1115" class="Bound">n</a><a id="1155" class="Symbol">))</a> <a id="1158" class="Symbol">(</a><a id="1159" href="Definition.Untyped.html#1159" class="Bound">ts</a> <a id="1162" class="Symbol">:</a> <a id="1164" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="1170" href="Definition.Untyped.html#1025" class="Bound">A</a> <a id="1172" href="Definition.Untyped.html#1115" class="Bound">n</a> <a id="1174" href="Definition.Untyped.html#1127" class="Bound">bs</a><a id="1176" class="Symbol">)</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="1186" href="Definition.Untyped.html#1025" class="Bound">A</a> <a id="1188" href="Definition.Untyped.html#1115" class="Bound">n</a> <a id="1190" class="Symbol">(</a><a id="1191" href="Definition.Untyped.html#1117" class="Bound">b</a> <a id="1193" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1195" href="Definition.Untyped.html#1127" class="Bound">bs</a><a id="1197" class="Symbol">)</a>

<a id="1200" class="Comment">-- Sigma types have two modes, allowing either projections or prodrec</a>
<a id="1270" class="Keyword">data</a> <a id="SigmaMode"></a><a id="1275" href="Definition.Untyped.html#1275" class="Datatype">SigmaMode</a> <a id="1285" class="Symbol">:</a> <a id="1287" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1291" class="Keyword">where</a>
  <a id="SigmaMode.Σₚ"></a><a id="1299" href="Definition.Untyped.html#1299" class="InductiveConstructor">Σₚ</a> <a id="SigmaMode.Σᵣ"></a><a id="1302" href="Definition.Untyped.html#1302" class="InductiveConstructor">Σᵣ</a> <a id="1305" class="Symbol">:</a> <a id="1307" href="Definition.Untyped.html#1275" class="Datatype">SigmaMode</a>

<a id="1318" class="Comment">-- Kinds are indexed on the number of expected sub terms</a>
<a id="1375" class="Comment">-- and the number of new variables bound by each sub term</a>

<a id="1434" class="Keyword">data</a> <a id="Kind"></a><a id="1439" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="Symbol">(</a><a id="1447" href="Definition.Untyped.html#1447" class="Bound">ns</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1457" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1460" class="Symbol">)</a> <a id="1462" class="Symbol">→</a> <a id="1464" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1468" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="1470" class="Keyword">where</a>
  <a id="Kind.Ukind"></a><a id="1478" href="Definition.Untyped.html#1478" class="InductiveConstructor">Ukind</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1491" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="Kind.Pikind"></a><a id="1497" href="Definition.Untyped.html#1497" class="InductiveConstructor">Pikind</a>  <a id="1505" class="Symbol">:</a> <a id="1507" class="Symbol">(</a><a id="1508" href="Definition.Untyped.html#1508" class="Bound">p</a> <a id="1510" href="Definition.Untyped.html#1510" class="Bound">q</a> <a id="1512" class="Symbol">:</a> <a id="1514" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1515" class="Symbol">)</a> <a id="1517" class="Symbol">→</a> <a id="1519" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1524" class="Symbol">(</a><a id="1525" class="Number">0</a> <a id="1527" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1529" class="Number">1</a> <a id="1531" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1533" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1535" class="Symbol">)</a>
  <a id="Kind.Lamkind"></a><a id="1539" href="Definition.Untyped.html#1539" class="InductiveConstructor">Lamkind</a> <a id="1547" class="Symbol">:</a> <a id="1549" class="Symbol">(</a><a id="1550" href="Definition.Untyped.html#1550" class="Bound">p</a> <a id="1552" class="Symbol">:</a> <a id="1554" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1555" class="Symbol">)</a>   <a id="1559" class="Symbol">→</a> <a id="1561" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1566" class="Symbol">(</a><a id="1567" class="Number">1</a> <a id="1569" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1571" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1573" class="Symbol">)</a>
  <a id="Kind.Appkind"></a><a id="1577" href="Definition.Untyped.html#1577" class="InductiveConstructor">Appkind</a> <a id="1585" class="Symbol">:</a> <a id="1587" class="Symbol">(</a><a id="1588" href="Definition.Untyped.html#1588" class="Bound">p</a> <a id="1590" class="Symbol">:</a> <a id="1592" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1593" class="Symbol">)</a>   <a id="1597" class="Symbol">→</a> <a id="1599" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1604" class="Symbol">(</a><a id="1605" class="Number">0</a> <a id="1607" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1609" class="Number">0</a> <a id="1611" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1613" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1615" class="Symbol">)</a>

  <a id="Kind.Sigmakind"></a><a id="1620" href="Definition.Untyped.html#1620" class="InductiveConstructor">Sigmakind</a>   <a id="1632" class="Symbol">:</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Definition.Untyped.html#1635" class="Bound">q</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1640" class="Symbol">)</a> <a id="1642" class="Symbol">→</a> <a id="1644" href="Definition.Untyped.html#1275" class="Datatype">SigmaMode</a> <a id="1654" class="Symbol">→</a> <a id="1656" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1661" class="Symbol">(</a><a id="1662" class="Number">0</a> <a id="1664" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1666" class="Number">1</a> <a id="1668" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1670" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1672" class="Symbol">)</a>
  <a id="Kind.Prodkind"></a><a id="1676" href="Definition.Untyped.html#1676" class="InductiveConstructor">Prodkind</a>    <a id="1688" class="Symbol">:</a> <a id="1690" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1695" class="Symbol">(</a><a id="1696" class="Number">0</a> <a id="1698" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1700" class="Number">0</a> <a id="1702" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1704" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1706" class="Symbol">)</a>
  <a id="Kind.Fstkind"></a><a id="1710" href="Definition.Untyped.html#1710" class="InductiveConstructor">Fstkind</a>     <a id="1722" class="Symbol">:</a> <a id="1724" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1729" class="Symbol">(</a><a id="1730" class="Number">0</a> <a id="1732" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1734" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1736" class="Symbol">)</a>
  <a id="Kind.Sndkind"></a><a id="1740" href="Definition.Untyped.html#1740" class="InductiveConstructor">Sndkind</a>     <a id="1752" class="Symbol">:</a> <a id="1754" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1759" class="Symbol">(</a><a id="1760" class="Number">0</a> <a id="1762" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1764" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1766" class="Symbol">)</a>
  <a id="Kind.Prodreckind"></a><a id="1770" href="Definition.Untyped.html#1770" class="InductiveConstructor">Prodreckind</a> <a id="1782" class="Symbol">:</a> <a id="1784" class="Symbol">(</a><a id="1785" href="Definition.Untyped.html#1785" class="Bound">p</a> <a id="1787" class="Symbol">:</a> <a id="1789" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1790" class="Symbol">)</a> <a id="1792" class="Symbol">→</a> <a id="1794" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1799" class="Symbol">(</a><a id="1800" class="Number">1</a> <a id="1802" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1804" class="Number">0</a> <a id="1806" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1808" class="Number">2</a> <a id="1810" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1812" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1814" class="Symbol">)</a>

  <a id="Kind.Natkind"></a><a id="1819" href="Definition.Untyped.html#1819" class="InductiveConstructor">Natkind</a>    <a id="1830" class="Symbol">:</a> <a id="1832" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1837" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Kind.Zerokind"></a><a id="1842" href="Definition.Untyped.html#1842" class="InductiveConstructor">Zerokind</a>   <a id="1853" class="Symbol">:</a> <a id="1855" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1860" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Kind.Suckind"></a><a id="1865" href="Definition.Untyped.html#1865" class="InductiveConstructor">Suckind</a>    <a id="1876" class="Symbol">:</a> <a id="1878" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1883" class="Symbol">(</a><a id="1884" class="Number">0</a> <a id="1886" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1888" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1890" class="Symbol">)</a>
  <a id="Kind.Natreckind"></a><a id="1894" href="Definition.Untyped.html#1894" class="InductiveConstructor">Natreckind</a> <a id="1905" class="Symbol">:</a> <a id="1907" class="Symbol">(</a><a id="1908" href="Definition.Untyped.html#1908" class="Bound">p</a> <a id="1910" href="Definition.Untyped.html#1910" class="Bound">q</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Definition.Untyped.html#122" class="Bound">M</a><a id="1915" class="Symbol">)</a> <a id="1917" class="Symbol">→</a> <a id="1919" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1924" class="Symbol">(</a><a id="1925" class="Number">1</a> <a id="1927" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1929" class="Number">0</a> <a id="1931" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1933" class="Number">2</a> <a id="1935" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1937" class="Number">0</a> <a id="1939" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1941" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1943" class="Symbol">)</a>

  <a id="Kind.Unitkind"></a><a id="1948" href="Definition.Untyped.html#1948" class="InductiveConstructor">Unitkind</a> <a id="1957" class="Symbol">:</a> <a id="1959" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1964" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Kind.Starkind"></a><a id="1969" href="Definition.Untyped.html#1969" class="InductiveConstructor">Starkind</a> <a id="1978" class="Symbol">:</a> <a id="1980" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="1985" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="Kind.Emptykind"></a><a id="1991" href="Definition.Untyped.html#1991" class="InductiveConstructor">Emptykind</a>    <a id="2004" class="Symbol">:</a> <a id="2006" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="2011" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Kind.Emptyreckind"></a><a id="2016x" href="Definition.Untyped.html#2016x" class="InductiveConstructor">Emptyreckind</a> <a id="2029" class="Symbol">:</a> <a id="2031" class="Symbol">(</a><a id="2032" href="Definition.Untyped.html#2032" class="Bound">p</a> <a id="2034" class="Symbol">:</a> <a id="2036" href="Definition.Untyped.html#122" class="Bound">M</a><a id="2037" class="Symbol">)</a> <a id="2039" class="Symbol">→</a> <a id="2041" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="2046" class="Symbol">(</a><a id="2047" class="Number">0</a> <a id="2049" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2051" class="Number">0</a> <a id="2053" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2055" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2057" class="Symbol">)</a>

<a id="2060" class="Comment">-- Terms are indexed by its number of unbound variables and are either:</a>
<a id="2132" class="Comment">-- de Bruijn style variables or</a>
<a id="2164" class="Comment">-- generic terms, formed by their kind and sub terms</a>

<a id="2218" class="Keyword">data</a> <a id="Term"></a><a id="2016"></a><a id="2223" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2228" class="Symbol">(</a><a id="2229" href="Definition.Untyped.html#2229" class="Bound">n</a> <a id="2231" class="Symbol">:</a> <a id="2233" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="2236" class="Symbol">)</a> <a id="2238" class="Symbol">:</a> <a id="2240" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2244" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="2246" class="Keyword">where</a>
  <a id="Term.var"></a><a id="2254" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="2258" class="Symbol">:</a> <a id="2260" class="Symbol">(</a><a id="2261" href="Definition.Untyped.html#2261" class="Bound">x</a> <a id="2263" class="Symbol">:</a> <a id="2265" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="2269" href="Definition.Untyped.html#2229" class="Bound">n</a><a id="2270" class="Symbol">)</a> <a id="2272" class="Symbol">→</a> <a id="2274" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2279" href="Definition.Untyped.html#2229" class="Bound">n</a>
  <a id="Term.gen"></a><a id="2283" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="2287" class="Symbol">:</a> <a id="2289" class="Symbol">{</a><a id="2290" href="Definition.Untyped.html#2290" class="Bound">bs</a> <a id="2293" class="Symbol">:</a> <a id="2295" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2300" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="2303" class="Symbol">}</a> <a id="2305" class="Symbol">(</a><a id="2306" href="Definition.Untyped.html#2306" class="Bound">k</a> <a id="2308" class="Symbol">:</a> <a id="2310" href="Definition.Untyped.html#1439" class="Datatype">Kind</a> <a id="2315" href="Definition.Untyped.html#2290" class="Bound">bs</a><a id="2317" class="Symbol">)</a> <a id="2319" class="Symbol">(</a><a id="2320" href="Definition.Untyped.html#2320" class="Bound">ts</a> <a id="2323" class="Symbol">:</a> <a id="2325" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="2331" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2336" href="Definition.Untyped.html#2229" class="Bound">n</a> <a id="2338" href="Definition.Untyped.html#2290" class="Bound">bs</a><a id="2340" class="Symbol">)</a> <a id="2342" class="Symbol">→</a> <a id="2344" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2349" href="Definition.Untyped.html#2229" class="Bound">n</a>

<a id="2352" class="Keyword">private</a>
  <a id="2362" class="Keyword">variable</a>
    <a id="2375" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="2377" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="2379" href="Definition.Untyped.html#2379" class="Generalizable">H</a> <a id="2381" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="2383" href="Definition.Untyped.html#2383" class="Generalizable">u</a> <a id="2385" href="Definition.Untyped.html#2385" class="Generalizable">v</a> <a id="2387" class="Symbol">:</a> <a id="2389" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2394" href="Definition.Untyped.html#312" class="Generalizable">n</a>
    <a id="2400" href="Definition.Untyped.html#2400" class="Generalizable">B</a> <a id="2402" href="Definition.Untyped.html#2402" class="Generalizable">E</a> <a id="2404" href="Definition.Untyped.html#2404" class="Generalizable">G</a> <a id="2406" href="Definition.Untyped.html#2406" class="Generalizable">t′</a>    <a id="2412" class="Symbol">:</a> <a id="2414" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2419" class="Symbol">(</a><a id="2420" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="2423" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="2424" class="Symbol">)</a>

<a id="2427" class="Comment">-- The Grammar of our language.</a>

<a id="2460" class="Comment">-- We represent the expressions of our language as de Bruijn terms.</a>
<a id="2528" class="Comment">-- Variables are natural numbers interpreted as de Bruijn indices.</a>
<a id="2595" class="Comment">-- Π, lam, and natrec are binders.</a>

<a id="2631" class="Comment">-- Type constructors.</a>
<a id="U"></a><a id="2653" href="Definition.Untyped.html#2653" class="Function">U</a>      <a id="2660" class="Symbol">:</a> <a id="2662" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2667" href="Definition.Untyped.html#312" class="Generalizable">n</a>                      <a id="2690" class="Comment">-- Universe.</a>
<a id="2703" href="Definition.Untyped.html#2653" class="Function">U</a> <a id="2705" class="Symbol">=</a> <a id="2707" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="2711" href="Definition.Untyped.html#1478" class="InductiveConstructor">Ukind</a> <a id="2717" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="Π_,_▷_▹_"></a><a id="2721" href="Definition.Untyped.html#2721" class="Function Operator">Π_,_▷_▹_</a> <a id="2730" class="Symbol">:</a> <a id="2732" class="Symbol">(</a><a id="2733" href="Definition.Untyped.html#2733" class="Bound">p</a> <a id="2735" href="Definition.Untyped.html#2735" class="Bound">q</a> <a id="2737" class="Symbol">:</a> <a id="2739" href="Definition.Untyped.html#122" class="Bound">M</a><a id="2740" class="Symbol">)</a> <a id="2742" class="Symbol">(</a><a id="2743" href="Definition.Untyped.html#2743" class="Bound">A</a> <a id="2745" class="Symbol">:</a> <a id="2747" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2752" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="2753" class="Symbol">)</a> <a id="2755" class="Symbol">(</a><a id="2756" href="Definition.Untyped.html#2756" class="Bound">B</a> <a id="2758" class="Symbol">:</a> <a id="2760" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2765" class="Symbol">(</a><a id="2766" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="2769" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="2770" class="Symbol">))</a> <a id="2773" class="Symbol">→</a> <a id="2775" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2780" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="2782" class="Comment">-- Dependent function type (B is a binder).</a>
<a id="2826" href="Definition.Untyped.html#2721" class="Function Operator">Π</a> <a id="2828" href="Definition.Untyped.html#2828" class="Bound">p</a> <a id="2830" href="Definition.Untyped.html#2721" class="Function Operator">,</a> <a id="2832" href="Definition.Untyped.html#2832" class="Bound">q</a> <a id="2834" href="Definition.Untyped.html#2721" class="Function Operator">▷</a> <a id="2836" href="Definition.Untyped.html#2836" class="Bound">A</a> <a id="2838" href="Definition.Untyped.html#2721" class="Function Operator">▹</a> <a id="2840" href="Definition.Untyped.html#2840" class="Bound">B</a> <a id="2842" class="Symbol">=</a> <a id="2844" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="2848" class="Symbol">(</a><a id="2849" href="Definition.Untyped.html#1497" class="InductiveConstructor">Pikind</a> <a id="2856" href="Definition.Untyped.html#2828" class="Bound">p</a> <a id="2858" href="Definition.Untyped.html#2832" class="Bound">q</a><a id="2859" class="Symbol">)</a> <a id="2861" class="Symbol">(</a><a id="2862" href="Definition.Untyped.html#2836" class="Bound">A</a> <a id="2864" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="2866" href="Definition.Untyped.html#2840" class="Bound">B</a> <a id="2868" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="2870" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="2872" class="Symbol">)</a>

<a id="Σᵣ_▷_▹_"></a><a id="2875" href="Definition.Untyped.html#2875" class="Function Operator">Σᵣ_▷_▹_</a> <a id="2883" class="Symbol">:</a> <a id="2885" class="Symbol">(</a><a id="2886" href="Definition.Untyped.html#2886" class="Bound">p</a> <a id="2888" class="Symbol">:</a> <a id="2890" href="Definition.Untyped.html#122" class="Bound">M</a><a id="2891" class="Symbol">)</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Definition.Untyped.html#2894" class="Bound">A</a> <a id="2896" class="Symbol">:</a> <a id="2898" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2903" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="2904" class="Symbol">)</a> <a id="2906" class="Symbol">(</a><a id="2907" href="Definition.Untyped.html#2907" class="Bound">B</a> <a id="2909" class="Symbol">:</a> <a id="2911" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2916" class="Symbol">(</a><a id="2917" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="2920" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="2921" class="Symbol">))</a> <a id="2924" class="Symbol">→</a> <a id="2926" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="2931" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="2933" class="Comment">-- Dependent sum type (B is a binder).</a>
<a id="2972" href="Definition.Untyped.html#2875" class="Function Operator">Σᵣ</a> <a id="2975" href="Definition.Untyped.html#2975" class="Bound">q</a> <a id="2977" href="Definition.Untyped.html#2875" class="Function Operator">▷</a> <a id="2979" href="Definition.Untyped.html#2979" class="Bound">A</a> <a id="2981" href="Definition.Untyped.html#2875" class="Function Operator">▹</a> <a id="2983" href="Definition.Untyped.html#2983" class="Bound">B</a> <a id="2985" class="Symbol">=</a> <a id="2987" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Definition.Untyped.html#1620" class="InductiveConstructor">Sigmakind</a> <a id="3002" href="Definition.Untyped.html#2975" class="Bound">q</a> <a id="3004" href="Definition.Untyped.html#1302" class="InductiveConstructor">Σᵣ</a><a id="3006" class="Symbol">)</a> <a id="3008" class="Symbol">(</a><a id="3009" href="Definition.Untyped.html#2979" class="Bound">A</a> <a id="3011" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3013" href="Definition.Untyped.html#2983" class="Bound">B</a> <a id="3015" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3017" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3019" class="Symbol">)</a>

<a id="Σₚ_▷_▹_"></a><a id="3022" href="Definition.Untyped.html#3022" class="Function Operator">Σₚ_▷_▹_</a> <a id="3030" class="Symbol">:</a> <a id="3032" class="Symbol">(</a><a id="3033" href="Definition.Untyped.html#3033" class="Bound">p</a> <a id="3035" class="Symbol">:</a> <a id="3037" href="Definition.Untyped.html#122" class="Bound">M</a><a id="3038" class="Symbol">)</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Definition.Untyped.html#3041" class="Bound">A</a> <a id="3043" class="Symbol">:</a> <a id="3045" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3050" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3051" class="Symbol">)</a> <a id="3053" class="Symbol">(</a><a id="3054" href="Definition.Untyped.html#3054" class="Bound">B</a> <a id="3056" class="Symbol">:</a> <a id="3058" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3063" class="Symbol">(</a><a id="3064" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="3067" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3068" class="Symbol">))</a> <a id="3071" class="Symbol">→</a> <a id="3073" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3078" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="3080" class="Comment">-- Dependent sum type (B is a binder).</a>
<a id="3119" href="Definition.Untyped.html#3022" class="Function Operator">Σₚ</a> <a id="3122" href="Definition.Untyped.html#3122" class="Bound">q</a> <a id="3124" href="Definition.Untyped.html#3022" class="Function Operator">▷</a> <a id="3126" href="Definition.Untyped.html#3126" class="Bound">A</a> <a id="3128" href="Definition.Untyped.html#3022" class="Function Operator">▹</a> <a id="3130" href="Definition.Untyped.html#3130" class="Bound">B</a> <a id="3132" class="Symbol">=</a> <a id="3134" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3138" class="Symbol">(</a><a id="3139" href="Definition.Untyped.html#1620" class="InductiveConstructor">Sigmakind</a> <a id="3149" href="Definition.Untyped.html#3122" class="Bound">q</a> <a id="3151" href="Definition.Untyped.html#1299" class="InductiveConstructor">Σₚ</a><a id="3153" class="Symbol">)</a> <a id="3155" class="Symbol">(</a><a id="3156" href="Definition.Untyped.html#3126" class="Bound">A</a> <a id="3158" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3160" href="Definition.Untyped.html#3130" class="Bound">B</a> <a id="3162" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3164" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3166" class="Symbol">)</a>

<a id="ℕ"></a><a id="3169" href="Definition.Untyped.html#3169" class="Function">ℕ</a>      <a id="3176" class="Symbol">:</a> <a id="3178" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3183" href="Definition.Untyped.html#312" class="Generalizable">n</a>                      <a id="3206" class="Comment">-- Type of natural numbers.</a>
<a id="3234" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="3236" class="Symbol">=</a> <a id="3238" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3242" href="Definition.Untyped.html#1819" class="InductiveConstructor">Natkind</a> <a id="3250" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="Empty"></a><a id="3254" href="Definition.Untyped.html#3254" class="Function">Empty</a> <a id="3260" class="Symbol">:</a> <a id="3262" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3267" href="Definition.Untyped.html#312" class="Generalizable">n</a>                       <a id="3291" class="Comment">-- Empty type</a>
<a id="3305" href="Definition.Untyped.html#3254" class="Function">Empty</a> <a id="3311" class="Symbol">=</a> <a id="3313" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3317" href="Definition.Untyped.html#1991" class="InductiveConstructor">Emptykind</a> <a id="3327" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="Unit"></a><a id="3331" href="Definition.Untyped.html#3331" class="Function">Unit</a>  <a id="3337" class="Symbol">:</a> <a id="3339" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3344" href="Definition.Untyped.html#312" class="Generalizable">n</a>                       <a id="3368" class="Comment">-- Unit type</a>
<a id="3381" href="Definition.Untyped.html#3331" class="Function">Unit</a> <a id="3386" class="Symbol">=</a> <a id="3388" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3392" href="Definition.Untyped.html#1948" class="InductiveConstructor">Unitkind</a> <a id="3401" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="lam"></a><a id="3405" href="Definition.Untyped.html#3405" class="Function">lam</a>    <a id="3412" class="Symbol">:</a> <a id="3414" class="Symbol">(</a><a id="3415" href="Definition.Untyped.html#3415" class="Bound">p</a> <a id="3417" class="Symbol">:</a> <a id="3419" href="Definition.Untyped.html#122" class="Bound">M</a><a id="3420" class="Symbol">)</a> <a id="3422" class="Symbol">(</a><a id="3423" href="Definition.Untyped.html#3423" class="Bound">t</a> <a id="3425" class="Symbol">:</a> <a id="3427" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3432" class="Symbol">(</a><a id="3433" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="3436" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3437" class="Symbol">))</a> <a id="3440" class="Symbol">→</a> <a id="3442" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3447" href="Definition.Untyped.html#312" class="Generalizable">n</a>  <a id="3450" class="Comment">-- Function abstraction (binder).</a>
<a id="3484" href="Definition.Untyped.html#3405" class="Function">lam</a> <a id="3488" href="Definition.Untyped.html#3488" class="Bound">p</a> <a id="3490" href="Definition.Untyped.html#3490" class="Bound">t</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3498" class="Symbol">(</a><a id="3499" href="Definition.Untyped.html#1539" class="InductiveConstructor">Lamkind</a> <a id="3507" href="Definition.Untyped.html#3488" class="Bound">p</a><a id="3508" class="Symbol">)</a> <a id="3510" class="Symbol">(</a><a id="3511" href="Definition.Untyped.html#3490" class="Bound">t</a> <a id="3513" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3515" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3517" class="Symbol">)</a>

<a id="_∘_▷_"></a><a id="3520" href="Definition.Untyped.html#3520" class="Function Operator">_∘_▷_</a>    <a id="3529" class="Symbol">:</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Definition.Untyped.html#3532" class="Bound">t</a> <a id="3534" class="Symbol">:</a> <a id="3536" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3541" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3542" class="Symbol">)</a> <a id="3544" class="Symbol">(</a><a id="3545" href="Definition.Untyped.html#3545" class="Bound">p</a> <a id="3547" class="Symbol">:</a> <a id="3549" href="Definition.Untyped.html#122" class="Bound">M</a><a id="3550" class="Symbol">)</a> <a id="3552" class="Symbol">(</a><a id="3553" href="Definition.Untyped.html#3553" class="Bound">u</a> <a id="3555" class="Symbol">:</a> <a id="3557" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3562" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3563" class="Symbol">)</a> <a id="3565" class="Symbol">→</a> <a id="3567" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3572" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="3574" class="Comment">-- Application.</a>
<a id="3590" href="Definition.Untyped.html#3590" class="Bound">t</a> <a id="3592" href="Definition.Untyped.html#3520" class="Function Operator">∘</a> <a id="3594" href="Definition.Untyped.html#3594" class="Bound">p</a> <a id="3596" href="Definition.Untyped.html#3520" class="Function Operator">▷</a> <a id="3598" href="Definition.Untyped.html#3598" class="Bound">u</a> <a id="3600" class="Symbol">=</a> <a id="3602" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3606" class="Symbol">(</a><a id="3607" href="Definition.Untyped.html#1577" class="InductiveConstructor">Appkind</a> <a id="3615" href="Definition.Untyped.html#3594" class="Bound">p</a><a id="3616" class="Symbol">)</a> <a id="3618" class="Symbol">(</a><a id="3619" href="Definition.Untyped.html#3590" class="Bound">t</a> <a id="3621" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3623" href="Definition.Untyped.html#3598" class="Bound">u</a> <a id="3625" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3627" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3629" class="Symbol">)</a>


<a id="prod"></a><a id="3633" href="Definition.Untyped.html#3633" class="Function">prod</a> <a id="3638" class="Symbol">:</a> <a id="3640" class="Symbol">(</a><a id="3641" href="Definition.Untyped.html#3641" class="Bound">t</a> <a id="3643" href="Definition.Untyped.html#3643" class="Bound">u</a> <a id="3645" class="Symbol">:</a> <a id="3647" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3652" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3653" class="Symbol">)</a> <a id="3655" class="Symbol">→</a> <a id="3657" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3662" href="Definition.Untyped.html#312" class="Generalizable">n</a>       <a id="3670" class="Comment">-- Dependent products</a>
<a id="3692" href="Definition.Untyped.html#3633" class="Function">prod</a> <a id="3697" href="Definition.Untyped.html#3697" class="Bound">t</a> <a id="3699" href="Definition.Untyped.html#3699" class="Bound">u</a> <a id="3701" class="Symbol">=</a> <a id="3703" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3707" href="Definition.Untyped.html#1676" class="InductiveConstructor">Prodkind</a> <a id="3716" class="Symbol">(</a><a id="3717" href="Definition.Untyped.html#3697" class="Bound">t</a> <a id="3719" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3721" href="Definition.Untyped.html#3699" class="Bound">u</a> <a id="3723" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3725" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3727" class="Symbol">)</a>

<a id="fst"></a><a id="3730" href="Definition.Untyped.html#3730" class="Function">fst</a> <a id="3734" class="Symbol">:</a> <a id="3736" class="Symbol">(</a><a id="3737" href="Definition.Untyped.html#3737" class="Bound">t</a> <a id="3739" class="Symbol">:</a> <a id="3741" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3746" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3747" class="Symbol">)</a> <a id="3749" class="Symbol">→</a> <a id="3751" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3756" href="Definition.Untyped.html#312" class="Generalizable">n</a>          <a id="3767" class="Comment">-- First projection</a>
<a id="3787" href="Definition.Untyped.html#3730" class="Function">fst</a> <a id="3791" href="Definition.Untyped.html#3791" class="Bound">t</a> <a id="3793" class="Symbol">=</a> <a id="3795" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3799" href="Definition.Untyped.html#1710" class="InductiveConstructor">Fstkind</a> <a id="3807" class="Symbol">(</a><a id="3808" href="Definition.Untyped.html#3791" class="Bound">t</a> <a id="3810" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3812" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3814" class="Symbol">)</a>

<a id="snd"></a><a id="3817" href="Definition.Untyped.html#3817" class="Function">snd</a> <a id="3821" class="Symbol">:</a> <a id="3823" class="Symbol">(</a><a id="3824" href="Definition.Untyped.html#3824" class="Bound">t</a> <a id="3826" class="Symbol">:</a> <a id="3828" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3833" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3834" class="Symbol">)</a> <a id="3836" class="Symbol">→</a> <a id="3838" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3843" href="Definition.Untyped.html#312" class="Generalizable">n</a>          <a id="3854" class="Comment">-- Second projection</a>
<a id="3875" href="Definition.Untyped.html#3817" class="Function">snd</a> <a id="3879" href="Definition.Untyped.html#3879" class="Bound">t</a> <a id="3881" class="Symbol">=</a> <a id="3883" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="3887" href="Definition.Untyped.html#1740" class="InductiveConstructor">Sndkind</a> <a id="3895" class="Symbol">(</a><a id="3896" href="Definition.Untyped.html#3879" class="Bound">t</a> <a id="3898" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="3900" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="3902" class="Symbol">)</a>

<a id="prodrec"></a><a id="3905" href="Definition.Untyped.html#3905" class="Function">prodrec</a> <a id="3913" class="Symbol">:</a> <a id="3915" class="Symbol">(</a><a id="3916" href="Definition.Untyped.html#3916" class="Bound">p</a> <a id="3918" class="Symbol">:</a> <a id="3920" href="Definition.Untyped.html#122" class="Bound">M</a><a id="3921" class="Symbol">)</a> <a id="3923" class="Symbol">(</a><a id="3924" href="Definition.Untyped.html#3924" class="Bound">A</a> <a id="3926" class="Symbol">:</a> <a id="3928" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3933" class="Symbol">(</a><a id="3934" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="3937" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3938" class="Symbol">))</a> <a id="3941" class="Symbol">(</a><a id="3942" href="Definition.Untyped.html#3942" class="Bound">t</a> <a id="3944" class="Symbol">:</a> <a id="3946" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3951" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3952" class="Symbol">)</a> <a id="3954" class="Symbol">(</a><a id="3955" href="Definition.Untyped.html#3955" class="Bound">u</a> <a id="3957" class="Symbol">:</a> <a id="3959" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="3968" class="Symbol">(</a><a id="3969" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="3972" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="3973" class="Symbol">)))</a> <a id="3977" class="Symbol">→</a> <a id="3979" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="3984" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="3986" href="Definition.Untyped.html#3905" class="Function">prodrec</a> <a id="3994" href="Definition.Untyped.html#3994" class="Bound">p</a> <a id="3996" href="Definition.Untyped.html#3996" class="Bound">A</a> <a id="3998" href="Definition.Untyped.html#3998" class="Bound">t</a> <a id="4000" href="Definition.Untyped.html#4000" class="Bound">u</a> <a id="4002" class="Symbol">=</a> <a id="4004" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4008" class="Symbol">(</a><a id="4009" href="Definition.Untyped.html#1770" class="InductiveConstructor">Prodreckind</a> <a id="4021" href="Definition.Untyped.html#3994" class="Bound">p</a><a id="4022" class="Symbol">)</a> <a id="4024" class="Symbol">(</a><a id="4025" href="Definition.Untyped.html#3996" class="Bound">A</a> <a id="4027" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4029" href="Definition.Untyped.html#3998" class="Bound">t</a> <a id="4031" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4033" href="Definition.Untyped.html#4000" class="Bound">u</a> <a id="4035" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4037" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="4039" class="Symbol">)</a>

<a id="4042" class="Comment">-- Introduction and elimination of natural numbers.</a>
<a id="zero"></a><a id="4094" href="Definition.Untyped.html#4094" class="Function">zero</a>   <a id="4101" class="Symbol">:</a> <a id="4103" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4108" href="Definition.Untyped.html#312" class="Generalizable">n</a>                      <a id="4131" class="Comment">-- Natural number zero.</a>
<a id="4155" href="Definition.Untyped.html#4094" class="Function">zero</a> <a id="4160" class="Symbol">=</a> <a id="4162" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4166" href="Definition.Untyped.html#1842" class="InductiveConstructor">Zerokind</a> <a id="4175" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="suc"></a><a id="4179" href="Definition.Untyped.html#4179" class="Function">suc</a>    <a id="4186" class="Symbol">:</a> <a id="4188" class="Symbol">(</a><a id="4189" href="Definition.Untyped.html#4189" class="Bound">t</a> <a id="4191" class="Symbol">:</a> <a id="4193" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4198" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4199" class="Symbol">)</a>       <a id="4207" class="Symbol">→</a> <a id="4209" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4214" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="4216" class="Comment">-- Successor.</a>
<a id="4230" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="4234" href="Definition.Untyped.html#4234" class="Bound">t</a> <a id="4236" class="Symbol">=</a> <a id="4238" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4242" href="Definition.Untyped.html#1865" class="InductiveConstructor">Suckind</a> <a id="4250" class="Symbol">(</a><a id="4251" href="Definition.Untyped.html#4234" class="Bound">t</a> <a id="4253" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4255" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="4257" class="Symbol">)</a>

<a id="natrec"></a><a id="4260" href="Definition.Untyped.html#4260" class="Function">natrec</a> <a id="4267" class="Symbol">:</a> <a id="4269" class="Symbol">(</a><a id="4270" href="Definition.Untyped.html#4270" class="Bound">p</a> <a id="4272" href="Definition.Untyped.html#4272" class="Bound">q</a> <a id="4274" class="Symbol">:</a> <a id="4276" href="Definition.Untyped.html#122" class="Bound">M</a><a id="4277" class="Symbol">)</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Definition.Untyped.html#4280" class="Bound">A</a> <a id="4282" class="Symbol">:</a> <a id="4284" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4289" class="Symbol">(</a><a id="4290" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="4293" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4294" class="Symbol">))</a> <a id="4297" class="Symbol">(</a><a id="4298" href="Definition.Untyped.html#4298" class="Bound">z</a> <a id="4300" class="Symbol">:</a> <a id="4302" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4307" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4308" class="Symbol">)</a>
         <a id="4319" class="Symbol">(</a><a id="4320" href="Definition.Untyped.html#4320" class="Bound">s</a> <a id="4322" class="Symbol">:</a> <a id="4324" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4329" class="Symbol">(</a><a id="4330" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="4333" class="Symbol">(</a><a id="4334" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="4337" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4338" class="Symbol">)))</a> <a id="4342" class="Symbol">(</a><a id="4343" href="Definition.Untyped.html#4343" class="Bound">t</a> <a id="4345" class="Symbol">:</a> <a id="4347" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4352" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4353" class="Symbol">)</a> <a id="4355" class="Symbol">→</a> <a id="4357" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4362" href="Definition.Untyped.html#312" class="Generalizable">n</a>  <a id="4365" class="Comment">-- Natural number recursor (A is a binder).</a>
<a id="4409" href="Definition.Untyped.html#4260" class="Function">natrec</a> <a id="4416" href="Definition.Untyped.html#4416" class="Bound">p</a> <a id="4418" href="Definition.Untyped.html#4418" class="Bound">q</a> <a id="4420" href="Definition.Untyped.html#4420" class="Bound">A</a> <a id="4422" href="Definition.Untyped.html#4422" class="Bound">z</a> <a id="4424" href="Definition.Untyped.html#4424" class="Bound">s</a> <a id="4426" href="Definition.Untyped.html#4426" class="Bound">n</a> <a id="4428" class="Symbol">=</a> <a id="4430" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4434" class="Symbol">(</a><a id="4435" href="Definition.Untyped.html#1894" class="InductiveConstructor">Natreckind</a> <a id="4446" href="Definition.Untyped.html#4416" class="Bound">p</a> <a id="4448" href="Definition.Untyped.html#4418" class="Bound">q</a><a id="4449" class="Symbol">)</a> <a id="4451" class="Symbol">(</a><a id="4452" href="Definition.Untyped.html#4420" class="Bound">A</a> <a id="4454" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4456" href="Definition.Untyped.html#4422" class="Bound">z</a> <a id="4458" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4460" href="Definition.Untyped.html#4424" class="Bound">s</a> <a id="4462" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4464" href="Definition.Untyped.html#4426" class="Bound">n</a> <a id="4466" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4468" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="4470" class="Symbol">)</a>


<a id="star"></a><a id="4474" href="Definition.Untyped.html#4474" class="Function">star</a> <a id="4479" class="Symbol">:</a> <a id="4481" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4486" href="Definition.Untyped.html#312" class="Generalizable">n</a>                        <a id="4511" class="Comment">-- Unit element</a>
<a id="4527" href="Definition.Untyped.html#4474" class="Function">star</a> <a id="4532" class="Symbol">=</a> <a id="4534" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4538" href="Definition.Untyped.html#1969" class="InductiveConstructor">Starkind</a> <a id="4547" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>

<a id="Emptyrec"></a><a id="4551" href="Definition.Untyped.html#4551" class="Function">Emptyrec</a> <a id="4560" class="Symbol">:</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Definition.Untyped.html#4563" class="Bound">p</a> <a id="4565" class="Symbol">:</a> <a id="4567" href="Definition.Untyped.html#122" class="Bound">M</a><a id="4568" class="Symbol">)</a> <a id="4570" class="Symbol">(</a><a id="4571" href="Definition.Untyped.html#4571" class="Bound">A</a> <a id="4573" href="Definition.Untyped.html#4573" class="Bound">e</a> <a id="4575" class="Symbol">:</a> <a id="4577" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4582" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="4583" class="Symbol">)</a> <a id="4585" class="Symbol">→</a> <a id="4587" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="4592" href="Definition.Untyped.html#312" class="Generalizable">n</a>   <a id="4596" class="Comment">-- Empty type recursor</a>
<a id="4619" href="Definition.Untyped.html#4551" class="Function">Emptyrec</a> <a id="4628" href="Definition.Untyped.html#4628" class="Bound">p</a> <a id="4630" href="Definition.Untyped.html#4630" class="Bound">A</a> <a id="4632" href="Definition.Untyped.html#4632" class="Bound">e</a> <a id="4634" class="Symbol">=</a> <a id="4636" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4640" class="Symbol">(</a><a id="4641" href="Definition.Untyped.html#2016x" class="InductiveConstructor">Emptyreckind</a> <a id="4654" href="Definition.Untyped.html#4628" class="Bound">p</a><a id="4655" class="Symbol">)</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Definition.Untyped.html#4630" class="Bound">A</a> <a id="4660" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4662" href="Definition.Untyped.html#4632" class="Bound">e</a> <a id="4664" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="4666" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a><a id="4668" class="Symbol">)</a>

<a id="4671" class="Comment">-- Binding types</a>

<a id="4689" class="Keyword">data</a> <a id="BindingType"></a><a id="4694" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a> <a id="4706" class="Symbol">:</a> <a id="4708" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4712" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="4714" class="Keyword">where</a>
  <a id="BindingType.BΠ"></a><a id="4722" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="4725" class="Symbol">:</a> <a id="4727" class="Symbol">(</a><a id="4728" href="Definition.Untyped.html#4728" class="Bound">p</a> <a id="4730" href="Definition.Untyped.html#4730" class="Bound">q</a> <a id="4732" class="Symbol">:</a> <a id="4734" href="Definition.Untyped.html#122" class="Bound">M</a><a id="4735" class="Symbol">)</a> <a id="4737" class="Symbol">→</a> <a id="4739" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a>
  <a id="BindingType.BΣ"></a><a id="4753" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="4756" class="Symbol">:</a> <a id="4758" class="Symbol">(</a><a id="4759" href="Definition.Untyped.html#4759" class="Bound">p</a> <a id="4761" class="Symbol">:</a> <a id="4763" href="Definition.Untyped.html#122" class="Bound">M</a><a id="4764" class="Symbol">)</a> <a id="4766" class="Symbol">→</a> <a id="4768" href="Definition.Untyped.html#1275" class="Datatype">SigmaMode</a> <a id="4778" class="Symbol">→</a> <a id="4780" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a>

<a id="4793" class="Keyword">pattern</a> <a id="BΠ!"></a><a id="4801" href="Definition.Untyped.html#4801" class="InductiveConstructor">BΠ!</a> <a id="4805" class="Symbol">=</a> <a id="4807" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="4810" class="Symbol">_</a> <a id="4812" class="Symbol">_</a>
<a id="4814" class="Keyword">pattern</a> <a id="BΣ!"></a><a id="4822" href="Definition.Untyped.html#4822" class="InductiveConstructor">BΣ!</a> <a id="4826" class="Symbol">=</a> <a id="4828" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="4831" class="Symbol">_</a> <a id="4833" class="Symbol">_</a>
<a id="4835" class="Keyword">pattern</a> <a id="BΣᵣ"></a><a id="4843" href="Definition.Untyped.html#4843" class="InductiveConstructor">BΣᵣ</a> <a id="4847" class="Symbol">=</a> <a id="4849" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="4852" class="Symbol">_</a> <a id="4854" href="Definition.Untyped.html#1302" class="InductiveConstructor">Σᵣ</a>
<a id="4857" class="Keyword">pattern</a> <a id="BΣₚ"></a><a id="4865" href="Definition.Untyped.html#4865" class="InductiveConstructor">BΣₚ</a> <a id="4869" class="Symbol">=</a> <a id="4871" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="4874" class="Symbol">_</a> <a id="4876" href="Definition.Untyped.html#1299" class="InductiveConstructor">Σₚ</a>
<a id="4879" class="Keyword">pattern</a> <a id="Σ_▷_▹_"></a><a id="4887" href="Definition.Untyped.html#4887" class="InductiveConstructor Operator">Σ_▷_▹_</a> <a id="4894" href="Definition.Untyped.html#4917" class="Bound">q</a> <a id="4896" href="Definition.Untyped.html#4923" class="Bound">A</a> <a id="4898" href="Definition.Untyped.html#4927" class="Bound">B</a> <a id="4900" class="Symbol">=</a> <a id="4902" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4906" class="Symbol">(</a><a id="4907" href="Definition.Untyped.html#1620" class="InductiveConstructor">Sigmakind</a> <a id="4917" href="Definition.Untyped.html#4917" class="Bound">q</a> <a id="4919" class="Symbol">_)</a> <a id="4922" class="Symbol">(</a><a id="4923" href="Definition.Untyped.html#4923" class="Bound">A</a> <a id="4925" class="InductiveConstructor Operator">∷</a> <a id="4927" href="Definition.Untyped.html#4927" class="Bound">B</a> <a id="4929" class="InductiveConstructor Operator">∷</a> <a id="4931" class="InductiveConstructor">[]</a><a id="4933" class="Symbol">)</a>
<a id="4935" class="Keyword">pattern</a> <a id="Σ⟨_⟩_▷_▹_"></a><a id="4943" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">Σ⟨_⟩_▷_▹_</a> <a id="4953" href="Definition.Untyped.html#4980" class="Bound">m</a> <a id="4955" href="Definition.Untyped.html#4978" class="Bound">q</a> <a id="4957" href="Definition.Untyped.html#4984" class="Bound">A</a> <a id="4959" href="Definition.Untyped.html#4988" class="Bound">B</a> <a id="4961" class="Symbol">=</a> <a id="4963" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="4967" class="Symbol">(</a><a id="4968" href="Definition.Untyped.html#1620" class="InductiveConstructor">Sigmakind</a> <a id="4978" href="Definition.Untyped.html#4978" class="Bound">q</a> <a id="4980" href="Definition.Untyped.html#4980" class="Bound">m</a><a id="4981" class="Symbol">)</a> <a id="4983" class="Symbol">(</a><a id="4984" href="Definition.Untyped.html#4984" class="Bound">A</a> <a id="4986" class="InductiveConstructor Operator">∷</a> <a id="4988" href="Definition.Untyped.html#4988" class="Bound">B</a> <a id="4990" class="InductiveConstructor Operator">∷</a> <a id="4992" class="InductiveConstructor">[]</a><a id="4994" class="Symbol">)</a>

<a id="⟦_⟧_▹_"></a><a id="4997" href="Definition.Untyped.html#4997" class="Function Operator">⟦_⟧_▹_</a> <a id="5004" class="Symbol">:</a> <a id="5006" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a> <a id="5018" class="Symbol">→</a> <a id="5020" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="5025" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="5027" class="Symbol">→</a> <a id="5029" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="5034" class="Symbol">(</a><a id="5035" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="5038" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="5039" class="Symbol">)</a> <a id="5041" class="Symbol">→</a> <a id="5043" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="5048" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="5050" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="5052" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="5055" href="Definition.Untyped.html#5055" class="Bound">p</a> <a id="5057" href="Definition.Untyped.html#5057" class="Bound">q</a> <a id="5059" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="5061" href="Definition.Untyped.html#5061" class="Bound">F</a> <a id="5063" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="5065" href="Definition.Untyped.html#5065" class="Bound">G</a> <a id="5067" class="Symbol">=</a> <a id="5069" href="Definition.Untyped.html#2721" class="Function Operator">Π</a> <a id="5071" href="Definition.Untyped.html#5055" class="Bound">p</a> <a id="5073" href="Definition.Untyped.html#2721" class="Function Operator">,</a> <a id="5075" href="Definition.Untyped.html#5057" class="Bound">q</a> <a id="5077" href="Definition.Untyped.html#2721" class="Function Operator">▷</a> <a id="5079" href="Definition.Untyped.html#5061" class="Bound">F</a> <a id="5081" href="Definition.Untyped.html#2721" class="Function Operator">▹</a> <a id="5083" href="Definition.Untyped.html#5065" class="Bound">G</a>
<a id="5085" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="5087" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="5090" href="Definition.Untyped.html#5090" class="Bound">q</a> <a id="5092" href="Definition.Untyped.html#5092" class="Bound">m</a> <a id="5094" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="5096" href="Definition.Untyped.html#5096" class="Bound">F</a> <a id="5098" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="5100" href="Definition.Untyped.html#5100" class="Bound">G</a> <a id="5102" class="Symbol">=</a> <a id="5104" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">Σ⟨</a> <a id="5107" href="Definition.Untyped.html#5092" class="Bound">m</a> <a id="5109" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">⟩</a> <a id="5111" href="Definition.Untyped.html#5090" class="Bound">q</a> <a id="5113" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▷</a> <a id="5115" href="Definition.Untyped.html#5096" class="Bound">F</a> <a id="5117" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▹</a> <a id="5119" href="Definition.Untyped.html#5100" class="Bound">G</a>

<a id="5122" class="Comment">-- Injectivity of term constructors w.r.t. propositional equality.</a>

<a id="5190" class="Comment">-- If  W F G = W&#39; H E  then  F = H,  G = E and W = W&#39;.</a>

<a id="B-PE-injectivity"></a><a id="5246" href="Definition.Untyped.html#5246" class="Function">B-PE-injectivity</a> <a id="5263" class="Symbol">:</a> <a id="5265" class="Symbol">∀</a> <a id="5267" href="Definition.Untyped.html#5267" class="Bound">W</a> <a id="5269" href="Definition.Untyped.html#5269" class="Bound">W&#39;</a> <a id="5272" class="Symbol">→</a> <a id="5274" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="5276" href="Definition.Untyped.html#5267" class="Bound">W</a> <a id="5278" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="5280" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="5282" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="5284" href="Definition.Untyped.html#2404" class="Generalizable">G</a> <a id="5286" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5291" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="5293" href="Definition.Untyped.html#5269" class="Bound">W&#39;</a> <a id="5296" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="5298" href="Definition.Untyped.html#2379" class="Generalizable">H</a> <a id="5300" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="5302" href="Definition.Untyped.html#2402" class="Generalizable">E</a>
                 <a id="5321" class="Symbol">→</a> <a id="5323" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="5325" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5330" href="Definition.Untyped.html#2379" class="Generalizable">H</a> <a id="5332" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5334" href="Definition.Untyped.html#2404" class="Generalizable">G</a> <a id="5336" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5341" href="Definition.Untyped.html#2402" class="Generalizable">E</a> <a id="5343" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5345" href="Definition.Untyped.html#5267" class="Bound">W</a> <a id="5347" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5352" href="Definition.Untyped.html#5269" class="Bound">W&#39;</a>
<a id="5355" href="Definition.Untyped.html#5246" class="Function">B-PE-injectivity</a> <a id="5372" class="Symbol">(</a><a id="5373" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="5376" href="Definition.Untyped.html#5376" class="Bound">p</a> <a id="5378" href="Definition.Untyped.html#5378" class="Bound">q</a><a id="5379" class="Symbol">)</a> <a id="5381" class="Symbol">(</a><a id="5382" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="5385" class="DottedPattern Symbol">.</a><a id="5386" href="Definition.Untyped.html#5376" class="DottedPattern Bound">p</a> <a id="5388" class="DottedPattern Symbol">.</a><a id="5389" href="Definition.Untyped.html#5378" class="DottedPattern Bound">q</a><a id="5390" class="Symbol">)</a> <a id="5392" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5400" class="Symbol">=</a> <a id="5402" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5410" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5412" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5420" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5422" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>
<a id="5430" href="Definition.Untyped.html#5246" class="Function">B-PE-injectivity</a> <a id="5447" class="Symbol">(</a><a id="5448" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="5451" href="Definition.Untyped.html#5451" class="Bound">q</a> <a id="5453" href="Definition.Untyped.html#5453" class="Bound">m</a><a id="5454" class="Symbol">)</a> <a id="5456" class="Symbol">(</a><a id="5457" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="5460" class="DottedPattern Symbol">.</a><a id="5461" href="Definition.Untyped.html#5451" class="DottedPattern Bound">q</a> <a id="5463" class="DottedPattern Symbol">.</a><a id="5464" href="Definition.Untyped.html#5453" class="DottedPattern Bound">m</a><a id="5465" class="Symbol">)</a> <a id="5467" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5475" class="Symbol">=</a> <a id="5477" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5485" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5487" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5495" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5497" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="BΠ-PE-injectivity"></a><a id="5506" href="Definition.Untyped.html#5506" class="Function">BΠ-PE-injectivity</a> <a id="5524" class="Symbol">:</a> <a id="5526" class="Symbol">∀</a> <a id="5528" class="Symbol">{</a><a id="5529" href="Definition.Untyped.html#5529" class="Bound">p</a> <a id="5531" href="Definition.Untyped.html#5531" class="Bound">p′</a> <a id="5534" href="Definition.Untyped.html#5534" class="Bound">q</a> <a id="5536" href="Definition.Untyped.html#5536" class="Bound">q′</a><a id="5538" class="Symbol">}</a> <a id="5540" class="Symbol">→</a> <a id="5542" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="5545" href="Definition.Untyped.html#5529" class="Bound">p</a> <a id="5547" href="Definition.Untyped.html#5534" class="Bound">q</a> <a id="5549" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5554" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="5557" href="Definition.Untyped.html#5531" class="Bound">p′</a> <a id="5560" href="Definition.Untyped.html#5536" class="Bound">q′</a> <a id="5563" class="Symbol">→</a> <a id="5565" href="Definition.Untyped.html#5529" class="Bound">p</a> <a id="5567" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5572" href="Definition.Untyped.html#5531" class="Bound">p′</a> <a id="5575" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5577" href="Definition.Untyped.html#5534" class="Bound">q</a> <a id="5579" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5584" href="Definition.Untyped.html#5536" class="Bound">q′</a>
<a id="5587" href="Definition.Untyped.html#5506" class="Function">BΠ-PE-injectivity</a> <a id="5605" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5613" class="Symbol">=</a> <a id="5615" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5623" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5625" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="BΣ-PE-injectivity"></a><a id="5634" href="Definition.Untyped.html#5634" class="Function">BΣ-PE-injectivity</a> <a id="5652" class="Symbol">:</a> <a id="5654" class="Symbol">∀</a> <a id="5656" class="Symbol">{</a><a id="5657" href="Definition.Untyped.html#5657" class="Bound">q</a> <a id="5659" href="Definition.Untyped.html#5659" class="Bound">q′</a> <a id="5662" href="Definition.Untyped.html#5662" class="Bound">m</a> <a id="5664" href="Definition.Untyped.html#5664" class="Bound">m′</a><a id="5666" class="Symbol">}</a> <a id="5668" class="Symbol">→</a> <a id="5670" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="5673" href="Definition.Untyped.html#5657" class="Bound">q</a> <a id="5675" href="Definition.Untyped.html#5662" class="Bound">m</a> <a id="5677" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5682" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="5685" href="Definition.Untyped.html#5659" class="Bound">q′</a> <a id="5688" href="Definition.Untyped.html#5664" class="Bound">m′</a> <a id="5691" class="Symbol">→</a> <a id="5693" href="Definition.Untyped.html#5657" class="Bound">q</a> <a id="5695" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5700" href="Definition.Untyped.html#5659" class="Bound">q′</a> <a id="5703" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5705" href="Definition.Untyped.html#5662" class="Bound">m</a> <a id="5707" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5712" href="Definition.Untyped.html#5664" class="Bound">m′</a>
<a id="5715" href="Definition.Untyped.html#5634" class="Function">BΣ-PE-injectivity</a> <a id="5733" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5741" class="Symbol">=</a> <a id="5743" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5751" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5753" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="5762" class="Comment">-- If  suc n = suc m  then  n = m.</a>

<a id="suc-PE-injectivity"></a><a id="5798" href="Definition.Untyped.html#5798" class="Function">suc-PE-injectivity</a> <a id="5817" class="Symbol">:</a> <a id="5819" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="5823" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="5825" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5830" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="5834" href="Definition.Untyped.html#2383" class="Generalizable">u</a> <a id="5836" class="Symbol">→</a> <a id="5838" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="5840" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="5845" href="Definition.Untyped.html#2383" class="Generalizable">u</a>
<a id="5847" href="Definition.Untyped.html#5798" class="Function">suc-PE-injectivity</a> <a id="5866" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a> <a id="5874" class="Symbol">=</a> <a id="5876" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>


<a id="5886" class="Comment">-- Neutral terms.</a>

<a id="5905" class="Comment">-- A term is neutral if it has a variable in head position.</a>
<a id="5965" class="Comment">-- The variable blocks reduction of such terms.</a>

<a id="6014" class="Keyword">data</a> <a id="Neutral"></a><a id="6019" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6027" class="Symbol">:</a> <a id="6029" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="6034" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="6036" class="Symbol">→</a> <a id="6038" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6042" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="6044" class="Keyword">where</a>
  <a id="Neutral.var"></a><a id="6052" href="Definition.Untyped.html#6052" class="InductiveConstructor">var</a>       <a id="6062" class="Symbol">:</a> <a id="6064" class="Symbol">(</a><a id="6065" href="Definition.Untyped.html#6065" class="Bound">x</a> <a id="6067" class="Symbol">:</a> <a id="6069" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="6073" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="6074" class="Symbol">)</a> <a id="6076" class="Symbol">→</a> <a id="6078" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6086" class="Symbol">(</a><a id="6087" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="6091" href="Definition.Untyped.html#6065" class="Bound">x</a><a id="6092" class="Symbol">)</a>
  <a id="Neutral.∘ₙ"></a><a id="6096" href="Definition.Untyped.html#6096" class="InductiveConstructor">∘ₙ</a>        <a id="6106" class="Symbol">:</a> <a id="6108" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6116" href="Definition.Untyped.html#2381" class="Generalizable">t</a>   <a id="6120" class="Symbol">→</a> <a id="6122" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6130" class="Symbol">(</a><a id="6131" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="6133" href="Definition.Untyped.html#3520" class="Function Operator">∘</a> <a id="6135" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6137" href="Definition.Untyped.html#3520" class="Function Operator">▷</a> <a id="6139" href="Definition.Untyped.html#2383" class="Generalizable">u</a><a id="6140" class="Symbol">)</a>
  <a id="Neutral.fstₙ"></a><a id="6144" href="Definition.Untyped.html#6144" class="InductiveConstructor">fstₙ</a>      <a id="6154" class="Symbol">:</a> <a id="6156" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6164" href="Definition.Untyped.html#2381" class="Generalizable">t</a>   <a id="6168" class="Symbol">→</a> <a id="6170" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6178" class="Symbol">(</a><a id="6179" href="Definition.Untyped.html#3730" class="Function">fst</a> <a id="6183" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="6184" class="Symbol">)</a>
  <a id="Neutral.sndₙ"></a><a id="6188" href="Definition.Untyped.html#6188" class="InductiveConstructor">sndₙ</a>      <a id="6198" class="Symbol">:</a> <a id="6200" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6208" href="Definition.Untyped.html#2381" class="Generalizable">t</a>   <a id="6212" class="Symbol">→</a> <a id="6214" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6222" class="Symbol">(</a><a id="6223" href="Definition.Untyped.html#3817" class="Function">snd</a> <a id="6227" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="6228" class="Symbol">)</a>
  <a id="Neutral.natrecₙ"></a><a id="6232" href="Definition.Untyped.html#6232" class="InductiveConstructor">natrecₙ</a>   <a id="6242" class="Symbol">:</a> <a id="6244" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6252" href="Definition.Untyped.html#2385" class="Generalizable">v</a>   <a id="6256" class="Symbol">→</a> <a id="6258" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6266" class="Symbol">(</a><a id="6267" href="Definition.Untyped.html#4260" class="Function">natrec</a> <a id="6274" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6276" href="Definition.Untyped.html#300" class="Generalizable">q</a> <a id="6278" href="Definition.Untyped.html#2404" class="Generalizable">G</a> <a id="6280" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="6282" href="Definition.Untyped.html#2383" class="Generalizable">u</a> <a id="6284" href="Definition.Untyped.html#2385" class="Generalizable">v</a><a id="6285" class="Symbol">)</a>
  <a id="Neutral.prodrecₙ"></a><a id="6289" href="Definition.Untyped.html#6289" class="InductiveConstructor">prodrecₙ</a>  <a id="6299" class="Symbol">:</a> <a id="6301" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6309" href="Definition.Untyped.html#2381" class="Generalizable">t</a>   <a id="6313" class="Symbol">→</a> <a id="6315" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6323" class="Symbol">(</a><a id="6324" href="Definition.Untyped.html#3905" class="Function">prodrec</a> <a id="6332" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6334" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="6336" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="6338" href="Definition.Untyped.html#2383" class="Generalizable">u</a><a id="6339" class="Symbol">)</a>
  <a id="Neutral.Emptyrecₙ"></a><a id="6343" href="Definition.Untyped.html#6343" class="InductiveConstructor">Emptyrecₙ</a> <a id="6353" class="Symbol">:</a> <a id="6355" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6363" href="Definition.Untyped.html#2381" class="Generalizable">t</a>   <a id="6367" class="Symbol">→</a> <a id="6369" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6377" class="Symbol">(</a><a id="6378" href="Definition.Untyped.html#4551" class="Function">Emptyrec</a> <a id="6387" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6389" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="6391" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="6392" class="Symbol">)</a>


<a id="6396" class="Comment">-- Weak head normal forms (whnfs).</a>

<a id="6432" class="Comment">-- These are the (lazy) values of our language.</a>

<a id="6481" class="Keyword">data</a> <a id="Whnf"></a><a id="6486" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6491" class="Symbol">{</a><a id="6492" href="Definition.Untyped.html#6492" class="Bound">n</a> <a id="6494" class="Symbol">:</a> <a id="6496" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="6499" class="Symbol">}</a> <a id="6501" class="Symbol">:</a> <a id="6503" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="6508" href="Definition.Untyped.html#6492" class="Bound">n</a> <a id="6510" class="Symbol">→</a> <a id="6512" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6516" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="6518" class="Keyword">where</a>

  <a id="6527" class="Comment">-- Type constructors are whnfs.</a>
  <a id="Whnf.Uₙ"></a><a id="6561" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a>     <a id="6568" class="Symbol">:</a> <a id="6570" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6575" href="Definition.Untyped.html#2653" class="Function">U</a>
  <a id="Whnf.Πₙ"></a><a id="6579" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>     <a id="6586" class="Symbol">:</a> <a id="6588" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6593" class="Symbol">(</a><a id="6594" href="Definition.Untyped.html#2721" class="Function Operator">Π</a> <a id="6596" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6598" href="Definition.Untyped.html#2721" class="Function Operator">,</a> <a id="6600" href="Definition.Untyped.html#300" class="Generalizable">q</a> <a id="6602" href="Definition.Untyped.html#2721" class="Function Operator">▷</a> <a id="6604" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="6606" href="Definition.Untyped.html#2721" class="Function Operator">▹</a> <a id="6608" href="Definition.Untyped.html#2400" class="Generalizable">B</a><a id="6609" class="Symbol">)</a>
  <a id="Whnf.Σₙ"></a><a id="6613" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>     <a id="6620" class="Symbol">:</a> <a id="6622" class="Symbol">∀</a> <a id="6624" class="Symbol">{</a><a id="6625" href="Definition.Untyped.html#6625" class="Bound">m</a><a id="6626" class="Symbol">}</a> <a id="6628" class="Symbol">→</a> <a id="6630" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6635" class="Symbol">(</a><a id="6636" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">Σ⟨</a> <a id="6639" href="Definition.Untyped.html#6625" class="Bound">m</a> <a id="6641" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">⟩</a> <a id="6643" href="Definition.Untyped.html#300" class="Generalizable">q</a> <a id="6645" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▷</a> <a id="6647" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="6649" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▹</a> <a id="6651" href="Definition.Untyped.html#2400" class="Generalizable">B</a><a id="6652" class="Symbol">)</a>
  <a id="Whnf.ℕₙ"></a><a id="6656" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a>     <a id="6663" class="Symbol">:</a> <a id="6665" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6670" href="Definition.Untyped.html#3169" class="Function">ℕ</a>
  <a id="Whnf.Unitₙ"></a><a id="6674" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a>  <a id="6681" class="Symbol">:</a> <a id="6683" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6688" href="Definition.Untyped.html#3331" class="Function">Unit</a>
  <a id="Whnf.Emptyₙ"></a><a id="6695" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a> <a id="6702" class="Symbol">:</a> <a id="6704" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6709" href="Definition.Untyped.html#3254" class="Function">Empty</a>

  <a id="6718" class="Comment">-- Introductions are whnfs.</a>
  <a id="Whnf.lamₙ"></a><a id="6748" href="Definition.Untyped.html#6748" class="InductiveConstructor">lamₙ</a>  <a id="6754" class="Symbol">:</a> <a id="6756" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6761" class="Symbol">(</a><a id="6762" href="Definition.Untyped.html#3405" class="Function">lam</a> <a id="6766" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="6768" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="6769" class="Symbol">)</a>
  <a id="Whnf.zeroₙ"></a><a id="6773" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a> <a id="6779" class="Symbol">:</a> <a id="6781" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6786" href="Definition.Untyped.html#4094" class="Function">zero</a>
  <a id="Whnf.sucₙ"></a><a id="6793" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a>  <a id="6799" class="Symbol">:</a> <a id="6801" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6806" class="Symbol">(</a><a id="6807" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="6811" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="6812" class="Symbol">)</a>
  <a id="Whnf.starₙ"></a><a id="6816" href="Definition.Untyped.html#6816" class="InductiveConstructor">starₙ</a> <a id="6822" class="Symbol">:</a> <a id="6824" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6829" href="Definition.Untyped.html#4474" class="Function">star</a>
  <a id="Whnf.prodₙ"></a><a id="6836" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a> <a id="6842" class="Symbol">:</a> <a id="6844" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6849" class="Symbol">(</a><a id="6850" href="Definition.Untyped.html#3633" class="Function">prod</a> <a id="6855" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="6857" href="Definition.Untyped.html#2383" class="Generalizable">u</a><a id="6858" class="Symbol">)</a>

  <a id="6863" class="Comment">-- Neutrals are whnfs.</a>
  <a id="Whnf.ne"></a><a id="6888" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a>    <a id="6894" class="Symbol">:</a> <a id="6896" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="6904" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="6906" class="Symbol">→</a> <a id="6908" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="6913" href="Definition.Untyped.html#2381" class="Generalizable">t</a>


<a id="6917" class="Comment">-- Whnf inequalities.</a>

<a id="6940" class="Comment">-- Different whnfs are trivially distinguished by propositional equality.</a>
<a id="7014" class="Comment">-- (The following statements are sometimes called &quot;no-confusion theorems&quot;.)</a>

<a id="U≢ne"></a><a id="7091" href="Definition.Untyped.html#7091" class="Function">U≢ne</a> <a id="7096" class="Symbol">:</a> <a id="7098" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7106" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="7108" class="Symbol">→</a> <a id="7110" href="Definition.Untyped.html#2653" class="Function">U</a> <a id="7112" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7117" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="7119" href="Definition.Untyped.html#7091" class="Function">U≢ne</a> <a id="7124" class="Symbol">()</a> <a id="7127" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="ℕ≢ne"></a><a id="7136" href="Definition.Untyped.html#7136" class="Function">ℕ≢ne</a> <a id="7141" class="Symbol">:</a> <a id="7143" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7151" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="7153" class="Symbol">→</a> <a id="7155" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="7157" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7162" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="7164" href="Definition.Untyped.html#7136" class="Function">ℕ≢ne</a> <a id="7169" class="Symbol">()</a> <a id="7172" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="Empty≢ne"></a><a id="7181" href="Definition.Untyped.html#7181" class="Function">Empty≢ne</a> <a id="7190" class="Symbol">:</a> <a id="7192" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7200" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="7202" class="Symbol">→</a> <a id="7204" href="Definition.Untyped.html#3254" class="Function">Empty</a> <a id="7210" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7215" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="7217" href="Definition.Untyped.html#7181" class="Function">Empty≢ne</a> <a id="7226" class="Symbol">()</a> <a id="7229" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="Unit≢ne"></a><a id="7238" href="Definition.Untyped.html#7238" class="Function">Unit≢ne</a> <a id="7246" class="Symbol">:</a> <a id="7248" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7256" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="7258" class="Symbol">→</a> <a id="7260" href="Definition.Untyped.html#3331" class="Function">Unit</a> <a id="7265" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7270" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="7272" href="Definition.Untyped.html#7238" class="Function">Unit≢ne</a> <a id="7280" class="Symbol">()</a> <a id="7283" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="B≢ne"></a><a id="7292" href="Definition.Untyped.html#7292" class="Function">B≢ne</a> <a id="7297" class="Symbol">:</a> <a id="7299" class="Symbol">∀</a> <a id="7301" href="Definition.Untyped.html#7301" class="Bound">W</a> <a id="7303" class="Symbol">→</a> <a id="7305" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7313" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="7315" class="Symbol">→</a> <a id="7317" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="7319" href="Definition.Untyped.html#7301" class="Bound">W</a> <a id="7321" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="7323" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="7325" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="7327" href="Definition.Untyped.html#2404" class="Generalizable">G</a> <a id="7329" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7334" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="7336" href="Definition.Untyped.html#7292" class="Function">B≢ne</a> <a id="7341" class="Symbol">(</a><a id="7342" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="7345" href="Definition.Untyped.html#7345" class="Bound">p</a> <a id="7347" href="Definition.Untyped.html#7347" class="Bound">q</a><a id="7348" class="Symbol">)</a> <a id="7350" class="Symbol">()</a> <a id="7353" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>
<a id="7361" href="Definition.Untyped.html#7292" class="Function">B≢ne</a> <a id="7366" class="Symbol">(</a><a id="7367" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="7370" href="Definition.Untyped.html#7370" class="Bound">q</a> <a id="7372" href="Definition.Untyped.html#7372" class="Bound">m</a><a id="7373" class="Symbol">)</a> <a id="7375" class="Symbol">()</a> <a id="7378" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="U≢B"></a><a id="7387" href="Definition.Untyped.html#7387" class="Function">U≢B</a> <a id="7391" class="Symbol">:</a> <a id="7393" class="Symbol">∀</a> <a id="7395" href="Definition.Untyped.html#7395" class="Bound">W</a> <a id="7397" class="Symbol">→</a> <a id="7399" href="Definition.Untyped.html#2653" class="Function">U</a> <a id="7401" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7406" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="7408" href="Definition.Untyped.html#7395" class="Bound">W</a> <a id="7410" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="7412" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="7414" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="7416" href="Definition.Untyped.html#2404" class="Generalizable">G</a>
<a id="7418" href="Definition.Untyped.html#7387" class="Function">U≢B</a> <a id="7422" class="Symbol">(</a><a id="7423" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="7426" href="Definition.Untyped.html#7426" class="Bound">p</a> <a id="7428" href="Definition.Untyped.html#7428" class="Bound">q</a><a id="7429" class="Symbol">)</a> <a id="7431" class="Symbol">()</a>
<a id="7434" href="Definition.Untyped.html#7387" class="Function">U≢B</a> <a id="7438" class="Symbol">(</a><a id="7439" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="7442" href="Definition.Untyped.html#7442" class="Bound">q</a> <a id="7444" href="Definition.Untyped.html#7444" class="Bound">m</a><a id="7445" class="Symbol">)</a> <a id="7447" class="Symbol">()</a>

<a id="ℕ≢B"></a><a id="7451" href="Definition.Untyped.html#7451" class="Function">ℕ≢B</a> <a id="7455" class="Symbol">:</a> <a id="7457" class="Symbol">∀</a> <a id="7459" href="Definition.Untyped.html#7459" class="Bound">W</a> <a id="7461" class="Symbol">→</a> <a id="7463" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="7465" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7470" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="7472" href="Definition.Untyped.html#7459" class="Bound">W</a> <a id="7474" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="7476" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="7478" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="7480" href="Definition.Untyped.html#2404" class="Generalizable">G</a>
<a id="7482" href="Definition.Untyped.html#7451" class="Function">ℕ≢B</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="7490" href="Definition.Untyped.html#7490" class="Bound">p</a> <a id="7492" href="Definition.Untyped.html#7492" class="Bound">q</a><a id="7493" class="Symbol">)</a> <a id="7495" class="Symbol">()</a>
<a id="7498" href="Definition.Untyped.html#7451" class="Function">ℕ≢B</a> <a id="7502" class="Symbol">(</a><a id="7503" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="7506" href="Definition.Untyped.html#7506" class="Bound">q</a> <a id="7508" href="Definition.Untyped.html#7508" class="Bound">m</a><a id="7509" class="Symbol">)</a> <a id="7511" class="Symbol">()</a>

<a id="Empty≢B"></a><a id="7515" href="Definition.Untyped.html#7515" class="Function">Empty≢B</a> <a id="7523" class="Symbol">:</a> <a id="7525" class="Symbol">∀</a> <a id="7527" href="Definition.Untyped.html#7527" class="Bound">W</a> <a id="7529" class="Symbol">→</a> <a id="7531" href="Definition.Untyped.html#3254" class="Function">Empty</a> <a id="7537" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7542" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="7544" href="Definition.Untyped.html#7527" class="Bound">W</a> <a id="7546" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="7548" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="7550" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="7552" href="Definition.Untyped.html#2404" class="Generalizable">G</a>
<a id="7554" href="Definition.Untyped.html#7515" class="Function">Empty≢B</a> <a id="7562" class="Symbol">(</a><a id="7563" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="7566" href="Definition.Untyped.html#7566" class="Bound">p</a> <a id="7568" href="Definition.Untyped.html#7568" class="Bound">q</a><a id="7569" class="Symbol">)</a> <a id="7571" class="Symbol">()</a>
<a id="7574" href="Definition.Untyped.html#7515" class="Function">Empty≢B</a> <a id="7582" class="Symbol">(</a><a id="7583" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="7586" href="Definition.Untyped.html#7586" class="Bound">q</a> <a id="7588" href="Definition.Untyped.html#7588" class="Bound">m</a><a id="7589" class="Symbol">)</a> <a id="7591" class="Symbol">()</a>

<a id="Unit≢B"></a><a id="7595" href="Definition.Untyped.html#7595" class="Function">Unit≢B</a> <a id="7602" class="Symbol">:</a> <a id="7604" class="Symbol">∀</a> <a id="7606" href="Definition.Untyped.html#7606" class="Bound">W</a> <a id="7608" class="Symbol">→</a> <a id="7610" href="Definition.Untyped.html#3331" class="Function">Unit</a> <a id="7615" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7620" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="7622" href="Definition.Untyped.html#7606" class="Bound">W</a> <a id="7624" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="7626" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="7628" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="7630" href="Definition.Untyped.html#2404" class="Generalizable">G</a>
<a id="7632" href="Definition.Untyped.html#7595" class="Function">Unit≢B</a> <a id="7639" class="Symbol">(</a><a id="7640" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="7643" href="Definition.Untyped.html#7643" class="Bound">p</a> <a id="7645" href="Definition.Untyped.html#7645" class="Bound">q</a><a id="7646" class="Symbol">)</a> <a id="7648" class="Symbol">()</a>
<a id="7651" href="Definition.Untyped.html#7595" class="Function">Unit≢B</a> <a id="7658" class="Symbol">(</a><a id="7659" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="7662" href="Definition.Untyped.html#7662" class="Bound">q</a> <a id="7664" href="Definition.Untyped.html#7664" class="Bound">m</a><a id="7665" class="Symbol">)</a> <a id="7667" class="Symbol">()</a>

<a id="zero≢ne"></a><a id="7671" href="Definition.Untyped.html#7671" class="Function">zero≢ne</a> <a id="7679" class="Symbol">:</a> <a id="7681" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7689" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="7691" class="Symbol">→</a> <a id="7693" href="Definition.Untyped.html#4094" class="Function">zero</a> <a id="7698" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7703" href="Definition.Untyped.html#2381" class="Generalizable">t</a>
<a id="7705" href="Definition.Untyped.html#7671" class="Function">zero≢ne</a> <a id="7713" class="Symbol">()</a> <a id="7716" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="suc≢ne"></a><a id="7725" href="Definition.Untyped.html#7725" class="Function">suc≢ne</a> <a id="7732" class="Symbol">:</a> <a id="7734" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7742" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="7744" class="Symbol">→</a> <a id="7746" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="7750" href="Definition.Untyped.html#2383" class="Generalizable">u</a> <a id="7752" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7757" href="Definition.Untyped.html#2381" class="Generalizable">t</a>
<a id="7759" href="Definition.Untyped.html#7725" class="Function">suc≢ne</a> <a id="7766" class="Symbol">()</a> <a id="7769" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="prod≢ne"></a><a id="7778" href="Definition.Untyped.html#7778" class="Function">prod≢ne</a> <a id="7786" class="Symbol">:</a> <a id="7788" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="7796" href="Definition.Untyped.html#2385" class="Generalizable">v</a> <a id="7798" class="Symbol">→</a> <a id="7800" href="Definition.Untyped.html#3633" class="Function">prod</a> <a id="7805" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="7807" href="Definition.Untyped.html#2383" class="Generalizable">u</a> <a id="7809" href="Relation.Binary.PropositionalEquality.Core.html#830" class="Function Operator">PE.≢</a> <a id="7814" href="Definition.Untyped.html#2385" class="Generalizable">v</a>
<a id="7816" href="Definition.Untyped.html#7778" class="Function">prod≢ne</a> <a id="7824" class="Symbol">()</a> <a id="7827" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>

<a id="7836" class="Comment">-- Several views on whnfs (note: not recursive).</a>

<a id="7886" class="Comment">-- A whnf of type ℕ is either zero, suc t, or neutral.</a>

<a id="7942" class="Keyword">data</a> <a id="Natural"></a><a id="7947" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="7955" class="Symbol">{</a><a id="7956" href="Definition.Untyped.html#7956" class="Bound">n</a> <a id="7958" class="Symbol">:</a> <a id="7960" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="7963" class="Symbol">}</a> <a id="7965" class="Symbol">:</a> <a id="7967" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="7972" href="Definition.Untyped.html#7956" class="Bound">n</a> <a id="7974" class="Symbol">→</a> <a id="7976" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="7980" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="7982" class="Keyword">where</a>
  <a id="Natural.zeroₙ"></a><a id="7990" href="Definition.Untyped.html#7990" class="InductiveConstructor">zeroₙ</a> <a id="7996" class="Symbol">:</a>             <a id="8010" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="8018" href="Definition.Untyped.html#4094" class="Function">zero</a>
  <a id="Natural.sucₙ"></a><a id="8025" href="Definition.Untyped.html#8025" class="InductiveConstructor">sucₙ</a>  <a id="8031" class="Symbol">:</a>             <a id="8045" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="8053" class="Symbol">(</a><a id="8054" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="8058" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="8059" class="Symbol">)</a>
  <a id="Natural.ne"></a><a id="8063" href="Definition.Untyped.html#8063" class="InductiveConstructor">ne</a>    <a id="8069" class="Symbol">:</a> <a id="8071" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="8079" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="8081" class="Symbol">→</a> <a id="8083" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="8091" href="Definition.Untyped.html#2381" class="Generalizable">t</a>


<a id="8095" class="Comment">-- A (small) type in whnf is either Π A B, Σ A B, ℕ, Empty, Unit or neutral.</a>
<a id="8172" class="Comment">-- Large types could also be U.</a>

<a id="8205" class="Keyword">data</a> <a id="Type"></a><a id="8210" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8215" class="Symbol">{</a><a id="8216" href="Definition.Untyped.html#8216" class="Bound">n</a> <a id="8218" class="Symbol">:</a> <a id="8220" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="8223" class="Symbol">}</a> <a id="8225" class="Symbol">:</a> <a id="8227" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="8232" href="Definition.Untyped.html#8216" class="Bound">n</a> <a id="8234" class="Symbol">→</a> <a id="8236" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="8240" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="8242" class="Keyword">where</a>
  <a id="Type.Πₙ"></a><a id="8250" href="Definition.Untyped.html#8250" class="InductiveConstructor">Πₙ</a>     <a id="8257" class="Symbol">:</a>             <a id="8271" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8276" class="Symbol">(</a><a id="8277" href="Definition.Untyped.html#2721" class="Function Operator">Π</a> <a id="8279" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="8281" href="Definition.Untyped.html#2721" class="Function Operator">,</a> <a id="8283" href="Definition.Untyped.html#300" class="Generalizable">q</a> <a id="8285" href="Definition.Untyped.html#2721" class="Function Operator">▷</a> <a id="8287" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="8289" href="Definition.Untyped.html#2721" class="Function Operator">▹</a> <a id="8291" href="Definition.Untyped.html#2400" class="Generalizable">B</a><a id="8292" class="Symbol">)</a>
  <a id="Type.Σₙ"></a><a id="8296" href="Definition.Untyped.html#8296" class="InductiveConstructor">Σₙ</a>     <a id="8303" class="Symbol">:</a> <a id="8305" class="Symbol">∀</a> <a id="8307" class="Symbol">{</a><a id="8308" href="Definition.Untyped.html#8308" class="Bound">m</a><a id="8309" class="Symbol">}</a> <a id="8311" class="Symbol">→</a>     <a id="8317" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8322" class="Symbol">(</a><a id="8323" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">Σ⟨</a> <a id="8326" href="Definition.Untyped.html#8308" class="Bound">m</a> <a id="8328" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">⟩</a> <a id="8330" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="8332" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▷</a> <a id="8334" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="8336" href="Definition.Untyped.html#4943" class="InductiveConstructor Operator">▹</a> <a id="8338" href="Definition.Untyped.html#2400" class="Generalizable">B</a><a id="8339" class="Symbol">)</a>
  <a id="Type.ℕₙ"></a><a id="8343" href="Definition.Untyped.html#8343" class="InductiveConstructor">ℕₙ</a>     <a id="8350" class="Symbol">:</a>             <a id="8364" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8369" href="Definition.Untyped.html#3169" class="Function">ℕ</a>
  <a id="Type.Emptyₙ"></a><a id="8373" href="Definition.Untyped.html#8373" class="InductiveConstructor">Emptyₙ</a> <a id="8380" class="Symbol">:</a>             <a id="8394" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8399" href="Definition.Untyped.html#3254" class="Function">Empty</a>
  <a id="Type.Unitₙ"></a><a id="8407" href="Definition.Untyped.html#8407" class="InductiveConstructor">Unitₙ</a>  <a id="8414" class="Symbol">:</a>             <a id="8428" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8433" href="Definition.Untyped.html#3331" class="Function">Unit</a>
  <a id="Type.ne"></a><a id="8440" href="Definition.Untyped.html#8440" class="InductiveConstructor">ne</a>     <a id="8447" class="Symbol">:</a> <a id="8449" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="8457" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="8459" class="Symbol">→</a> <a id="8461" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8466" href="Definition.Untyped.html#2381" class="Generalizable">t</a>

<a id="⟦_⟧-type"></a><a id="8469" href="Definition.Untyped.html#8469" class="Function Operator">⟦_⟧-type</a> <a id="8478" class="Symbol">:</a> <a id="8480" class="Symbol">∀</a> <a id="8482" class="Symbol">(</a><a id="8483" href="Definition.Untyped.html#8483" class="Bound">W</a> <a id="8485" class="Symbol">:</a> <a id="8487" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a><a id="8498" class="Symbol">)</a> <a id="8500" class="Symbol">→</a> <a id="8502" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="8507" class="Symbol">(</a><a id="8508" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="8510" href="Definition.Untyped.html#8483" class="Bound">W</a> <a id="8512" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="8514" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="8516" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="8518" href="Definition.Untyped.html#2404" class="Generalizable">G</a><a id="8519" class="Symbol">)</a>
<a id="8521" href="Definition.Untyped.html#8469" class="Function Operator">⟦</a> <a id="8523" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="8526" href="Definition.Untyped.html#8526" class="Bound">p</a> <a id="8528" href="Definition.Untyped.html#8528" class="Bound">q</a> <a id="8530" href="Definition.Untyped.html#8469" class="Function Operator">⟧-type</a> <a id="8537" class="Symbol">=</a> <a id="8539" href="Definition.Untyped.html#8250" class="InductiveConstructor">Πₙ</a>
<a id="8542" href="Definition.Untyped.html#8469" class="Function Operator">⟦</a> <a id="8544" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="8547" href="Definition.Untyped.html#8547" class="Bound">q</a> <a id="8549" href="Definition.Untyped.html#8549" class="Bound">m</a> <a id="8551" href="Definition.Untyped.html#8469" class="Function Operator">⟧-type</a> <a id="8558" class="Symbol">=</a> <a id="8560" href="Definition.Untyped.html#8296" class="InductiveConstructor">Σₙ</a>

<a id="8564" class="Comment">-- A whnf of type Π A ▹ B is either lam t or neutral.</a>

<a id="8619" class="Keyword">data</a> <a id="Function"></a><a id="8624" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="8633" class="Symbol">{</a><a id="8634" href="Definition.Untyped.html#8634" class="Bound">n</a> <a id="8636" class="Symbol">:</a> <a id="8638" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="8641" class="Symbol">}</a> <a id="8643" class="Symbol">:</a> <a id="8645" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="8650" href="Definition.Untyped.html#8634" class="Bound">n</a> <a id="8652" class="Symbol">→</a> <a id="8654" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="8658" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="8660" class="Keyword">where</a>
  <a id="Function.lamₙ"></a><a id="8668" href="Definition.Untyped.html#8668" class="InductiveConstructor">lamₙ</a> <a id="8673" class="Symbol">:</a> <a id="8675" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="8684" class="Symbol">(</a><a id="8685" href="Definition.Untyped.html#3405" class="Function">lam</a> <a id="8689" href="Definition.Untyped.html#298" class="Generalizable">p</a> <a id="8691" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="8692" class="Symbol">)</a>
  <a id="Function.ne"></a><a id="8696" href="Definition.Untyped.html#8696" class="InductiveConstructor">ne</a>   <a id="8701" class="Symbol">:</a> <a id="8703" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="8711" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="8713" class="Symbol">→</a> <a id="8715" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="8724" href="Definition.Untyped.html#2381" class="Generalizable">t</a>

<a id="8727" class="Comment">-- A whnf of type Σ A ▹ B is either prod t u or neutral.</a>

<a id="8785" class="Keyword">data</a> <a id="Product"></a><a id="8790" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="8798" class="Symbol">{</a><a id="8799" href="Definition.Untyped.html#8799" class="Bound">n</a> <a id="8801" class="Symbol">:</a> <a id="8803" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="8806" class="Symbol">}</a> <a id="8808" class="Symbol">:</a> <a id="8810" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="8815" href="Definition.Untyped.html#8799" class="Bound">n</a> <a id="8817" class="Symbol">→</a> <a id="8819" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="8823" href="Definition.Untyped.html#118" class="Bound">a</a> <a id="8825" class="Keyword">where</a>
  <a id="Product.prodₙ"></a><a id="8833" href="Definition.Untyped.html#8833" class="InductiveConstructor">prodₙ</a> <a id="8839" class="Symbol">:</a> <a id="8841" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="8849" class="Symbol">(</a><a id="8850" href="Definition.Untyped.html#3633" class="Function">prod</a> <a id="8855" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="8857" href="Definition.Untyped.html#2383" class="Generalizable">u</a><a id="8858" class="Symbol">)</a>
  <a id="Product.ne"></a><a id="8862" href="Definition.Untyped.html#8862" class="InductiveConstructor">ne</a>    <a id="8868" class="Symbol">:</a> <a id="8870" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="8878" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="8880" class="Symbol">→</a> <a id="8882" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="8890" href="Definition.Untyped.html#2381" class="Generalizable">t</a>


<a id="8894" class="Comment">-- These views classify only whnfs.</a>
<a id="8930" class="Comment">-- Natural, Type, Function and Product are a subsets of Whnf.</a>

<a id="naturalWhnf"></a><a id="8993" href="Definition.Untyped.html#8993" class="Function">naturalWhnf</a> <a id="9005" class="Symbol">:</a> <a id="9007" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="9015" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="9017" class="Symbol">→</a> <a id="9019" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="9024" href="Definition.Untyped.html#2381" class="Generalizable">t</a>
<a id="9026" href="Definition.Untyped.html#8993" class="Function">naturalWhnf</a> <a id="9038" href="Definition.Untyped.html#8025" class="InductiveConstructor">sucₙ</a>   <a id="9045" class="Symbol">=</a> <a id="9047" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a>
<a id="9052" href="Definition.Untyped.html#8993" class="Function">naturalWhnf</a> <a id="9064" href="Definition.Untyped.html#7990" class="InductiveConstructor">zeroₙ</a>  <a id="9071" class="Symbol">=</a> <a id="9073" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a>
<a id="9079" href="Definition.Untyped.html#8993" class="Function">naturalWhnf</a> <a id="9091" class="Symbol">(</a><a id="9092" href="Definition.Untyped.html#8063" class="InductiveConstructor">ne</a> <a id="9095" href="Definition.Untyped.html#9095" class="Bound">x</a><a id="9096" class="Symbol">)</a> <a id="9098" class="Symbol">=</a> <a id="9100" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="9103" href="Definition.Untyped.html#9095" class="Bound">x</a>

<a id="typeWhnf"></a><a id="9106" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9115" class="Symbol">:</a> <a id="9117" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="9122" href="Definition.Untyped.html#2375" class="Generalizable">A</a> <a id="9124" class="Symbol">→</a> <a id="9126" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="9131" href="Definition.Untyped.html#2375" class="Generalizable">A</a>
<a id="9133" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9142" href="Definition.Untyped.html#8250" class="InductiveConstructor">Πₙ</a>     <a id="9149" class="Symbol">=</a> <a id="9151" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>
<a id="9154" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9163" href="Definition.Untyped.html#8296" class="InductiveConstructor">Σₙ</a>     <a id="9170" class="Symbol">=</a> <a id="9172" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>
<a id="9175" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9184" href="Definition.Untyped.html#8343" class="InductiveConstructor">ℕₙ</a>     <a id="9191" class="Symbol">=</a> <a id="9193" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a>
<a id="9196" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9205" href="Definition.Untyped.html#8373" class="InductiveConstructor">Emptyₙ</a> <a id="9212" class="Symbol">=</a> <a id="9214" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a>
<a id="9221" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9230" href="Definition.Untyped.html#8407" class="InductiveConstructor">Unitₙ</a>  <a id="9237" class="Symbol">=</a> <a id="9239" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a>
<a id="9245" href="Definition.Untyped.html#9106" class="Function">typeWhnf</a> <a id="9254" class="Symbol">(</a><a id="9255" href="Definition.Untyped.html#8440" class="InductiveConstructor">ne</a> <a id="9258" href="Definition.Untyped.html#9258" class="Bound">x</a><a id="9259" class="Symbol">)</a> <a id="9261" class="Symbol">=</a> <a id="9263" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="9266" href="Definition.Untyped.html#9258" class="Bound">x</a>

<a id="functionWhnf"></a><a id="9269" href="Definition.Untyped.html#9269" class="Function">functionWhnf</a> <a id="9282" class="Symbol">:</a> <a id="9284" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="9293" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="9295" class="Symbol">→</a> <a id="9297" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="9302" href="Definition.Untyped.html#2381" class="Generalizable">t</a>
<a id="9304" href="Definition.Untyped.html#9269" class="Function">functionWhnf</a> <a id="9317" href="Definition.Untyped.html#8668" class="InductiveConstructor">lamₙ</a>   <a id="9324" class="Symbol">=</a> <a id="9326" href="Definition.Untyped.html#6748" class="InductiveConstructor">lamₙ</a>
<a id="9331" href="Definition.Untyped.html#9269" class="Function">functionWhnf</a> <a id="9344" class="Symbol">(</a><a id="9345" href="Definition.Untyped.html#8696" class="InductiveConstructor">ne</a> <a id="9348" href="Definition.Untyped.html#9348" class="Bound">x</a><a id="9349" class="Symbol">)</a> <a id="9351" class="Symbol">=</a> <a id="9353" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="9356" href="Definition.Untyped.html#9348" class="Bound">x</a>

<a id="productWhnf"></a><a id="9359" href="Definition.Untyped.html#9359" class="Function">productWhnf</a> <a id="9371" class="Symbol">:</a> <a id="9373" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="9381" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="9383" class="Symbol">→</a> <a id="9385" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="9390" href="Definition.Untyped.html#2381" class="Generalizable">t</a>
<a id="9392" href="Definition.Untyped.html#9359" class="Function">productWhnf</a> <a id="9404" href="Definition.Untyped.html#8833" class="InductiveConstructor">prodₙ</a>  <a id="9411" class="Symbol">=</a> <a id="9413" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a>
<a id="9419" href="Definition.Untyped.html#9359" class="Function">productWhnf</a> <a id="9431" class="Symbol">(</a><a id="9432" href="Definition.Untyped.html#8862" class="InductiveConstructor">ne</a> <a id="9435" href="Definition.Untyped.html#9435" class="Bound">x</a><a id="9436" class="Symbol">)</a> <a id="9438" class="Symbol">=</a> <a id="9440" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="9443" href="Definition.Untyped.html#9435" class="Bound">x</a>

<a id="⟦_⟧ₙ"></a><a id="9446" href="Definition.Untyped.html#9446" class="Function Operator">⟦_⟧ₙ</a> <a id="9451" class="Symbol">:</a> <a id="9453" class="Symbol">(</a><a id="9454" href="Definition.Untyped.html#9454" class="Bound">W</a> <a id="9456" class="Symbol">:</a> <a id="9458" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a><a id="9469" class="Symbol">)</a> <a id="9471" class="Symbol">→</a> <a id="9473" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="9478" class="Symbol">(</a><a id="9479" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="9481" href="Definition.Untyped.html#9454" class="Bound">W</a> <a id="9483" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="9485" href="Definition.Untyped.html#2377" class="Generalizable">F</a> <a id="9487" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="9489" href="Definition.Untyped.html#2404" class="Generalizable">G</a><a id="9490" class="Symbol">)</a>
<a id="9492" href="Definition.Untyped.html#9446" class="Function Operator">⟦_⟧ₙ</a> <a id="9497" class="Symbol">(</a><a id="9498" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="9501" href="Definition.Untyped.html#9501" class="Bound">p</a> <a id="9503" href="Definition.Untyped.html#9503" class="Bound">q</a><a id="9504" class="Symbol">)</a> <a id="9506" class="Symbol">=</a> <a id="9508" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>
<a id="9511" href="Definition.Untyped.html#9446" class="Function Operator">⟦_⟧ₙ</a> <a id="9516" class="Symbol">(</a><a id="9517" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="9520" href="Definition.Untyped.html#9520" class="Bound">q</a> <a id="9522" href="Definition.Untyped.html#9522" class="Bound">m</a><a id="9523" class="Symbol">)</a> <a id="9525" class="Symbol">=</a> <a id="9527" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>

<a id="9531" class="Comment">------------------------------------------------------------------------</a>
<a id="9604" class="Comment">-- Weakening</a>

<a id="9618" class="Comment">-- In the following we define untyped weakenings η : Wk.</a>
<a id="9675" class="Comment">-- The typed form could be written η : Γ ≤ Δ with the intention</a>
<a id="9739" class="Comment">-- that η transport a term t living in context Δ to a context Γ</a>
<a id="9803" class="Comment">-- that can bind additional variables (which cannot appear in t).</a>
<a id="9869" class="Comment">-- Thus, if Δ ⊢ t : A and η : Γ ≤ Δ then Γ ⊢ wk η t : wk η A.</a>
<a id="9931" class="Comment">--</a>
<a id="9934" class="Comment">-- Even though Γ is &quot;larger&quot; than Δ we write Γ ≤ Δ to be conformant</a>
<a id="10002" class="Comment">-- with subtyping A ≤ B.  With subtyping, relation Γ ≤ Δ could be defined as</a>
<a id="10079" class="Comment">-- ``for all x ∈ dom(Δ) have Γ(x) ≤ Δ(x)&#39;&#39; (in the sense of subtyping)</a>
<a id="10150" class="Comment">-- and this would be the natural extension of weakenings.</a>

<a id="10209" class="Keyword">data</a> <a id="Wk"></a><a id="9358"></a><a id="10214" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10217" class="Symbol">:</a> <a id="10219" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="10223" class="Symbol">→</a> <a id="10225" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="10229" class="Symbol">→</a> <a id="10231" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="10235" class="Keyword">where</a>
  <a id="Wk.id"></a><a id="10243" href="Definition.Untyped.html#10243" class="InductiveConstructor">id</a>    <a id="10249" class="Symbol">:</a> <a id="10251" class="Symbol">{</a><a id="10252" href="Definition.Untyped.html#10252" class="Bound">n</a> <a id="10254" class="Symbol">:</a> <a id="10256" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10259" class="Symbol">}</a>   <a id="10263" class="Symbol">→</a> <a id="10265" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10268" href="Definition.Untyped.html#10252" class="Bound">n</a> <a id="10270" href="Definition.Untyped.html#10252" class="Bound">n</a>                    <a id="10291" class="Comment">-- η : Γ ≤ Γ.</a>
  <a id="Wk.step"></a><a id="10307" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a>  <a id="10313" class="Symbol">:</a> <a id="10315" class="Symbol">{</a><a id="10316" href="Definition.Untyped.html#10316" class="Bound">n</a> <a id="10318" href="Definition.Untyped.html#10318" class="Bound">m</a> <a id="10320" class="Symbol">:</a> <a id="10322" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10325" class="Symbol">}</a> <a id="10327" class="Symbol">→</a> <a id="10329" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10332" href="Definition.Untyped.html#10318" class="Bound">m</a> <a id="10334" href="Definition.Untyped.html#10316" class="Bound">n</a> <a id="10336" class="Symbol">→</a> <a id="10338" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10341" class="Symbol">(</a><a id="10342" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="10345" href="Definition.Untyped.html#10318" class="Bound">m</a><a id="10346" class="Symbol">)</a> <a id="10348" href="Definition.Untyped.html#10316" class="Bound">n</a>      <a id="10355" class="Comment">-- If η : Γ ≤ Δ then step η : Γ∙A ≤ Δ.</a>
  <a id="Wk.lift"></a><a id="10396" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a>  <a id="10402" class="Symbol">:</a> <a id="10404" class="Symbol">{</a><a id="10405" href="Definition.Untyped.html#10405" class="Bound">n</a> <a id="10407" href="Definition.Untyped.html#10407" class="Bound">m</a> <a id="10409" class="Symbol">:</a> <a id="10411" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10414" class="Symbol">}</a> <a id="10416" class="Symbol">→</a> <a id="10418" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10421" href="Definition.Untyped.html#10407" class="Bound">m</a> <a id="10423" href="Definition.Untyped.html#10405" class="Bound">n</a> <a id="10425" class="Symbol">→</a> <a id="10427" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10430" class="Symbol">(</a><a id="10431" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="10434" href="Definition.Untyped.html#10407" class="Bound">m</a><a id="10435" class="Symbol">)</a> <a id="10437" class="Symbol">(</a><a id="10438" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="10441" href="Definition.Untyped.html#10405" class="Bound">n</a><a id="10442" class="Symbol">)</a> <a id="10444" class="Comment">-- If η : Γ ≤ Δ then lift η : Γ∙A ≤ Δ∙A.</a>

<a id="10486" class="Comment">-- Composition of weakening.</a>
<a id="10515" class="Comment">-- If η : Γ ≤ Δ and η′ : Δ ≤ Φ then η • η′ : Γ ≤ Φ.</a>

<a id="10568" class="Keyword">infixl</a> <a id="10575" class="Number">30</a> <a id="10578" href="Definition.Untyped.html#10583" class="Function Operator">_•_</a>

<a id="_•_"></a><a id="10583" href="Definition.Untyped.html#10583" class="Function Operator">_•_</a>                <a id="10602" class="Symbol">:</a>  <a id="10605" class="Symbol">{</a><a id="10606" href="Definition.Untyped.html#10606" class="Bound">l</a> <a id="10608" href="Definition.Untyped.html#10608" class="Bound">m</a> <a id="10610" href="Definition.Untyped.html#10610" class="Bound">n</a> <a id="10612" class="Symbol">:</a> <a id="10614" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10617" class="Symbol">}</a> <a id="10619" class="Symbol">→</a> <a id="10621" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10624" href="Definition.Untyped.html#10606" class="Bound">l</a> <a id="10626" href="Definition.Untyped.html#10608" class="Bound">m</a> <a id="10628" class="Symbol">→</a> <a id="10630" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10633" href="Definition.Untyped.html#10608" class="Bound">m</a> <a id="10635" href="Definition.Untyped.html#10610" class="Bound">n</a> <a id="10637" class="Symbol">→</a> <a id="10639" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10642" href="Definition.Untyped.html#10606" class="Bound">l</a> <a id="10644" href="Definition.Untyped.html#10610" class="Bound">n</a>
<a id="10646" href="Definition.Untyped.html#10243" class="InductiveConstructor">id</a>      <a id="10654" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10656" href="Definition.Untyped.html#10656" class="Bound">η′</a>       <a id="10665" class="Symbol">=</a>  <a id="10668" href="Definition.Untyped.html#10656" class="Bound">η′</a>
<a id="10671" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a> <a id="10676" href="Definition.Untyped.html#10676" class="Bound">η</a>  <a id="10679" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10681" href="Definition.Untyped.html#10681" class="Bound">η′</a>       <a id="10690" class="Symbol">=</a>  <a id="10693" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a>  <a id="10699" class="Symbol">(</a><a id="10700" href="Definition.Untyped.html#10676" class="Bound">η</a> <a id="10702" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10704" href="Definition.Untyped.html#10681" class="Bound">η′</a><a id="10706" class="Symbol">)</a>
<a id="10708" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="10713" href="Definition.Untyped.html#10713" class="Bound">η</a>  <a id="10716" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10718" href="Definition.Untyped.html#10243" class="InductiveConstructor">id</a>       <a id="10727" class="Symbol">=</a>  <a id="10730" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a>  <a id="10736" href="Definition.Untyped.html#10713" class="Bound">η</a>
<a id="10738" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="10743" href="Definition.Untyped.html#10743" class="Bound">η</a>  <a id="10746" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10748" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a> <a id="10753" href="Definition.Untyped.html#10753" class="Bound">η′</a>  <a id="10757" class="Symbol">=</a>  <a id="10760" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a>  <a id="10766" class="Symbol">(</a><a id="10767" href="Definition.Untyped.html#10743" class="Bound">η</a> <a id="10769" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10771" href="Definition.Untyped.html#10753" class="Bound">η′</a><a id="10773" class="Symbol">)</a>
<a id="10775" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="10780" href="Definition.Untyped.html#10780" class="Bound">η</a>  <a id="10783" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10785" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="10790" href="Definition.Untyped.html#10790" class="Bound">η′</a>  <a id="10794" class="Symbol">=</a>  <a id="10797" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a>  <a id="10803" class="Symbol">(</a><a id="10804" href="Definition.Untyped.html#10780" class="Bound">η</a> <a id="10806" href="Definition.Untyped.html#10583" class="Function Operator">•</a> <a id="10808" href="Definition.Untyped.html#10790" class="Bound">η′</a><a id="10810" class="Symbol">)</a>

<a id="liftn"></a><a id="10813" href="Definition.Untyped.html#10813" class="Function">liftn</a> <a id="10819" class="Symbol">:</a> <a id="10821" class="Symbol">{</a><a id="10822" href="Definition.Untyped.html#10822" class="Bound">k</a> <a id="10824" href="Definition.Untyped.html#10824" class="Bound">m</a> <a id="10826" class="Symbol">:</a> <a id="10828" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10831" class="Symbol">}</a> <a id="10833" class="Symbol">→</a> <a id="10835" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10838" href="Definition.Untyped.html#10822" class="Bound">k</a> <a id="10840" href="Definition.Untyped.html#10824" class="Bound">m</a> <a id="10842" class="Symbol">→</a> <a id="10844" class="Symbol">(</a><a id="10845" href="Definition.Untyped.html#10845" class="Bound">n</a> <a id="10847" class="Symbol">:</a> <a id="10849" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="10852" class="Symbol">)</a> <a id="10854" class="Symbol">→</a> <a id="10856" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="10859" class="Symbol">(</a><a id="10860" href="Definition.Untyped.html#10845" class="Bound">n</a> <a id="10862" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="10864" href="Definition.Untyped.html#10822" class="Bound">k</a><a id="10865" class="Symbol">)</a> <a id="10867" class="Symbol">(</a><a id="10868" href="Definition.Untyped.html#10845" class="Bound">n</a> <a id="10870" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="10872" href="Definition.Untyped.html#10824" class="Bound">m</a><a id="10873" class="Symbol">)</a>
<a id="10875" href="Definition.Untyped.html#10813" class="Function">liftn</a> <a id="10881" href="Definition.Untyped.html#10881" class="Bound">ρ</a> <a id="10883" class="Number">0</a> <a id="10885" class="Symbol">=</a> <a id="10887" href="Definition.Untyped.html#10881" class="Bound">ρ</a>
<a id="10889" href="Definition.Untyped.html#10813" class="Function">liftn</a> <a id="10895" href="Definition.Untyped.html#10895" class="Bound">ρ</a> <a id="10897" class="Symbol">(</a><a id="10898" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="10901" href="Definition.Untyped.html#10901" class="Bound">n</a><a id="10902" class="Symbol">)</a> <a id="10904" class="Symbol">=</a> <a id="10906" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="10911" class="Symbol">(</a><a id="10912" href="Definition.Untyped.html#10813" class="Function">liftn</a> <a id="10918" href="Definition.Untyped.html#10895" class="Bound">ρ</a> <a id="10920" href="Definition.Untyped.html#10901" class="Bound">n</a><a id="10921" class="Symbol">)</a>

<a id="10924" class="Comment">-- Weakening of variables.</a>
<a id="10951" class="Comment">-- If η : Γ ≤ Δ and x ∈ dom(Δ) then wkVar η x ∈ dom(Γ).</a>

<a id="wkVar"></a><a id="11008" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11014" class="Symbol">:</a> <a id="11016" class="Symbol">{</a><a id="11017" href="Definition.Untyped.html#11017" class="Bound">m</a> <a id="11019" href="Definition.Untyped.html#11019" class="Bound">n</a> <a id="11021" class="Symbol">:</a> <a id="11023" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="11026" class="Symbol">}</a> <a id="11028" class="Symbol">(</a><a id="11029" href="Definition.Untyped.html#11029" class="Bound">ρ</a> <a id="11031" class="Symbol">:</a> <a id="11033" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="11036" href="Definition.Untyped.html#11017" class="Bound">m</a> <a id="11038" href="Definition.Untyped.html#11019" class="Bound">n</a><a id="11039" class="Symbol">)</a> <a id="11041" class="Symbol">(</a><a id="11042" href="Definition.Untyped.html#11042" class="Bound">x</a> <a id="11044" class="Symbol">:</a> <a id="11046" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="11050" href="Definition.Untyped.html#11019" class="Bound">n</a><a id="11051" class="Symbol">)</a> <a id="11053" class="Symbol">→</a> <a id="11055" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="11059" href="Definition.Untyped.html#11017" class="Bound">m</a>
<a id="11061" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11067" href="Definition.Untyped.html#10243" class="InductiveConstructor">id</a> <a id="11070" href="Definition.Untyped.html#11070" class="Bound">x</a>            <a id="11083" class="Symbol">=</a> <a id="11085" href="Definition.Untyped.html#11070" class="Bound">x</a>
<a id="11087" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11093" class="Symbol">(</a><a id="11094" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a> <a id="11099" href="Definition.Untyped.html#11099" class="Bound">ρ</a><a id="11100" class="Symbol">)</a> <a id="11102" href="Definition.Untyped.html#11102" class="Bound">x</a>      <a id="11109" class="Symbol">=</a> <a id="11111" class="Symbol">(</a><a id="11112" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11118" href="Definition.Untyped.html#11099" class="Bound">ρ</a> <a id="11120" href="Definition.Untyped.html#11102" class="Bound">x</a><a id="11121" class="Symbol">)</a> <a id="11123" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a>
<a id="11126" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11132" class="Symbol">(</a><a id="11133" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="11138" href="Definition.Untyped.html#11138" class="Bound">ρ</a><a id="11139" class="Symbol">)</a> <a id="11141" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="11148" class="Symbol">=</a> <a id="11150" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>
<a id="11153" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11159" class="Symbol">(</a><a id="11160" href="Definition.Untyped.html#10396" class="InductiveConstructor">lift</a> <a id="11165" href="Definition.Untyped.html#11165" class="Bound">ρ</a><a id="11166" class="Symbol">)</a> <a id="11168" class="Symbol">(</a><a id="11169" href="Definition.Untyped.html#11169" class="Bound">x</a> <a id="11171" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="11173" class="Symbol">)</a> <a id="11175" class="Symbol">=</a> <a id="11177" class="Symbol">(</a><a id="11178" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11184" href="Definition.Untyped.html#11165" class="Bound">ρ</a> <a id="11186" href="Definition.Untyped.html#11169" class="Bound">x</a><a id="11187" class="Symbol">)</a> <a id="11189" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a>

  <a id="11195" class="Comment">-- Weakening of terms.</a>
  <a id="11220" class="Comment">-- If η : Γ ≤ Δ and Δ ⊢ t : A then Γ ⊢ wk η t : wk η A.</a>

<a id="11277" class="Keyword">mutual</a>
  <a id="wkGen"></a><a id="11286" href="Definition.Untyped.html#11286" class="Function">wkGen</a> <a id="11292" class="Symbol">:</a> <a id="11294" class="Symbol">{</a><a id="11295" href="Definition.Untyped.html#11295" class="Bound">m</a> <a id="11297" href="Definition.Untyped.html#11297" class="Bound">n</a> <a id="11299" class="Symbol">:</a> <a id="11301" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="11304" class="Symbol">}</a> <a id="11306" class="Symbol">{</a><a id="11307" href="Definition.Untyped.html#11307" class="Bound">bs</a> <a id="11310" class="Symbol">:</a> <a id="11312" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="11317" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="11320" class="Symbol">}</a> <a id="11322" class="Symbol">(</a><a id="11323" href="Definition.Untyped.html#11323" class="Bound">ρ</a> <a id="11325" class="Symbol">:</a> <a id="11327" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="11330" href="Definition.Untyped.html#11295" class="Bound">m</a> <a id="11332" href="Definition.Untyped.html#11297" class="Bound">n</a><a id="11333" class="Symbol">)</a> <a id="11335" class="Symbol">(</a><a id="11336" href="Definition.Untyped.html#11336" class="Bound">c</a> <a id="11338" class="Symbol">:</a> <a id="11340" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="11346" class="Symbol">(</a><a id="11347" href="Definition.Untyped.html#2223" class="Datatype">Term</a><a id="11351" class="Symbol">)</a> <a id="11353" href="Definition.Untyped.html#11297" class="Bound">n</a> <a id="11355" href="Definition.Untyped.html#11307" class="Bound">bs</a><a id="11357" class="Symbol">)</a> <a id="11359" class="Symbol">→</a> <a id="11361" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="11367" class="Symbol">(</a><a id="11368" href="Definition.Untyped.html#2223" class="Datatype">Term</a><a id="11372" class="Symbol">)</a> <a id="11374" href="Definition.Untyped.html#11295" class="Bound">m</a> <a id="11376" href="Definition.Untyped.html#11307" class="Bound">bs</a>
  <a id="11381" href="Definition.Untyped.html#11286" class="Function">wkGen</a> <a id="11387" href="Definition.Untyped.html#11387" class="Bound">ρ</a> <a id="11389" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>                <a id="11407" class="Symbol">=</a> <a id="11409" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>
  <a id="11414" href="Definition.Untyped.html#11286" class="Function">wkGen</a> <a id="11420" href="Definition.Untyped.html#11420" class="Bound">ρ</a> <a id="11422" class="Symbol">(</a><a id="11423" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a> <a id="11427" class="Symbol">{</a><a id="11428" class="Argument">b</a> <a id="11430" class="Symbol">=</a> <a id="11432" href="Definition.Untyped.html#11432" class="Bound">b</a><a id="11433" class="Symbol">}</a> <a id="11435" href="Definition.Untyped.html#11435" class="Bound">t</a> <a id="11437" href="Definition.Untyped.html#11437" class="Bound">c</a><a id="11438" class="Symbol">)</a> <a id="11440" class="Symbol">=</a> <a id="11442" class="Symbol">(</a><a id="11443" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11446" class="Symbol">(</a><a id="11447" href="Definition.Untyped.html#10813" class="Function">liftn</a> <a id="11453" href="Definition.Untyped.html#11420" class="Bound">ρ</a> <a id="11455" href="Definition.Untyped.html#11432" class="Bound">b</a><a id="11456" class="Symbol">)</a> <a id="11458" href="Definition.Untyped.html#11435" class="Bound">t</a><a id="11459" class="Symbol">)</a> <a id="11461" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="11463" class="Symbol">(</a><a id="11464" href="Definition.Untyped.html#11286" class="Function">wkGen</a> <a id="11470" href="Definition.Untyped.html#11420" class="Bound">ρ</a> <a id="11472" href="Definition.Untyped.html#11437" class="Bound">c</a><a id="11473" class="Symbol">)</a>

  <a id="wk"></a><a id="11478" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11481" class="Symbol">:</a> <a id="11483" class="Symbol">{</a><a id="11484" href="Definition.Untyped.html#11484" class="Bound">m</a> <a id="11486" href="Definition.Untyped.html#11486" class="Bound">n</a> <a id="11488" class="Symbol">:</a> <a id="11490" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="11493" class="Symbol">}</a> <a id="11495" class="Symbol">(</a><a id="11496" href="Definition.Untyped.html#11496" class="Bound">ρ</a> <a id="11498" class="Symbol">:</a> <a id="11500" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="11503" href="Definition.Untyped.html#11484" class="Bound">m</a> <a id="11505" href="Definition.Untyped.html#11486" class="Bound">n</a><a id="11506" class="Symbol">)</a> <a id="11508" class="Symbol">(</a><a id="11509" href="Definition.Untyped.html#11509" class="Bound">t</a> <a id="11511" class="Symbol">:</a> <a id="11513" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="11518" href="Definition.Untyped.html#11486" class="Bound">n</a><a id="11519" class="Symbol">)</a> <a id="11521" class="Symbol">→</a> <a id="11523" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="11528" href="Definition.Untyped.html#11484" class="Bound">m</a>
  <a id="11532" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11535" href="Definition.Untyped.html#11535" class="Bound">ρ</a> <a id="11537" class="Symbol">(</a><a id="11538" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="11542" href="Definition.Untyped.html#11542" class="Bound">x</a><a id="11543" class="Symbol">)</a>   <a id="11547" class="Symbol">=</a> <a id="11549" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="11553" class="Symbol">(</a><a id="11554" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11560" href="Definition.Untyped.html#11535" class="Bound">ρ</a> <a id="11562" href="Definition.Untyped.html#11542" class="Bound">x</a><a id="11563" class="Symbol">)</a>
  <a id="11567" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11570" href="Definition.Untyped.html#11570" class="Bound">ρ</a> <a id="11572" class="Symbol">(</a><a id="11573" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="11577" href="Definition.Untyped.html#11577" class="Bound">k</a> <a id="11579" href="Definition.Untyped.html#11579" class="Bound">c</a><a id="11580" class="Symbol">)</a> <a id="11582" class="Symbol">=</a> <a id="11584" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="11588" href="Definition.Untyped.html#11577" class="Bound">k</a> <a id="11590" class="Symbol">(</a><a id="11591" href="Definition.Untyped.html#11286" class="Function">wkGen</a> <a id="11597" href="Definition.Untyped.html#11570" class="Bound">ρ</a> <a id="11599" href="Definition.Untyped.html#11579" class="Bound">c</a><a id="11600" class="Symbol">)</a>


<a id="11604" class="Comment">-- Adding one variable to the context requires wk1.</a>
<a id="11656" class="Comment">-- If Γ ⊢ t : B then Γ∙A ⊢ wk1 t : wk1 B.</a>

<a id="wk1"></a><a id="11699" href="Definition.Untyped.html#11699" class="Function">wk1</a> <a id="11703" class="Symbol">:</a> <a id="11705" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="11710" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="11712" class="Symbol">→</a> <a id="11714" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="11719" class="Symbol">(</a><a id="11720" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="11723" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="11724" class="Symbol">)</a>
<a id="11726" href="Definition.Untyped.html#11699" class="Function">wk1</a> <a id="11730" class="Symbol">=</a> <a id="11732" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11735" class="Symbol">(</a><a id="11736" href="Definition.Untyped.html#10307" class="InductiveConstructor">step</a> <a id="11741" href="Definition.Untyped.html#10243" class="InductiveConstructor">id</a><a id="11743" class="Symbol">)</a>

<a id="11746" class="Comment">-- Weakening of a neutral term.</a>

<a id="wkNeutral"></a><a id="11779" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11789" class="Symbol">:</a> <a id="11791" class="Symbol">∀</a> <a id="11793" href="Definition.Untyped.html#11793" class="Bound">ρ</a> <a id="11795" class="Symbol">→</a> <a id="11797" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="11805" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="11807" class="Symbol">→</a> <a id="11809" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="11817" class="Symbol">{</a><a id="11818" class="Argument">n</a> <a id="11820" class="Symbol">=</a> <a id="11822" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="11823" class="Symbol">}</a> <a id="11825" class="Symbol">(</a><a id="11826" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="11829" href="Definition.Untyped.html#11793" class="Bound">ρ</a> <a id="11831" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="11832" class="Symbol">)</a>
<a id="11834" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11844" href="Definition.Untyped.html#11844" class="Bound">ρ</a> <a id="11846" class="Symbol">(</a><a id="11847" href="Definition.Untyped.html#6052" class="InductiveConstructor">var</a> <a id="11851" href="Definition.Untyped.html#11851" class="Bound">n</a><a id="11852" class="Symbol">)</a>       <a id="11860" class="Symbol">=</a> <a id="11862" href="Definition.Untyped.html#6052" class="InductiveConstructor">var</a> <a id="11866" class="Symbol">(</a><a id="11867" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="11873" href="Definition.Untyped.html#11844" class="Bound">ρ</a> <a id="11875" href="Definition.Untyped.html#11851" class="Bound">n</a><a id="11876" class="Symbol">)</a>
<a id="11878" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11888" href="Definition.Untyped.html#11888" class="Bound">ρ</a> <a id="11890" class="Symbol">(</a><a id="11891" href="Definition.Untyped.html#6096" class="InductiveConstructor">∘ₙ</a> <a id="11894" href="Definition.Untyped.html#11894" class="Bound">n</a><a id="11895" class="Symbol">)</a>        <a id="11904" class="Symbol">=</a> <a id="11906" href="Definition.Untyped.html#6096" class="InductiveConstructor">∘ₙ</a> <a id="11909" class="Symbol">(</a><a id="11910" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11920" href="Definition.Untyped.html#11888" class="Bound">ρ</a> <a id="11922" href="Definition.Untyped.html#11894" class="Bound">n</a><a id="11923" class="Symbol">)</a>
<a id="11925" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11935" href="Definition.Untyped.html#11935" class="Bound">ρ</a> <a id="11937" class="Symbol">(</a><a id="11938" href="Definition.Untyped.html#6144" class="InductiveConstructor">fstₙ</a> <a id="11943" href="Definition.Untyped.html#11943" class="Bound">n</a><a id="11944" class="Symbol">)</a>      <a id="11951" class="Symbol">=</a> <a id="11953" href="Definition.Untyped.html#6144" class="InductiveConstructor">fstₙ</a> <a id="11958" class="Symbol">(</a><a id="11959" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11969" href="Definition.Untyped.html#11935" class="Bound">ρ</a> <a id="11971" href="Definition.Untyped.html#11943" class="Bound">n</a><a id="11972" class="Symbol">)</a>
<a id="11974" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="11984" href="Definition.Untyped.html#11984" class="Bound">ρ</a> <a id="11986" class="Symbol">(</a><a id="11987" href="Definition.Untyped.html#6188" class="InductiveConstructor">sndₙ</a> <a id="11992" href="Definition.Untyped.html#11992" class="Bound">n</a><a id="11993" class="Symbol">)</a>      <a id="12000" class="Symbol">=</a> <a id="12002" href="Definition.Untyped.html#6188" class="InductiveConstructor">sndₙ</a> <a id="12007" class="Symbol">(</a><a id="12008" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12018" href="Definition.Untyped.html#11984" class="Bound">ρ</a> <a id="12020" href="Definition.Untyped.html#11992" class="Bound">n</a><a id="12021" class="Symbol">)</a>
<a id="12023" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12033" href="Definition.Untyped.html#12033" class="Bound">ρ</a> <a id="12035" class="Symbol">(</a><a id="12036" href="Definition.Untyped.html#6232" class="InductiveConstructor">natrecₙ</a> <a id="12044" href="Definition.Untyped.html#12044" class="Bound">n</a><a id="12045" class="Symbol">)</a>   <a id="12049" class="Symbol">=</a> <a id="12051" href="Definition.Untyped.html#6232" class="InductiveConstructor">natrecₙ</a> <a id="12059" class="Symbol">(</a><a id="12060" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12070" href="Definition.Untyped.html#12033" class="Bound">ρ</a> <a id="12072" href="Definition.Untyped.html#12044" class="Bound">n</a><a id="12073" class="Symbol">)</a>
<a id="12075" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12085" href="Definition.Untyped.html#12085" class="Bound">ρ</a> <a id="12087" class="Symbol">(</a><a id="12088" href="Definition.Untyped.html#6289" class="InductiveConstructor">prodrecₙ</a> <a id="12097" href="Definition.Untyped.html#12097" class="Bound">n</a><a id="12098" class="Symbol">)</a>  <a id="12101" class="Symbol">=</a> <a id="12103" href="Definition.Untyped.html#6289" class="InductiveConstructor">prodrecₙ</a> <a id="12112" class="Symbol">(</a><a id="12113" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12123" href="Definition.Untyped.html#12085" class="Bound">ρ</a> <a id="12125" href="Definition.Untyped.html#12097" class="Bound">n</a><a id="12126" class="Symbol">)</a>
<a id="12128" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12138" href="Definition.Untyped.html#12138" class="Bound">ρ</a> <a id="12140" class="Symbol">(</a><a id="12141" href="Definition.Untyped.html#6343" class="InductiveConstructor">Emptyrecₙ</a> <a id="12151" href="Definition.Untyped.html#12151" class="Bound">e</a><a id="12152" class="Symbol">)</a> <a id="12154" class="Symbol">=</a> <a id="12156" href="Definition.Untyped.html#6343" class="InductiveConstructor">Emptyrecₙ</a> <a id="12166" class="Symbol">(</a><a id="12167" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12177" href="Definition.Untyped.html#12138" class="Bound">ρ</a> <a id="12179" href="Definition.Untyped.html#12151" class="Bound">e</a><a id="12180" class="Symbol">)</a>

<a id="12183" class="Comment">-- Weakening can be applied to our whnf views.</a>

<a id="wkNatural"></a><a id="12231" href="Definition.Untyped.html#12231" class="Function">wkNatural</a> <a id="12241" class="Symbol">:</a> <a id="12243" class="Symbol">∀</a> <a id="12245" href="Definition.Untyped.html#12245" class="Bound">ρ</a> <a id="12247" class="Symbol">→</a> <a id="12249" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="12257" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="12259" class="Symbol">→</a> <a id="12261" href="Definition.Untyped.html#7947" class="Datatype">Natural</a> <a id="12269" class="Symbol">{</a><a id="12270" class="Argument">n</a> <a id="12272" class="Symbol">=</a> <a id="12274" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="12275" class="Symbol">}</a> <a id="12277" class="Symbol">(</a><a id="12278" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="12281" href="Definition.Untyped.html#12245" class="Bound">ρ</a> <a id="12283" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="12284" class="Symbol">)</a>
<a id="12286" href="Definition.Untyped.html#12231" class="Function">wkNatural</a> <a id="12296" href="Definition.Untyped.html#12296" class="Bound">ρ</a> <a id="12298" href="Definition.Untyped.html#8025" class="InductiveConstructor">sucₙ</a>   <a id="12305" class="Symbol">=</a> <a id="12307" href="Definition.Untyped.html#8025" class="InductiveConstructor">sucₙ</a>
<a id="12312" href="Definition.Untyped.html#12231" class="Function">wkNatural</a> <a id="12322" href="Definition.Untyped.html#12322" class="Bound">ρ</a> <a id="12324" href="Definition.Untyped.html#7990" class="InductiveConstructor">zeroₙ</a>  <a id="12331" class="Symbol">=</a> <a id="12333" href="Definition.Untyped.html#7990" class="InductiveConstructor">zeroₙ</a>
<a id="12339" href="Definition.Untyped.html#12231" class="Function">wkNatural</a> <a id="12349" href="Definition.Untyped.html#12349" class="Bound">ρ</a> <a id="12351" class="Symbol">(</a><a id="12352" href="Definition.Untyped.html#8063" class="InductiveConstructor">ne</a> <a id="12355" href="Definition.Untyped.html#12355" class="Bound">x</a><a id="12356" class="Symbol">)</a> <a id="12358" class="Symbol">=</a> <a id="12360" href="Definition.Untyped.html#8063" class="InductiveConstructor">ne</a> <a id="12363" class="Symbol">(</a><a id="12364" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12374" href="Definition.Untyped.html#12349" class="Bound">ρ</a> <a id="12376" href="Definition.Untyped.html#12355" class="Bound">x</a><a id="12377" class="Symbol">)</a>

<a id="wkType"></a><a id="12380" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12387" class="Symbol">:</a> <a id="12389" class="Symbol">∀</a> <a id="12391" href="Definition.Untyped.html#12391" class="Bound">ρ</a> <a id="12393" class="Symbol">→</a> <a id="12395" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="12400" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="12402" class="Symbol">→</a> <a id="12404" href="Definition.Untyped.html#8210" class="Datatype">Type</a> <a id="12409" class="Symbol">{</a><a id="12410" class="Argument">n</a> <a id="12412" class="Symbol">=</a> <a id="12414" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="12415" class="Symbol">}</a> <a id="12417" class="Symbol">(</a><a id="12418" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="12421" href="Definition.Untyped.html#12391" class="Bound">ρ</a> <a id="12423" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="12424" class="Symbol">)</a>
<a id="12426" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12433" href="Definition.Untyped.html#12433" class="Bound">ρ</a> <a id="12435" href="Definition.Untyped.html#8250" class="InductiveConstructor">Πₙ</a>     <a id="12442" class="Symbol">=</a> <a id="12444" href="Definition.Untyped.html#8250" class="InductiveConstructor">Πₙ</a>
<a id="12447" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12454" href="Definition.Untyped.html#12454" class="Bound">ρ</a> <a id="12456" href="Definition.Untyped.html#8296" class="InductiveConstructor">Σₙ</a>     <a id="12463" class="Symbol">=</a> <a id="12465" href="Definition.Untyped.html#8296" class="InductiveConstructor">Σₙ</a>
<a id="12468" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12475" href="Definition.Untyped.html#12475" class="Bound">ρ</a> <a id="12477" href="Definition.Untyped.html#8343" class="InductiveConstructor">ℕₙ</a>     <a id="12484" class="Symbol">=</a> <a id="12486" href="Definition.Untyped.html#8343" class="InductiveConstructor">ℕₙ</a>
<a id="12489" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12496" href="Definition.Untyped.html#12496" class="Bound">ρ</a> <a id="12498" href="Definition.Untyped.html#8373" class="InductiveConstructor">Emptyₙ</a> <a id="12505" class="Symbol">=</a> <a id="12507" href="Definition.Untyped.html#8373" class="InductiveConstructor">Emptyₙ</a>
<a id="12514" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12521" href="Definition.Untyped.html#12521" class="Bound">ρ</a> <a id="12523" href="Definition.Untyped.html#8407" class="InductiveConstructor">Unitₙ</a>  <a id="12530" class="Symbol">=</a> <a id="12532" href="Definition.Untyped.html#8407" class="InductiveConstructor">Unitₙ</a>
<a id="12538" href="Definition.Untyped.html#12380" class="Function">wkType</a> <a id="12545" href="Definition.Untyped.html#12545" class="Bound">ρ</a> <a id="12547" class="Symbol">(</a><a id="12548" href="Definition.Untyped.html#8440" class="InductiveConstructor">ne</a> <a id="12551" href="Definition.Untyped.html#12551" class="Bound">x</a><a id="12552" class="Symbol">)</a> <a id="12554" class="Symbol">=</a> <a id="12556" href="Definition.Untyped.html#8440" class="InductiveConstructor">ne</a> <a id="12559" class="Symbol">(</a><a id="12560" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12570" href="Definition.Untyped.html#12545" class="Bound">ρ</a> <a id="12572" href="Definition.Untyped.html#12551" class="Bound">x</a><a id="12573" class="Symbol">)</a>

<a id="wkFunction"></a><a id="12576" href="Definition.Untyped.html#12576" class="Function">wkFunction</a> <a id="12587" class="Symbol">:</a> <a id="12589" class="Symbol">∀</a> <a id="12591" href="Definition.Untyped.html#12591" class="Bound">ρ</a> <a id="12593" class="Symbol">→</a> <a id="12595" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="12604" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="12606" class="Symbol">→</a> <a id="12608" href="Definition.Untyped.html#8624" class="Datatype">Function</a> <a id="12617" class="Symbol">{</a><a id="12618" class="Argument">n</a> <a id="12620" class="Symbol">=</a> <a id="12622" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="12623" class="Symbol">}</a> <a id="12625" class="Symbol">(</a><a id="12626" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="12629" href="Definition.Untyped.html#12591" class="Bound">ρ</a> <a id="12631" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="12632" class="Symbol">)</a>
<a id="12634" href="Definition.Untyped.html#12576" class="Function">wkFunction</a> <a id="12645" href="Definition.Untyped.html#12645" class="Bound">ρ</a> <a id="12647" href="Definition.Untyped.html#8668" class="InductiveConstructor">lamₙ</a>   <a id="12654" class="Symbol">=</a> <a id="12656" href="Definition.Untyped.html#8668" class="InductiveConstructor">lamₙ</a>
<a id="12661" href="Definition.Untyped.html#12576" class="Function">wkFunction</a> <a id="12672" href="Definition.Untyped.html#12672" class="Bound">ρ</a> <a id="12674" class="Symbol">(</a><a id="12675" href="Definition.Untyped.html#8696" class="InductiveConstructor">ne</a> <a id="12678" href="Definition.Untyped.html#12678" class="Bound">x</a><a id="12679" class="Symbol">)</a> <a id="12681" class="Symbol">=</a> <a id="12683" href="Definition.Untyped.html#8696" class="InductiveConstructor">ne</a> <a id="12686" class="Symbol">(</a><a id="12687" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12697" href="Definition.Untyped.html#12672" class="Bound">ρ</a> <a id="12699" href="Definition.Untyped.html#12678" class="Bound">x</a><a id="12700" class="Symbol">)</a>

<a id="wkProduct"></a><a id="12703" href="Definition.Untyped.html#12703" class="Function">wkProduct</a> <a id="12713" class="Symbol">:</a> <a id="12715" class="Symbol">∀</a> <a id="12717" href="Definition.Untyped.html#12717" class="Bound">ρ</a> <a id="12719" class="Symbol">→</a> <a id="12721" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="12729" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="12731" class="Symbol">→</a> <a id="12733" href="Definition.Untyped.html#8790" class="Datatype">Product</a> <a id="12741" class="Symbol">{</a><a id="12742" class="Argument">n</a> <a id="12744" class="Symbol">=</a> <a id="12746" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="12747" class="Symbol">}</a> <a id="12749" class="Symbol">(</a><a id="12750" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="12753" href="Definition.Untyped.html#12717" class="Bound">ρ</a> <a id="12755" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="12756" class="Symbol">)</a>
<a id="12758" href="Definition.Untyped.html#12703" class="Function">wkProduct</a> <a id="12768" href="Definition.Untyped.html#12768" class="Bound">ρ</a> <a id="12770" href="Definition.Untyped.html#8833" class="InductiveConstructor">prodₙ</a>  <a id="12777" class="Symbol">=</a> <a id="12779" href="Definition.Untyped.html#8833" class="InductiveConstructor">prodₙ</a>
<a id="12785" href="Definition.Untyped.html#12703" class="Function">wkProduct</a> <a id="12795" href="Definition.Untyped.html#12795" class="Bound">ρ</a> <a id="12797" class="Symbol">(</a><a id="12798" href="Definition.Untyped.html#8862" class="InductiveConstructor">ne</a> <a id="12801" href="Definition.Untyped.html#12801" class="Bound">x</a><a id="12802" class="Symbol">)</a> <a id="12804" class="Symbol">=</a> <a id="12806" href="Definition.Untyped.html#8862" class="InductiveConstructor">ne</a> <a id="12809" class="Symbol">(</a><a id="12810" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="12820" href="Definition.Untyped.html#12795" class="Bound">ρ</a> <a id="12822" href="Definition.Untyped.html#12801" class="Bound">x</a><a id="12823" class="Symbol">)</a>

<a id="wkWhnf"></a><a id="12826" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12833" class="Symbol">:</a> <a id="12835" class="Symbol">∀</a> <a id="12837" href="Definition.Untyped.html#12837" class="Bound">ρ</a> <a id="12839" class="Symbol">→</a> <a id="12841" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="12846" href="Definition.Untyped.html#2381" class="Generalizable">t</a> <a id="12848" class="Symbol">→</a> <a id="12850" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="12855" class="Symbol">{</a><a id="12856" class="Argument">n</a> <a id="12858" class="Symbol">=</a> <a id="12860" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="12861" class="Symbol">}</a> <a id="12863" class="Symbol">(</a><a id="12864" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="12867" href="Definition.Untyped.html#12837" class="Bound">ρ</a> <a id="12869" href="Definition.Untyped.html#2381" class="Generalizable">t</a><a id="12870" class="Symbol">)</a>
<a id="12872" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12879" href="Definition.Untyped.html#12879" class="Bound">ρ</a> <a id="12881" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a>      <a id="12889" class="Symbol">=</a> <a id="12891" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a>
<a id="12894" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12901" href="Definition.Untyped.html#12901" class="Bound">ρ</a> <a id="12903" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>      <a id="12911" class="Symbol">=</a> <a id="12913" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>
<a id="12916" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12923" href="Definition.Untyped.html#12923" class="Bound">ρ</a> <a id="12925" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>      <a id="12933" class="Symbol">=</a> <a id="12935" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>
<a id="12938" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12945" href="Definition.Untyped.html#12945" class="Bound">ρ</a> <a id="12947" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a>      <a id="12955" class="Symbol">=</a> <a id="12957" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a>
<a id="12960" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12967" href="Definition.Untyped.html#12967" class="Bound">ρ</a> <a id="12969" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a>  <a id="12977" class="Symbol">=</a> <a id="12979" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a>
<a id="12986" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="12993" href="Definition.Untyped.html#12993" class="Bound">ρ</a> <a id="12995" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a>   <a id="13003" class="Symbol">=</a> <a id="13005" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a>
<a id="13011" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13018" href="Definition.Untyped.html#13018" class="Bound">ρ</a> <a id="13020" href="Definition.Untyped.html#6748" class="InductiveConstructor">lamₙ</a>    <a id="13028" class="Symbol">=</a> <a id="13030" href="Definition.Untyped.html#6748" class="InductiveConstructor">lamₙ</a>
<a id="13035" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13042" href="Definition.Untyped.html#13042" class="Bound">ρ</a> <a id="13044" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a>   <a id="13052" class="Symbol">=</a> <a id="13054" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a>
<a id="13060" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13067" href="Definition.Untyped.html#13067" class="Bound">ρ</a> <a id="13069" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a>   <a id="13077" class="Symbol">=</a> <a id="13079" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a>
<a id="13085" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13092" href="Definition.Untyped.html#13092" class="Bound">ρ</a> <a id="13094" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a>    <a id="13102" class="Symbol">=</a> <a id="13104" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a>
<a id="13109" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13116" href="Definition.Untyped.html#13116" class="Bound">ρ</a> <a id="13118" href="Definition.Untyped.html#6816" class="InductiveConstructor">starₙ</a>   <a id="13126" class="Symbol">=</a> <a id="13128" href="Definition.Untyped.html#6816" class="InductiveConstructor">starₙ</a>
<a id="13134" href="Definition.Untyped.html#12826" class="Function">wkWhnf</a> <a id="13141" href="Definition.Untyped.html#13141" class="Bound">ρ</a> <a id="13143" class="Symbol">(</a><a id="13144" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="13147" href="Definition.Untyped.html#13147" class="Bound">x</a><a id="13148" class="Symbol">)</a>  <a id="13151" class="Symbol">=</a> <a id="13153" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="13156" class="Symbol">(</a><a id="13157" href="Definition.Untyped.html#11779" class="Function">wkNeutral</a> <a id="13167" href="Definition.Untyped.html#13141" class="Bound">ρ</a> <a id="13169" href="Definition.Untyped.html#13147" class="Bound">x</a><a id="13170" class="Symbol">)</a>




<a id="13176" class="Comment">------------------------------------------------------------------------</a>
<a id="13249" class="Comment">-- Substitution</a>

<a id="13266" class="Comment">-- The substitution operation  subst σ t  replaces the free de Bruijn indices</a>
<a id="13344" class="Comment">-- of term t by chosen terms as specified by σ.</a>

<a id="13393" class="Comment">-- The substitution σ itself is a map from natural numbers to terms.</a>

<a id="Subst"></a><a id="13463" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="13469" class="Symbol">:</a> <a id="13471" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="13475" class="Symbol">→</a> <a id="13477" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a> <a id="13481" class="Symbol">→</a> <a id="13483" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="13487" href="Definition.Untyped.html#118" class="Bound">a</a>
<a id="13489" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="13495" href="Definition.Untyped.html#13495" class="Bound">m</a> <a id="13497" href="Definition.Untyped.html#13497" class="Bound">n</a> <a id="13499" class="Symbol">=</a> <a id="13501" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="13505" href="Definition.Untyped.html#13497" class="Bound">n</a> <a id="13507" class="Symbol">→</a> <a id="13509" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="13514" href="Definition.Untyped.html#13495" class="Bound">m</a>

<a id="13517" class="Comment">-- Given closed contexts ⊢ Γ and ⊢ Δ,</a>
<a id="13555" class="Comment">-- substitutions may be typed via Γ ⊢ σ : Δ meaning that</a>
<a id="13612" class="Comment">-- Γ ⊢ σ(x) : (subst σ Δ)(x) for all x ∈ dom(Δ).</a>
<a id="13661" class="Comment">--</a>
<a id="13664" class="Comment">-- The substitution operation is then typed as follows:</a>
<a id="13720" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ t : A, then Γ ⊢ subst σ t : subst σ A.</a>
<a id="13783" class="Comment">--</a>
<a id="13786" class="Comment">-- Although substitutions are untyped, typing helps us</a>
<a id="13841" class="Comment">-- to understand the operation on substitutions.</a>

<a id="13891" class="Comment">-- We may view σ as the infinite stream σ 0, σ 1, ...</a>

<a id="13946" class="Comment">-- Extract the substitution of the first variable.</a>
<a id="13997" class="Comment">--</a>
<a id="14000" class="Comment">-- If Γ ⊢ σ : Δ∙A  then Γ ⊢ head σ : subst σ A.</a>

<a id="head"></a><a id="14049" href="Definition.Untyped.html#14049" class="Function">head</a> <a id="14054" class="Symbol">:</a> <a id="14056" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14062" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14064" class="Symbol">(</a><a id="14065" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="14068" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14069" class="Symbol">)</a> <a id="14071" class="Symbol">→</a> <a id="14073" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="14078" href="Definition.Untyped.html#314" class="Generalizable">m</a>
<a id="14080" href="Definition.Untyped.html#14049" class="Function">head</a> <a id="14085" href="Definition.Untyped.html#14085" class="Bound">σ</a> <a id="14087" class="Symbol">=</a> <a id="14089" href="Definition.Untyped.html#14085" class="Bound">σ</a> <a id="14091" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>

<a id="14095" class="Comment">-- Remove the first variable instance of a substitution</a>
<a id="14151" class="Comment">-- and shift the rest to accommodate.</a>
<a id="14189" class="Comment">--</a>
<a id="14192" class="Comment">-- If Γ ⊢ σ : Δ∙A then Γ ⊢ tail σ : Δ.</a>

<a id="tail"></a><a id="14232" href="Definition.Untyped.html#14232" class="Function">tail</a> <a id="14237" class="Symbol">:</a> <a id="14239" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14245" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14247" class="Symbol">(</a><a id="14248" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="14251" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14252" class="Symbol">)</a> <a id="14254" class="Symbol">→</a> <a id="14256" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14262" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14264" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="14266" href="Definition.Untyped.html#14232" class="Function">tail</a> <a id="14271" href="Definition.Untyped.html#14271" class="Bound">σ</a> <a id="14273" href="Definition.Untyped.html#14273" class="Bound">x</a> <a id="14275" class="Symbol">=</a> <a id="14277" href="Definition.Untyped.html#14271" class="Bound">σ</a> <a id="14279" class="Symbol">(</a><a id="14280" href="Definition.Untyped.html#14273" class="Bound">x</a> <a id="14282" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="14284" class="Symbol">)</a>

<a id="14287" class="Comment">-- Substitution of a variable.</a>
<a id="14318" class="Comment">--</a>
<a id="14321" class="Comment">-- If Γ ⊢ σ : Δ then Γ ⊢ substVar σ x : (subst σ Δ)(x).</a>

<a id="substVar"></a><a id="14378" href="Definition.Untyped.html#14378" class="Function">substVar</a> <a id="14387" class="Symbol">:</a> <a id="14389" class="Symbol">(</a><a id="14390" href="Definition.Untyped.html#14390" class="Bound">σ</a> <a id="14392" class="Symbol">:</a> <a id="14394" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14400" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14402" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14403" class="Symbol">)</a> <a id="14405" class="Symbol">(</a><a id="14406" href="Definition.Untyped.html#14406" class="Bound">x</a> <a id="14408" class="Symbol">:</a> <a id="14410" href="Data.Fin.Base.html#1126" class="Datatype">Fin</a> <a id="14414" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14415" class="Symbol">)</a> <a id="14417" class="Symbol">→</a> <a id="14419" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="14424" href="Definition.Untyped.html#314" class="Generalizable">m</a>
<a id="14426" href="Definition.Untyped.html#14378" class="Function">substVar</a> <a id="14435" href="Definition.Untyped.html#14435" class="Bound">σ</a> <a id="14437" href="Definition.Untyped.html#14437" class="Bound">x</a> <a id="14439" class="Symbol">=</a> <a id="14441" href="Definition.Untyped.html#14435" class="Bound">σ</a> <a id="14443" href="Definition.Untyped.html#14437" class="Bound">x</a>

<a id="14446" class="Comment">-- Identity substitution.</a>
<a id="14472" class="Comment">-- Replaces each variable by itself.</a>
<a id="14509" class="Comment">--</a>
<a id="14512" class="Comment">-- Γ ⊢ idSubst : Γ.</a>

<a id="idSubst"></a><a id="14533" href="Definition.Untyped.html#14533" class="Function">idSubst</a> <a id="14541" class="Symbol">:</a> <a id="14543" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14549" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="14551" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="14553" href="Definition.Untyped.html#14533" class="Function">idSubst</a> <a id="14561" class="Symbol">=</a> <a id="14563" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a>

<a id="14568" class="Comment">-- Weaken a substitution by one.</a>
<a id="14601" class="Comment">--</a>
<a id="14604" class="Comment">-- If Γ ⊢ σ : Δ then Γ∙A ⊢ wk1Subst σ : Δ.</a>

<a id="wk1Subst"></a><a id="14648" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="14657" class="Symbol">:</a> <a id="14659" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14665" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14667" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="14669" class="Symbol">→</a> <a id="14671" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14677" class="Symbol">(</a><a id="14678" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="14681" href="Definition.Untyped.html#314" class="Generalizable">m</a><a id="14682" class="Symbol">)</a> <a id="14684" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="14686" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="14695" href="Definition.Untyped.html#14695" class="Bound">σ</a> <a id="14697" href="Definition.Untyped.html#14697" class="Bound">x</a> <a id="14699" class="Symbol">=</a> <a id="14701" href="Definition.Untyped.html#11699" class="Function">wk1</a> <a id="14705" class="Symbol">(</a><a id="14706" href="Definition.Untyped.html#14695" class="Bound">σ</a> <a id="14708" href="Definition.Untyped.html#14697" class="Bound">x</a><a id="14709" class="Symbol">)</a>

<a id="14712" class="Comment">-- Lift a substitution.</a>
<a id="14736" class="Comment">--</a>
<a id="14739" class="Comment">-- If Γ ⊢ σ : Δ then Γ∙A ⊢ liftSubst σ : Δ∙A.</a>

<a id="liftSubst"></a><a id="14786" href="Definition.Untyped.html#14786" class="Function">liftSubst</a> <a id="14796" class="Symbol">:</a> <a id="14798" class="Symbol">(</a><a id="14799" href="Definition.Untyped.html#14799" class="Bound">σ</a> <a id="14801" class="Symbol">:</a> <a id="14803" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14809" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="14811" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14812" class="Symbol">)</a> <a id="14814" class="Symbol">→</a> <a id="14816" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14822" class="Symbol">(</a><a id="14823" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="14826" href="Definition.Untyped.html#314" class="Generalizable">m</a><a id="14827" class="Symbol">)</a> <a id="14829" class="Symbol">(</a><a id="14830" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="14833" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="14834" class="Symbol">)</a>
<a id="14836" href="Definition.Untyped.html#14786" class="Function">liftSubst</a> <a id="14846" href="Definition.Untyped.html#14846" class="Bound">σ</a> <a id="14848" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>     <a id="14855" class="Symbol">=</a> <a id="14857" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="14861" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>
<a id="14864" href="Definition.Untyped.html#14786" class="Function">liftSubst</a> <a id="14874" href="Definition.Untyped.html#14874" class="Bound">σ</a> <a id="14876" class="Symbol">(</a><a id="14877" href="Definition.Untyped.html#14877" class="Bound">x</a> <a id="14879" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="14881" class="Symbol">)</a> <a id="14883" class="Symbol">=</a> <a id="14885" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="14894" href="Definition.Untyped.html#14874" class="Bound">σ</a> <a id="14896" href="Definition.Untyped.html#14877" class="Bound">x</a>

<a id="liftSubstn"></a><a id="14899" href="Definition.Untyped.html#14899" class="Function">liftSubstn</a> <a id="14910" class="Symbol">:</a> <a id="14912" class="Symbol">{</a><a id="14913" href="Definition.Untyped.html#14913" class="Bound">k</a> <a id="14915" href="Definition.Untyped.html#14915" class="Bound">m</a> <a id="14917" class="Symbol">:</a> <a id="14919" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="14922" class="Symbol">}</a> <a id="14924" class="Symbol">→</a> <a id="14926" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14932" href="Definition.Untyped.html#14913" class="Bound">k</a> <a id="14934" href="Definition.Untyped.html#14915" class="Bound">m</a> <a id="14936" class="Symbol">→</a> <a id="14938" class="Symbol">(</a><a id="14939" href="Definition.Untyped.html#14939" class="Bound">n</a> <a id="14941" class="Symbol">:</a> <a id="14943" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="14946" class="Symbol">)</a> <a id="14948" class="Symbol">→</a> <a id="14950" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="14956" class="Symbol">(</a><a id="14957" href="Definition.Untyped.html#14939" class="Bound">n</a> <a id="14959" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="14961" href="Definition.Untyped.html#14913" class="Bound">k</a><a id="14962" class="Symbol">)</a> <a id="14964" class="Symbol">(</a><a id="14965" href="Definition.Untyped.html#14939" class="Bound">n</a> <a id="14967" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="14969" href="Definition.Untyped.html#14915" class="Bound">m</a><a id="14970" class="Symbol">)</a>
<a id="14972" href="Definition.Untyped.html#14899" class="Function">liftSubstn</a> <a id="14983" href="Definition.Untyped.html#14983" class="Bound">σ</a> <a id="14985" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">Nat.zero</a> <a id="14994" class="Symbol">=</a> <a id="14996" href="Definition.Untyped.html#14983" class="Bound">σ</a>
<a id="14998" href="Definition.Untyped.html#14899" class="Function">liftSubstn</a> <a id="15009" href="Definition.Untyped.html#15009" class="Bound">σ</a> <a id="15011" class="Symbol">(</a><a id="15012" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="15015" href="Definition.Untyped.html#15015" class="Bound">n</a><a id="15016" class="Symbol">)</a>   <a id="15020" class="Symbol">=</a> <a id="15022" href="Definition.Untyped.html#14786" class="Function">liftSubst</a> <a id="15032" class="Symbol">(</a><a id="15033" href="Definition.Untyped.html#14899" class="Function">liftSubstn</a> <a id="15044" href="Definition.Untyped.html#15009" class="Bound">σ</a> <a id="15046" href="Definition.Untyped.html#15015" class="Bound">n</a><a id="15047" class="Symbol">)</a>

<a id="15050" class="Comment">-- Transform a weakening into a substitution.</a>
<a id="15096" class="Comment">--</a>
<a id="15099" class="Comment">-- If ρ : Γ ≤ Δ then Γ ⊢ toSubst ρ : Δ.</a>

<a id="toSubst"></a><a id="15140" href="Definition.Untyped.html#15140" class="Function">toSubst</a> <a id="15148" class="Symbol">:</a>  <a id="15151" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="15154" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15156" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="15158" class="Symbol">→</a> <a id="15160" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="15166" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15168" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="15170" href="Definition.Untyped.html#15140" class="Function">toSubst</a> <a id="15178" href="Definition.Untyped.html#15178" class="Bound">pr</a> <a id="15181" href="Definition.Untyped.html#15181" class="Bound">x</a> <a id="15183" class="Symbol">=</a> <a id="15185" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="15189" class="Symbol">(</a><a id="15190" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="15196" href="Definition.Untyped.html#15178" class="Bound">pr</a> <a id="15199" href="Definition.Untyped.html#15181" class="Bound">x</a><a id="15200" class="Symbol">)</a>

<a id="15203" class="Comment">-- Apply a substitution to a term.</a>
<a id="15238" class="Comment">--</a>
<a id="15241" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ t : A then Γ ⊢ subst σ t : subst σ A.</a>

<a id="15304" class="Keyword">mutual</a>
  <a id="substGen"></a><a id="15313" href="Definition.Untyped.html#15313" class="Function">substGen</a> <a id="15322" class="Symbol">:</a> <a id="15324" class="Symbol">{</a><a id="15325" href="Definition.Untyped.html#15325" class="Bound">bs</a> <a id="15328" class="Symbol">:</a> <a id="15330" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="15335" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="15338" class="Symbol">}</a> <a id="15340" class="Symbol">(</a><a id="15341" href="Definition.Untyped.html#15341" class="Bound">σ</a> <a id="15343" class="Symbol">:</a> <a id="15345" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="15351" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15353" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="15354" class="Symbol">)</a> <a id="15356" class="Symbol">(</a><a id="15357" href="Definition.Untyped.html#15357" class="Bound">g</a> <a id="15359" class="Symbol">:</a> <a id="15361" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="15367" class="Symbol">(</a><a id="15368" href="Definition.Untyped.html#2223" class="Datatype">Term</a><a id="15372" class="Symbol">)</a> <a id="15374" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="15376" href="Definition.Untyped.html#15325" class="Bound">bs</a><a id="15378" class="Symbol">)</a> <a id="15380" class="Symbol">→</a> <a id="15382" href="Definition.Untyped.html#1018" class="Datatype">GenTs</a> <a id="15388" class="Symbol">(</a><a id="15389" href="Definition.Untyped.html#2223" class="Datatype">Term</a><a id="15393" class="Symbol">)</a> <a id="15395" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15397" href="Definition.Untyped.html#15325" class="Bound">bs</a>
  <a id="15402" href="Definition.Untyped.html#15313" class="Function">substGen</a> <a id="15411" href="Definition.Untyped.html#15411" class="Bound">σ</a>  <a id="15414" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>      <a id="15422" class="Symbol">=</a> <a id="15424" href="Definition.Untyped.html#1075" class="InductiveConstructor">[]</a>
  <a id="15429" href="Definition.Untyped.html#15313" class="Function">substGen</a> <a id="15438" href="Definition.Untyped.html#15438" class="Bound">σ</a> <a id="15440" class="Symbol">(</a><a id="15441" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a> <a id="15445" class="Symbol">{</a><a id="15446" class="Argument">b</a> <a id="15448" class="Symbol">=</a> <a id="15450" href="Definition.Untyped.html#15450" class="Bound">b</a><a id="15451" class="Symbol">}</a> <a id="15453" href="Definition.Untyped.html#15453" class="Bound">t</a> <a id="15455" href="Definition.Untyped.html#15455" class="Bound">ts</a><a id="15457" class="Symbol">)</a> <a id="15459" class="Symbol">=</a> <a id="15461" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="15467" class="Symbol">(</a><a id="15468" href="Definition.Untyped.html#14899" class="Function">liftSubstn</a> <a id="15479" href="Definition.Untyped.html#15438" class="Bound">σ</a> <a id="15481" href="Definition.Untyped.html#15450" class="Bound">b</a><a id="15482" class="Symbol">)</a> <a id="15484" href="Definition.Untyped.html#15453" class="Bound">t</a> <a id="15486" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">∷</a> <a id="15488" class="Symbol">(</a><a id="15489" href="Definition.Untyped.html#15313" class="Function">substGen</a> <a id="15498" href="Definition.Untyped.html#15438" class="Bound">σ</a> <a id="15500" href="Definition.Untyped.html#15455" class="Bound">ts</a><a id="15502" class="Symbol">)</a>

  <a id="subst"></a><a id="15507" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="15513" class="Symbol">:</a> <a id="15515" class="Symbol">(</a><a id="15516" href="Definition.Untyped.html#15516" class="Bound">σ</a> <a id="15518" class="Symbol">:</a> <a id="15520" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="15526" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15528" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="15529" class="Symbol">)</a> <a id="15531" class="Symbol">(</a><a id="15532" href="Definition.Untyped.html#15532" class="Bound">t</a> <a id="15534" class="Symbol">:</a> <a id="15536" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="15541" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="15542" class="Symbol">)</a> <a id="15544" class="Symbol">→</a> <a id="15546" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="15551" href="Definition.Untyped.html#314" class="Generalizable">m</a>
  <a id="15555" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="15561" href="Definition.Untyped.html#15561" class="Bound">σ</a> <a id="15563" class="Symbol">(</a><a id="15564" href="Definition.Untyped.html#2254" class="InductiveConstructor">var</a> <a id="15568" href="Definition.Untyped.html#15568" class="Bound">x</a><a id="15569" class="Symbol">)</a>   <a id="15573" class="Symbol">=</a> <a id="15575" href="Definition.Untyped.html#14378" class="Function">substVar</a> <a id="15584" href="Definition.Untyped.html#15561" class="Bound">σ</a> <a id="15586" href="Definition.Untyped.html#15568" class="Bound">x</a>
  <a id="15590" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="15596" href="Definition.Untyped.html#15596" class="Bound">σ</a> <a id="15598" class="Symbol">(</a><a id="15599" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="15603" href="Definition.Untyped.html#15603" class="Bound">x</a> <a id="15605" href="Definition.Untyped.html#15605" class="Bound">c</a><a id="15606" class="Symbol">)</a> <a id="15608" class="Symbol">=</a> <a id="15610" href="Definition.Untyped.html#2283" class="InductiveConstructor">gen</a> <a id="15614" href="Definition.Untyped.html#15603" class="Bound">x</a> <a id="15616" class="Symbol">(</a><a id="15617" href="Definition.Untyped.html#15313" class="Function">substGen</a> <a id="15626" href="Definition.Untyped.html#15596" class="Bound">σ</a> <a id="15628" href="Definition.Untyped.html#15605" class="Bound">c</a><a id="15629" class="Symbol">)</a>

<a id="15632" class="Comment">-- Extend a substitution by adding a term as</a>
<a id="15677" class="Comment">-- the first variable substitution and shift the rest.</a>
<a id="15732" class="Comment">--</a>
<a id="15735" class="Comment">-- If Γ ⊢ σ : Δ and Γ ⊢ t : subst σ A then Γ ⊢ consSubst σ t : Δ∙A.</a>

<a id="consSubst"></a><a id="15804" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="15814" class="Symbol">:</a> <a id="15816" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="15822" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15824" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="15826" class="Symbol">→</a> <a id="15828" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="15833" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15835" class="Symbol">→</a> <a id="15837" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="15843" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="15845" class="Symbol">(</a><a id="15846" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="15849" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="15850" class="Symbol">)</a>
<a id="15852" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="15862" href="Definition.Untyped.html#15862" class="Bound">σ</a> <a id="15864" href="Definition.Untyped.html#15864" class="Bound">t</a>  <a id="15867" href="Data.Fin.Base.html#1148" class="InductiveConstructor">x0</a>    <a id="15873" class="Symbol">=</a> <a id="15875" href="Definition.Untyped.html#15864" class="Bound">t</a>
<a id="15877" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="15887" href="Definition.Untyped.html#15887" class="Bound">σ</a> <a id="15889" href="Definition.Untyped.html#15889" class="Bound">t</a> <a id="15891" class="Symbol">(</a><a id="15892" href="Definition.Untyped.html#15892" class="Bound">x</a> <a id="15894" href="Data.Fin.Base.html#1179" class="InductiveConstructor Operator">+1</a><a id="15896" class="Symbol">)</a> <a id="15898" class="Symbol">=</a> <a id="15900" href="Definition.Untyped.html#15887" class="Bound">σ</a> <a id="15902" href="Definition.Untyped.html#15892" class="Bound">x</a>

<a id="15905" class="Comment">-- Singleton substitution.</a>
<a id="15932" class="Comment">--</a>
<a id="15935" class="Comment">-- If Γ ⊢ t : A then Γ ⊢ sgSubst t : Γ∙A.</a>

<a id="sgSubst"></a><a id="15978" href="Definition.Untyped.html#15978" class="Function">sgSubst</a> <a id="15986" class="Symbol">:</a> <a id="15988" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="15993" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="15995" class="Symbol">→</a> <a id="15997" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16003" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="16005" class="Symbol">(</a><a id="16006" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="16009" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16010" class="Symbol">)</a>
<a id="16012" href="Definition.Untyped.html#15978" class="Function">sgSubst</a> <a id="16020" class="Symbol">=</a> <a id="16022" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="16032" href="Definition.Untyped.html#14533" class="Function">idSubst</a>

<a id="16041" class="Comment">-- Compose two substitutions.</a>
<a id="16071" class="Comment">--</a>
<a id="16074" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ σ′ : Φ then Γ ⊢ σ ₛ•ₛ σ′ : Φ.</a>

<a id="_ₛ•ₛ_"></a><a id="16129" href="Definition.Untyped.html#16129" class="Function Operator">_ₛ•ₛ_</a> <a id="16135" class="Symbol">:</a> <a id="16137" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16143" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16145" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16147" class="Symbol">→</a> <a id="16149" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16155" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16157" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="16159" class="Symbol">→</a> <a id="16161" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16167" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16169" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="16171" href="Definition.Untyped.html#16129" class="Function Operator">_ₛ•ₛ_</a> <a id="16177" href="Definition.Untyped.html#16177" class="Bound">σ</a> <a id="16179" href="Definition.Untyped.html#16179" class="Bound">σ′</a> <a id="16182" href="Definition.Untyped.html#16182" class="Bound">x</a> <a id="16184" class="Symbol">=</a> <a id="16186" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="16192" href="Definition.Untyped.html#16177" class="Bound">σ</a> <a id="16194" class="Symbol">(</a><a id="16195" href="Definition.Untyped.html#16179" class="Bound">σ′</a> <a id="16198" href="Definition.Untyped.html#16182" class="Bound">x</a><a id="16199" class="Symbol">)</a>

<a id="16202" class="Comment">-- Composition of weakening and substitution.</a>
<a id="16248" class="Comment">--</a>
<a id="16251" class="Comment">--  If ρ : Γ ≤ Δ and Δ ⊢ σ : Φ then Γ ⊢ ρ •ₛ σ : Φ.</a>

<a id="_•ₛ_"></a><a id="16304" href="Definition.Untyped.html#16304" class="Function Operator">_•ₛ_</a> <a id="16309" class="Symbol">:</a> <a id="16311" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="16314" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16316" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16318" class="Symbol">→</a> <a id="16320" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16326" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16328" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="16330" class="Symbol">→</a> <a id="16332" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16338" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16340" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="16342" href="Definition.Untyped.html#16304" class="Function Operator">_•ₛ_</a> <a id="16347" href="Definition.Untyped.html#16347" class="Bound">ρ</a> <a id="16349" href="Definition.Untyped.html#16349" class="Bound">σ</a> <a id="16351" href="Definition.Untyped.html#16351" class="Bound">x</a> <a id="16353" class="Symbol">=</a> <a id="16355" href="Definition.Untyped.html#11478" class="Function">wk</a> <a id="16358" href="Definition.Untyped.html#16347" class="Bound">ρ</a> <a id="16360" class="Symbol">(</a><a id="16361" href="Definition.Untyped.html#16349" class="Bound">σ</a> <a id="16363" href="Definition.Untyped.html#16351" class="Bound">x</a><a id="16364" class="Symbol">)</a>

<a id="16367" class="Comment">--  If Γ ⊢ σ : Δ and ρ : Δ ≤ Φ then Γ ⊢ σ ₛ• ρ : Φ.</a>

<a id="_ₛ•_"></a><a id="16420" href="Definition.Untyped.html#16420" class="Function Operator">_ₛ•_</a> <a id="16425" class="Symbol">:</a> <a id="16427" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16433" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16435" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16437" class="Symbol">→</a> <a id="16439" href="Definition.Untyped.html#10214" class="Datatype">Wk</a> <a id="16442" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="16444" href="Definition.Untyped.html#312" class="Generalizable">n</a> <a id="16446" class="Symbol">→</a> <a id="16448" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="16454" href="Definition.Untyped.html#316" class="Generalizable">ℓ</a> <a id="16456" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="16458" href="Definition.Untyped.html#16420" class="Function Operator">_ₛ•_</a> <a id="16463" href="Definition.Untyped.html#16463" class="Bound">σ</a> <a id="16465" href="Definition.Untyped.html#16465" class="Bound">ρ</a> <a id="16467" href="Definition.Untyped.html#16467" class="Bound">x</a> <a id="16469" class="Symbol">=</a> <a id="16471" href="Definition.Untyped.html#16463" class="Bound">σ</a> <a id="16473" class="Symbol">(</a><a id="16474" href="Definition.Untyped.html#11008" class="Function">wkVar</a> <a id="16480" href="Definition.Untyped.html#16465" class="Bound">ρ</a> <a id="16482" href="Definition.Untyped.html#16467" class="Bound">x</a><a id="16483" class="Symbol">)</a>

<a id="16486" class="Comment">-- Substitute the first variable of a term with an other term.</a>
<a id="16549" class="Comment">--</a>
<a id="16552" class="Comment">-- If Γ∙A ⊢ t : B and Γ ⊢ s : A then Γ ⊢ t[s] : B[s].</a>

<a id="_[_]"></a><a id="16607" href="Definition.Untyped.html#16607" class="Function Operator">_[_]</a> <a id="16612" class="Symbol">:</a> <a id="16614" class="Symbol">(</a><a id="16615" href="Definition.Untyped.html#16615" class="Bound">t</a> <a id="16617" class="Symbol">:</a> <a id="16619" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16624" class="Symbol">(</a><a id="16625" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="16628" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16629" class="Symbol">))</a> <a id="16632" class="Symbol">(</a><a id="16633" href="Definition.Untyped.html#16633" class="Bound">s</a> <a id="16635" class="Symbol">:</a> <a id="16637" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16642" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16643" class="Symbol">)</a> <a id="16645" class="Symbol">→</a> <a id="16647" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16652" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="16654" href="Definition.Untyped.html#16654" class="Bound">t</a> <a id="16656" href="Definition.Untyped.html#16607" class="Function Operator">[</a> <a id="16658" href="Definition.Untyped.html#16658" class="Bound">s</a> <a id="16660" href="Definition.Untyped.html#16607" class="Function Operator">]</a> <a id="16662" class="Symbol">=</a> <a id="16664" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="16670" class="Symbol">(</a><a id="16671" href="Definition.Untyped.html#15978" class="Function">sgSubst</a> <a id="16679" href="Definition.Untyped.html#16658" class="Bound">s</a><a id="16680" class="Symbol">)</a> <a id="16682" href="Definition.Untyped.html#16654" class="Bound">t</a>

<a id="16685" class="Comment">-- Substitute the first variable of a term with an other term,</a>
<a id="16748" class="Comment">-- but let the two terms share the same context.</a>
<a id="16797" class="Comment">--</a>
<a id="16800" class="Comment">-- If Γ∙A ⊢ t : B and Γ∙A ⊢ s : A then Γ∙A ⊢ t[s]↑ : B[s]↑.</a>

<a id="_[_]↑"></a><a id="16861" href="Definition.Untyped.html#16861" class="Function Operator">_[_]↑</a> <a id="16867" class="Symbol">:</a> <a id="16869" class="Symbol">(</a><a id="16870" href="Definition.Untyped.html#16870" class="Bound">t</a> <a id="16872" class="Symbol">:</a> <a id="16874" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16879" class="Symbol">(</a><a id="16880" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="16883" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16884" class="Symbol">))</a> <a id="16887" class="Symbol">(</a><a id="16888" href="Definition.Untyped.html#16888" class="Bound">s</a> <a id="16890" class="Symbol">:</a> <a id="16892" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16897" class="Symbol">(</a><a id="16898" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="16901" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16902" class="Symbol">))</a> <a id="16905" class="Symbol">→</a> <a id="16907" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="16912" class="Symbol">(</a><a id="16913" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="16916" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="16917" class="Symbol">)</a>
<a id="16919" href="Definition.Untyped.html#16919" class="Bound">t</a> <a id="16921" href="Definition.Untyped.html#16861" class="Function Operator">[</a> <a id="16923" href="Definition.Untyped.html#16923" class="Bound">s</a> <a id="16925" href="Definition.Untyped.html#16861" class="Function Operator">]↑</a> <a id="16928" class="Symbol">=</a> <a id="16930" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="16936" class="Symbol">(</a><a id="16937" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="16947" class="Symbol">(</a><a id="16948" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="16957" href="Definition.Untyped.html#14533" class="Function">idSubst</a><a id="16964" class="Symbol">)</a> <a id="16966" href="Definition.Untyped.html#16923" class="Bound">s</a><a id="16967" class="Symbol">)</a> <a id="16969" href="Definition.Untyped.html#16919" class="Bound">t</a>


<a id="16973" class="Comment">-- Substitute the first two variables of a term with other terms.</a>
<a id="17039" class="Comment">--</a>
<a id="17042" class="Comment">-- If Γ∙A∙B ⊢ t : C, Γ ⊢ s : A and Γ ⊢ s′ : B and  then Γ ⊢ t[s,s′] : C[s,s′]</a>

<a id="_[_,_]"></a><a id="17121" href="Definition.Untyped.html#17121" class="Function Operator">_[_,_]</a> <a id="17128" class="Symbol">:</a> <a id="17130" class="Symbol">(</a><a id="17131" href="Definition.Untyped.html#17131" class="Bound">t</a> <a id="17133" class="Symbol">:</a> <a id="17135" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17140" class="Symbol">(</a><a id="17141" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17144" class="Symbol">(</a><a id="17145" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17148" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17149" class="Symbol">)))</a> <a id="17153" class="Symbol">(</a><a id="17154" href="Definition.Untyped.html#17154" class="Bound">s</a> <a id="17156" href="Definition.Untyped.html#17156" class="Bound">s′</a> <a id="17159" class="Symbol">:</a> <a id="17161" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17166" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17167" class="Symbol">)</a> <a id="17169" class="Symbol">→</a> <a id="17171" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17176" href="Definition.Untyped.html#312" class="Generalizable">n</a>
<a id="17178" href="Definition.Untyped.html#17178" class="Bound">t</a> <a id="17180" href="Definition.Untyped.html#17121" class="Function Operator">[</a> <a id="17182" href="Definition.Untyped.html#17182" class="Bound">s</a> <a id="17184" href="Definition.Untyped.html#17121" class="Function Operator">,</a> <a id="17186" href="Definition.Untyped.html#17186" class="Bound">s′</a> <a id="17189" href="Definition.Untyped.html#17121" class="Function Operator">]</a> <a id="17191" class="Symbol">=</a> <a id="17193" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="17199" class="Symbol">(</a><a id="17200" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="17210" class="Symbol">(</a><a id="17211" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="17221" href="Definition.Untyped.html#14533" class="Function">idSubst</a> <a id="17229" href="Definition.Untyped.html#17182" class="Bound">s</a><a id="17230" class="Symbol">)</a> <a id="17232" href="Definition.Untyped.html#17186" class="Bound">s′</a><a id="17234" class="Symbol">)</a> <a id="17236" href="Definition.Untyped.html#17178" class="Bound">t</a>

<a id="17239" class="Comment">-- Substitute the first variable with a term and shift remaining variables up by one</a>
<a id="17324" class="Comment">-- If Γ ∙ A ⊢ t : A′ and Γ ∙ B ∙ C ⊢ s : A then Γ ∙ B ∙ C ⊢ t[s]↑² : A′</a>

<a id="_[_]↑²"></a><a id="17397" href="Definition.Untyped.html#17397" class="Function Operator">_[_]↑²</a> <a id="17404" class="Symbol">:</a> <a id="17406" class="Symbol">(</a><a id="17407" href="Definition.Untyped.html#17407" class="Bound">t</a> <a id="17409" class="Symbol">:</a> <a id="17411" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17416" class="Symbol">(</a><a id="17417" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17420" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17421" class="Symbol">))</a> <a id="17424" class="Symbol">(</a><a id="17425" href="Definition.Untyped.html#17425" class="Bound">s</a> <a id="17427" class="Symbol">:</a> <a id="17429" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17434" class="Symbol">(</a><a id="17435" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17438" class="Symbol">(</a><a id="17439" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17442" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17443" class="Symbol">)))</a> <a id="17447" class="Symbol">→</a> <a id="17449" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17454" class="Symbol">(</a><a id="17455" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17458" class="Symbol">(</a><a id="17459" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17462" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17463" class="Symbol">))</a>
<a id="17466" href="Definition.Untyped.html#17466" class="Bound">t</a> <a id="17468" href="Definition.Untyped.html#17397" class="Function Operator">[</a> <a id="17470" href="Definition.Untyped.html#17470" class="Bound">s</a> <a id="17472" href="Definition.Untyped.html#17397" class="Function Operator">]↑²</a> <a id="17476" class="Symbol">=</a> <a id="17478" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="17484" class="Symbol">(</a><a id="17485" href="Definition.Untyped.html#15804" class="Function">consSubst</a> <a id="17495" class="Symbol">(</a><a id="17496" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="17505" class="Symbol">(</a><a id="17506" href="Definition.Untyped.html#14648" class="Function">wk1Subst</a> <a id="17515" href="Definition.Untyped.html#14533" class="Function">idSubst</a><a id="17522" class="Symbol">))</a> <a id="17525" href="Definition.Untyped.html#17470" class="Bound">s</a><a id="17526" class="Symbol">)</a> <a id="17528" href="Definition.Untyped.html#17466" class="Bound">t</a>


<a id="B-subst"></a><a id="17532" href="Definition.Untyped.html#17532" class="Function">B-subst</a> <a id="17540" class="Symbol">:</a> <a id="17542" class="Symbol">(</a><a id="17543" href="Definition.Untyped.html#17543" class="Bound">σ</a> <a id="17545" class="Symbol">:</a> <a id="17547" href="Definition.Untyped.html#13463" class="Function">Subst</a> <a id="17553" href="Definition.Untyped.html#314" class="Generalizable">m</a> <a id="17555" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17556" class="Symbol">)</a> <a id="17558" class="Symbol">(</a><a id="17559" href="Definition.Untyped.html#17559" class="Bound">W</a> <a id="17561" class="Symbol">:</a> <a id="17563" href="Definition.Untyped.html#4694" class="Datatype">BindingType</a><a id="17574" class="Symbol">)</a> <a id="17576" class="Symbol">(</a><a id="17577" href="Definition.Untyped.html#17577" class="Bound">F</a> <a id="17579" class="Symbol">:</a> <a id="17581" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17586" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17587" class="Symbol">)</a> <a id="17589" class="Symbol">(</a><a id="17590" href="Definition.Untyped.html#17590" class="Bound">G</a> <a id="17592" class="Symbol">:</a> <a id="17594" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="17599" class="Symbol">(</a><a id="17600" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="17603" href="Definition.Untyped.html#312" class="Generalizable">n</a><a id="17604" class="Symbol">))</a>
        <a id="17615" class="Symbol">→</a> <a id="17617" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="17623" href="Definition.Untyped.html#17543" class="Bound">σ</a> <a id="17625" class="Symbol">(</a><a id="17626" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="17628" href="Definition.Untyped.html#17559" class="Bound">W</a> <a id="17630" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="17632" href="Definition.Untyped.html#17577" class="Bound">F</a> <a id="17634" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="17636" href="Definition.Untyped.html#17590" class="Bound">G</a><a id="17637" class="Symbol">)</a> <a id="17639" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">PE.≡</a> <a id="17644" href="Definition.Untyped.html#4997" class="Function Operator">⟦</a> <a id="17646" href="Definition.Untyped.html#17559" class="Bound">W</a> <a id="17648" href="Definition.Untyped.html#4997" class="Function Operator">⟧</a> <a id="17650" class="Symbol">(</a><a id="17651" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="17657" href="Definition.Untyped.html#17543" class="Bound">σ</a> <a id="17659" href="Definition.Untyped.html#17577" class="Bound">F</a><a id="17660" class="Symbol">)</a> <a id="17662" href="Definition.Untyped.html#4997" class="Function Operator">▹</a> <a id="17664" class="Symbol">(</a><a id="17665" href="Definition.Untyped.html#15507" class="Function">subst</a> <a id="17671" class="Symbol">(</a><a id="17672" href="Definition.Untyped.html#14786" class="Function">liftSubst</a> <a id="17682" href="Definition.Untyped.html#17543" class="Bound">σ</a><a id="17683" class="Symbol">)</a> <a id="17685" href="Definition.Untyped.html#17590" class="Bound">G</a><a id="17686" class="Symbol">)</a>
<a id="17688" href="Definition.Untyped.html#17532" class="Function">B-subst</a> <a id="17696" href="Definition.Untyped.html#17696" class="Bound">σ</a> <a id="17698" class="Symbol">(</a><a id="17699" href="Definition.Untyped.html#4722" class="InductiveConstructor">BΠ</a> <a id="17702" href="Definition.Untyped.html#17702" class="Bound">p</a> <a id="17704" href="Definition.Untyped.html#17704" class="Bound">q</a><a id="17705" class="Symbol">)</a> <a id="17707" href="Definition.Untyped.html#17707" class="Bound">F</a> <a id="17709" href="Definition.Untyped.html#17709" class="Bound">G</a> <a id="17711" class="Symbol">=</a> <a id="17713" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>
<a id="17721" href="Definition.Untyped.html#17532" class="Function">B-subst</a> <a id="17729" href="Definition.Untyped.html#17729" class="Bound">σ</a> <a id="17731" class="Symbol">(</a><a id="17732" href="Definition.Untyped.html#4753" class="InductiveConstructor">BΣ</a> <a id="17735" href="Definition.Untyped.html#17735" class="Bound">q</a> <a id="17737" href="Definition.Untyped.html#17737" class="Bound">m</a><a id="17738" class="Symbol">)</a> <a id="17740" href="Definition.Untyped.html#17740" class="Bound">F</a> <a id="17742" href="Definition.Untyped.html#17742" class="Bound">G</a> <a id="17744" class="Symbol">=</a> <a id="17746" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">PE.refl</a>
</pre></body></html>