<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Context.Properties.Lookup</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Definition.Modality.html" class="Module">Definition.Modality</a>

<a id="121" class="Keyword">module</a> <a id="128" href="Definition.Modality.Context.Properties.Lookup.html" class="Module">Definition.Modality.Context.Properties.Lookup</a>
  <a id="176" class="Symbol">{</a><a id="177" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a> <a id="179" class="Symbol">:</a> <a id="181" class="PrimitiveType">Set</a><a id="184" class="Symbol">}</a> <a id="186" class="Symbol">{</a><a id="187" href="Definition.Modality.Context.Properties.Lookup.html#187" class="Bound Operator">_≈_</a> <a id="191" class="Symbol">:</a> <a id="193" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="197" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a> <a id="199" href="Tools.Level.html#109" class="Primitive">ℓ₀</a><a id="201" class="Symbol">}</a>
  <a id="205" class="Symbol">(</a><a id="206" href="Definition.Modality.Context.Properties.Lookup.html#206" class="Bound">𝕄</a> <a id="208" class="Symbol">:</a> <a id="210" href="Definition.Modality.html#271" class="Record">Modality</a> <a id="219" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a> <a id="221" href="Definition.Modality.Context.Properties.Lookup.html#187" class="Bound Operator">_≈_</a><a id="224" class="Symbol">)</a>
  <a id="228" class="Keyword">where</a>

<a id="235" class="Keyword">open</a> <a id="240" class="Keyword">import</a> <a id="247" href="Definition.Modality.Context.html" class="Module">Definition.Modality.Context</a> <a id="275" href="Definition.Modality.Context.Properties.Lookup.html#206" class="Bound">𝕄</a>

<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="300" class="Keyword">open</a> <a id="305" class="Keyword">import</a> <a id="312" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="322" class="Keyword">hiding</a> <a id="329" class="Symbol">(</a><a id="330" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="333" class="Symbol">)</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>

<a id="376" class="Keyword">open</a> <a id="381" href="Definition.Modality.html#271" class="Module">Modality</a> <a id="390" href="Definition.Modality.Context.Properties.Lookup.html#206" class="Bound">𝕄</a>

<a id="393" class="Keyword">private</a>
  <a id="403" class="Keyword">variable</a>
    <a id="416" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a> <a id="418" class="Symbol">:</a> <a id="420" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="428" href="Definition.Modality.Context.Properties.Lookup.html#428" class="Generalizable">p</a> <a id="430" href="Definition.Modality.Context.Properties.Lookup.html#430" class="Generalizable">r</a> <a id="432" class="Symbol">:</a> <a id="434" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a>
    <a id="440" href="Definition.Modality.Context.Properties.Lookup.html#440" class="Generalizable">γ</a> <a id="442" href="Definition.Modality.Context.Properties.Lookup.html#442" class="Generalizable">δ</a> <a id="444" class="Symbol">:</a> <a id="446" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="451" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a>

<a id="454" class="Comment">-- Every lookup in a zero-context is zero</a>
<a id="496" class="Comment">-- 𝟘ᶜ ⟨ x ⟩ ≡ 𝟘</a>

<a id="𝟘ᶜ-lookup"></a><a id="513" href="Definition.Modality.Context.Properties.Lookup.html#513" class="Function">𝟘ᶜ-lookup</a> <a id="523" class="Symbol">:</a> <a id="525" class="Symbol">(</a><a id="526" href="Definition.Modality.Context.Properties.Lookup.html#526" class="Bound">x</a> <a id="528" class="Symbol">:</a> <a id="530" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="534" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="535" class="Symbol">)</a> <a id="537" class="Symbol">→</a> <a id="539" href="Definition.Modality.Context.html#2199" class="Function">𝟘ᶜ</a> <a id="542" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="544" href="Definition.Modality.Context.Properties.Lookup.html#526" class="Bound">x</a> <a id="546" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="548" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="550" href="Definition.Modality.html#645" class="Field">𝟘</a>
<a id="552" href="Definition.Modality.Context.Properties.Lookup.html#513" class="Function">𝟘ᶜ-lookup</a> <a id="562" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="569" class="Symbol">=</a> <a id="571" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="576" href="Definition.Modality.Context.Properties.Lookup.html#513" class="Function">𝟘ᶜ-lookup</a> <a id="586" class="Symbol">(</a><a id="587" href="Definition.Modality.Context.Properties.Lookup.html#587" class="Bound">x</a> <a id="589" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="591" class="Symbol">)</a> <a id="593" class="Symbol">=</a> <a id="595" href="Definition.Modality.Context.Properties.Lookup.html#513" class="Function">𝟘ᶜ-lookup</a> <a id="605" href="Definition.Modality.Context.Properties.Lookup.html#587" class="Bound">x</a>

<a id="608" class="Comment">-- Context lookup is a monotone function</a>
<a id="649" class="Comment">-- If γ ≤ᶜ δ then γ⟨x⟩ ≤ δ⟨x⟩</a>

<a id="lookup-monotone"></a><a id="680" href="Definition.Modality.Context.Properties.Lookup.html#680" class="Function">lookup-monotone</a> <a id="696" class="Symbol">:</a> <a id="698" class="Symbol">(</a><a id="699" href="Definition.Modality.Context.Properties.Lookup.html#699" class="Bound">x</a> <a id="701" class="Symbol">:</a> <a id="703" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="707" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="708" class="Symbol">)</a> <a id="710" class="Symbol">→</a> <a id="712" href="Definition.Modality.Context.Properties.Lookup.html#440" class="Generalizable">γ</a> <a id="714" href="Definition.Modality.Context.html#1967" class="Function Operator">≤ᶜ</a> <a id="717" href="Definition.Modality.Context.Properties.Lookup.html#442" class="Generalizable">δ</a> <a id="719" class="Symbol">→</a> <a id="721" class="Symbol">(</a><a id="722" href="Definition.Modality.Context.Properties.Lookup.html#440" class="Generalizable">γ</a> <a id="724" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="726" href="Definition.Modality.Context.Properties.Lookup.html#699" class="Bound">x</a> <a id="728" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="729" class="Symbol">)</a> <a id="731" href="Definition.Modality.html#982" class="Function Operator">≤</a> <a id="733" class="Symbol">(</a><a id="734" href="Definition.Modality.Context.Properties.Lookup.html#442" class="Generalizable">δ</a> <a id="736" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="738" href="Definition.Modality.Context.Properties.Lookup.html#699" class="Bound">x</a> <a id="740" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="741" class="Symbol">)</a>
<a id="743" href="Definition.Modality.Context.Properties.Lookup.html#680" class="Function">lookup-monotone</a> <a id="759" class="Symbol">{</a><a id="760" class="Argument">γ</a> <a id="762" class="Symbol">=</a> <a id="764" href="Definition.Modality.Context.Properties.Lookup.html#764" class="Bound">γ</a> <a id="766" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="768" href="Definition.Modality.Context.Properties.Lookup.html#768" class="Bound">p</a><a id="769" class="Symbol">}</a> <a id="771" class="Symbol">{</a><a id="772" href="Definition.Modality.Context.Properties.Lookup.html#772" class="Bound">δ</a> <a id="774" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="776" href="Definition.Modality.Context.Properties.Lookup.html#776" class="Bound">q</a><a id="777" class="Symbol">}</a> <a id="779" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="786" class="Symbol">(</a><a id="787" href="Definition.Modality.Context.Properties.Lookup.html#787" class="Bound">γ≤δ</a> <a id="791" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="793" href="Definition.Modality.Context.Properties.Lookup.html#793" class="Bound">p≤q</a><a id="796" class="Symbol">)</a> <a id="798" class="Symbol">=</a> <a id="800" href="Definition.Modality.Context.Properties.Lookup.html#793" class="Bound">p≤q</a>
<a id="804" href="Definition.Modality.Context.Properties.Lookup.html#680" class="Function">lookup-monotone</a> <a id="820" class="Symbol">{</a><a id="821" class="Argument">γ</a> <a id="823" class="Symbol">=</a> <a id="825" href="Definition.Modality.Context.Properties.Lookup.html#825" class="Bound">γ</a> <a id="827" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="829" href="Definition.Modality.Context.Properties.Lookup.html#829" class="Bound">p</a><a id="830" class="Symbol">}</a> <a id="832" class="Symbol">{</a><a id="833" href="Definition.Modality.Context.Properties.Lookup.html#833" class="Bound">δ</a> <a id="835" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="837" href="Definition.Modality.Context.Properties.Lookup.html#837" class="Bound">q</a><a id="838" class="Symbol">}</a> <a id="840" class="Symbol">(</a><a id="841" href="Definition.Modality.Context.Properties.Lookup.html#841" class="Bound">x</a> <a id="843" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="845" class="Symbol">)</a> <a id="847" class="Symbol">(</a><a id="848" href="Definition.Modality.Context.Properties.Lookup.html#848" class="Bound">γ≤δ</a> <a id="852" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="854" href="Definition.Modality.Context.Properties.Lookup.html#854" class="Bound">p≤q</a><a id="857" class="Symbol">)</a> <a id="859" class="Symbol">=</a> <a id="861" href="Definition.Modality.Context.Properties.Lookup.html#680" class="Function">lookup-monotone</a> <a id="877" href="Definition.Modality.Context.Properties.Lookup.html#841" class="Bound">x</a> <a id="879" href="Definition.Modality.Context.Properties.Lookup.html#848" class="Bound">γ≤δ</a>

<a id="884" class="Comment">-- Context lookup distributes over addition</a>
<a id="928" class="Comment">-- (γ +ᶜ δ)⟨x⟩ ≡ γ⟨x⟩ + δ⟨x⟩</a>

<a id="lookup-distrib-+ᶜ"></a><a id="958" href="Definition.Modality.Context.Properties.Lookup.html#958" class="Function">lookup-distrib-+ᶜ</a> <a id="976" class="Symbol">:</a> <a id="978" class="Symbol">(</a><a id="979" href="Definition.Modality.Context.Properties.Lookup.html#979" class="Bound">γ</a> <a id="981" href="Definition.Modality.Context.Properties.Lookup.html#981" class="Bound">δ</a> <a id="983" class="Symbol">:</a> <a id="985" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="990" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="991" class="Symbol">)</a> <a id="993" class="Symbol">(</a><a id="994" href="Definition.Modality.Context.Properties.Lookup.html#994" class="Bound">x</a> <a id="996" class="Symbol">:</a> <a id="998" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="1002" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1003" class="Symbol">)</a> <a id="1005" class="Symbol">→</a> <a id="1007" class="Symbol">(</a><a id="1008" href="Definition.Modality.Context.Properties.Lookup.html#979" class="Bound">γ</a> <a id="1010" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1013" href="Definition.Modality.Context.Properties.Lookup.html#981" class="Bound">δ</a><a id="1014" class="Symbol">)</a> <a id="1016" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1018" href="Definition.Modality.Context.Properties.Lookup.html#994" class="Bound">x</a> <a id="1020" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="1022" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1024" href="Definition.Modality.Context.Properties.Lookup.html#979" class="Bound">γ</a> <a id="1026" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1028" href="Definition.Modality.Context.Properties.Lookup.html#994" class="Bound">x</a> <a id="1030" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="1032" href="Definition.Modality.html#440" class="Field Operator">+</a> <a id="1034" href="Definition.Modality.Context.Properties.Lookup.html#981" class="Bound">δ</a> <a id="1036" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1038" href="Definition.Modality.Context.Properties.Lookup.html#994" class="Bound">x</a> <a id="1040" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a>
<a id="1042" href="Definition.Modality.Context.Properties.Lookup.html#958" class="Function">lookup-distrib-+ᶜ</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Definition.Modality.Context.Properties.Lookup.html#1061" class="Bound">γ</a> <a id="1063" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1065" href="Definition.Modality.Context.Properties.Lookup.html#1065" class="Bound">p</a><a id="1066" class="Symbol">)</a> <a id="1068" class="Symbol">(</a><a id="1069" href="Definition.Modality.Context.Properties.Lookup.html#1069" class="Bound">δ</a> <a id="1071" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1073" href="Definition.Modality.Context.Properties.Lookup.html#1073" class="Bound">q</a><a id="1074" class="Symbol">)</a> <a id="1076" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="1083" class="Symbol">=</a> <a id="1085" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1090" href="Definition.Modality.Context.Properties.Lookup.html#958" class="Function">lookup-distrib-+ᶜ</a> <a id="1108" class="Symbol">(</a><a id="1109" href="Definition.Modality.Context.Properties.Lookup.html#1109" class="Bound">γ</a> <a id="1111" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1113" href="Definition.Modality.Context.Properties.Lookup.html#1113" class="Bound">p</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">(</a><a id="1117" href="Definition.Modality.Context.Properties.Lookup.html#1117" class="Bound">δ</a> <a id="1119" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1121" href="Definition.Modality.Context.Properties.Lookup.html#1121" class="Bound">q</a><a id="1122" class="Symbol">)</a> <a id="1124" class="Symbol">(</a><a id="1125" href="Definition.Modality.Context.Properties.Lookup.html#1125" class="Bound">x</a> <a id="1127" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="1129" class="Symbol">)</a> <a id="1131" class="Symbol">=</a> <a id="1133" href="Definition.Modality.Context.Properties.Lookup.html#958" class="Function">lookup-distrib-+ᶜ</a> <a id="1151" href="Definition.Modality.Context.Properties.Lookup.html#1109" class="Bound">γ</a> <a id="1153" href="Definition.Modality.Context.Properties.Lookup.html#1117" class="Bound">δ</a> <a id="1155" href="Definition.Modality.Context.Properties.Lookup.html#1125" class="Bound">x</a>

<a id="1158" class="Comment">-- Context lookup distributes over multiplication</a>
<a id="1208" class="Comment">-- (p ·ᶜ γ)⟨x⟩ ≡ p · γ⟨x⟩</a>

<a id="lookup-distrib-·ᶜ"></a><a id="1235" href="Definition.Modality.Context.Properties.Lookup.html#1235" class="Function">lookup-distrib-·ᶜ</a> <a id="1253" class="Symbol">:</a> <a id="1255" class="Symbol">(</a><a id="1256" href="Definition.Modality.Context.Properties.Lookup.html#1256" class="Bound">γ</a> <a id="1258" class="Symbol">:</a> <a id="1260" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="1265" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1266" class="Symbol">)</a> <a id="1268" class="Symbol">(</a><a id="1269" href="Definition.Modality.Context.Properties.Lookup.html#1269" class="Bound">p</a> <a id="1271" class="Symbol">:</a> <a id="1273" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a><a id="1274" class="Symbol">)</a> <a id="1276" class="Symbol">(</a><a id="1277" href="Definition.Modality.Context.Properties.Lookup.html#1277" class="Bound">x</a> <a id="1279" class="Symbol">:</a> <a id="1281" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="1285" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1286" class="Symbol">)</a> <a id="1288" class="Symbol">→</a> <a id="1290" class="Symbol">(</a><a id="1291" href="Definition.Modality.Context.Properties.Lookup.html#1269" class="Bound">p</a> <a id="1293" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="1296" href="Definition.Modality.Context.Properties.Lookup.html#1256" class="Bound">γ</a><a id="1297" class="Symbol">)</a> <a id="1299" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1301" href="Definition.Modality.Context.Properties.Lookup.html#1277" class="Bound">x</a> <a id="1303" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="1305" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1307" href="Definition.Modality.Context.Properties.Lookup.html#1269" class="Bound">p</a> <a id="1309" href="Definition.Modality.html#468" class="Field Operator">·</a> <a id="1311" href="Definition.Modality.Context.Properties.Lookup.html#1256" class="Bound">γ</a> <a id="1313" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1315" href="Definition.Modality.Context.Properties.Lookup.html#1277" class="Bound">x</a> <a id="1317" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a>
<a id="1319" href="Definition.Modality.Context.Properties.Lookup.html#1235" class="Function">lookup-distrib-·ᶜ</a> <a id="1337" class="Symbol">(</a><a id="1338" href="Definition.Modality.Context.Properties.Lookup.html#1338" class="Bound">γ</a> <a id="1340" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1342" href="Definition.Modality.Context.Properties.Lookup.html#1342" class="Bound">q</a><a id="1343" class="Symbol">)</a> <a id="1345" href="Definition.Modality.Context.Properties.Lookup.html#1345" class="Bound">p</a> <a id="1347" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="1354" class="Symbol">=</a> <a id="1356" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1361" href="Definition.Modality.Context.Properties.Lookup.html#1235" class="Function">lookup-distrib-·ᶜ</a> <a id="1379" class="Symbol">(</a><a id="1380" href="Definition.Modality.Context.Properties.Lookup.html#1380" class="Bound">γ</a> <a id="1382" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1384" href="Definition.Modality.Context.Properties.Lookup.html#1384" class="Bound">q</a><a id="1385" class="Symbol">)</a> <a id="1387" href="Definition.Modality.Context.Properties.Lookup.html#1387" class="Bound">p</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Definition.Modality.Context.Properties.Lookup.html#1390" class="Bound">x</a> <a id="1392" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="1394" class="Symbol">)</a> <a id="1396" class="Symbol">=</a> <a id="1398" href="Definition.Modality.Context.Properties.Lookup.html#1235" class="Function">lookup-distrib-·ᶜ</a> <a id="1416" href="Definition.Modality.Context.Properties.Lookup.html#1380" class="Bound">γ</a> <a id="1418" href="Definition.Modality.Context.Properties.Lookup.html#1387" class="Bound">p</a> <a id="1420" href="Definition.Modality.Context.Properties.Lookup.html#1390" class="Bound">x</a>

<a id="1423" class="Comment">-- Context lookup distributes over meet</a>
<a id="1463" class="Comment">-- (γ ∧ᶜ δ)⟨x⟩ ≡ γ⟨x⟩ ∧ δ⟨x⟩</a>

<a id="lookup-distrib-∧ᶜ"></a><a id="1493" href="Definition.Modality.Context.Properties.Lookup.html#1493" class="Function">lookup-distrib-∧ᶜ</a> <a id="1511" class="Symbol">:</a> <a id="1513" class="Symbol">(</a><a id="1514" href="Definition.Modality.Context.Properties.Lookup.html#1514" class="Bound">γ</a> <a id="1516" href="Definition.Modality.Context.Properties.Lookup.html#1516" class="Bound">δ</a> <a id="1518" class="Symbol">:</a> <a id="1520" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="1525" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1526" class="Symbol">)</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Definition.Modality.Context.Properties.Lookup.html#1529" class="Bound">x</a> <a id="1531" class="Symbol">:</a> <a id="1533" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="1537" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1538" class="Symbol">)</a>
                  <a id="1558" class="Symbol">→</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Definition.Modality.Context.Properties.Lookup.html#1514" class="Bound">γ</a> <a id="1563" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="1566" href="Definition.Modality.Context.Properties.Lookup.html#1516" class="Bound">δ</a><a id="1567" class="Symbol">)</a> <a id="1569" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1571" href="Definition.Modality.Context.Properties.Lookup.html#1529" class="Bound">x</a> <a id="1573" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="1575" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1577" class="Symbol">(</a><a id="1578" href="Definition.Modality.Context.Properties.Lookup.html#1514" class="Bound">γ</a> <a id="1580" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1582" href="Definition.Modality.Context.Properties.Lookup.html#1529" class="Bound">x</a> <a id="1584" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="1585" class="Symbol">)</a> <a id="1587" href="Definition.Modality.html#502" class="Field Operator">∧</a> <a id="1589" class="Symbol">(</a><a id="1590" href="Definition.Modality.Context.Properties.Lookup.html#1516" class="Bound">δ</a> <a id="1592" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1594" href="Definition.Modality.Context.Properties.Lookup.html#1529" class="Bound">x</a> <a id="1596" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="1597" class="Symbol">)</a>
<a id="1599" href="Definition.Modality.Context.Properties.Lookup.html#1493" class="Function">lookup-distrib-∧ᶜ</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Definition.Modality.Context.Properties.Lookup.html#1618" class="Bound">γ</a> <a id="1620" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1622" href="Definition.Modality.Context.Properties.Lookup.html#1622" class="Bound">p</a><a id="1623" class="Symbol">)</a> <a id="1625" class="Symbol">(</a><a id="1626" href="Definition.Modality.Context.Properties.Lookup.html#1626" class="Bound">δ</a> <a id="1628" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1630" href="Definition.Modality.Context.Properties.Lookup.html#1630" class="Bound">q</a><a id="1631" class="Symbol">)</a> <a id="1633" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="1640" class="Symbol">=</a> <a id="1642" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1647" href="Definition.Modality.Context.Properties.Lookup.html#1493" class="Function">lookup-distrib-∧ᶜ</a> <a id="1665" class="Symbol">(</a><a id="1666" href="Definition.Modality.Context.Properties.Lookup.html#1666" class="Bound">γ</a> <a id="1668" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1670" href="Definition.Modality.Context.Properties.Lookup.html#1670" class="Bound">p</a><a id="1671" class="Symbol">)</a> <a id="1673" class="Symbol">(</a><a id="1674" href="Definition.Modality.Context.Properties.Lookup.html#1674" class="Bound">δ</a> <a id="1676" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1678" href="Definition.Modality.Context.Properties.Lookup.html#1678" class="Bound">q</a><a id="1679" class="Symbol">)</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Definition.Modality.Context.Properties.Lookup.html#1682" class="Bound">x</a> <a id="1684" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="1686" class="Symbol">)</a> <a id="1688" class="Symbol">=</a> <a id="1690" href="Definition.Modality.Context.Properties.Lookup.html#1493" class="Function">lookup-distrib-∧ᶜ</a> <a id="1708" href="Definition.Modality.Context.Properties.Lookup.html#1666" class="Bound">γ</a> <a id="1710" href="Definition.Modality.Context.Properties.Lookup.html#1674" class="Bound">δ</a> <a id="1712" href="Definition.Modality.Context.Properties.Lookup.html#1682" class="Bound">x</a>

<a id="1715" class="Comment">-- Context lookup distributes over nrᶜ</a>
<a id="1754" class="Comment">-- (nrᶜ γ δ r)⟨x⟩ ≡ nr γ⟨x⟩ δ⟨x⟩ r</a>

<a id="lookup-distrib-nrᶜ"></a><a id="1790" href="Definition.Modality.Context.Properties.Lookup.html#1790" class="Function">lookup-distrib-nrᶜ</a> <a id="1809" class="Symbol">:</a> <a id="1811" class="Symbol">(</a><a id="1812" href="Definition.Modality.Context.Properties.Lookup.html#1812" class="Bound">γ</a> <a id="1814" href="Definition.Modality.Context.Properties.Lookup.html#1814" class="Bound">δ</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="1823" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1824" class="Symbol">)</a> <a id="1826" class="Symbol">(</a><a id="1827" href="Definition.Modality.Context.Properties.Lookup.html#1827" class="Bound">r</a> <a id="1829" class="Symbol">:</a> <a id="1831" href="Definition.Modality.Context.Properties.Lookup.html#177" class="Bound">M</a><a id="1832" class="Symbol">)</a> <a id="1834" class="Symbol">(</a><a id="1835" href="Definition.Modality.Context.Properties.Lookup.html#1835" class="Bound">x</a> <a id="1837" class="Symbol">:</a> <a id="1839" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="1843" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="1844" class="Symbol">)</a>
                   <a id="1865" class="Symbol">→</a> <a id="1867" class="Symbol">(</a><a id="1868" href="Definition.Modality.Context.html#2072" class="Function">nrᶜ</a> <a id="1872" href="Definition.Modality.Context.Properties.Lookup.html#1812" class="Bound">γ</a> <a id="1874" href="Definition.Modality.Context.Properties.Lookup.html#1814" class="Bound">δ</a> <a id="1876" href="Definition.Modality.Context.Properties.Lookup.html#1827" class="Bound">r</a><a id="1877" class="Symbol">)</a> <a id="1879" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1881" href="Definition.Modality.Context.Properties.Lookup.html#1835" class="Bound">x</a> <a id="1883" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="1885" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1887" href="Definition.Modality.html#1939" class="Function">nr</a> <a id="1890" class="Symbol">(</a><a id="1891" href="Definition.Modality.Context.Properties.Lookup.html#1812" class="Bound">γ</a> <a id="1893" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1895" href="Definition.Modality.Context.Properties.Lookup.html#1835" class="Bound">x</a> <a id="1897" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="1898" class="Symbol">)</a> <a id="1900" class="Symbol">(</a><a id="1901" href="Definition.Modality.Context.Properties.Lookup.html#1814" class="Bound">δ</a> <a id="1903" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="1905" href="Definition.Modality.Context.Properties.Lookup.html#1835" class="Bound">x</a> <a id="1907" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a><a id="1908" class="Symbol">)</a> <a id="1910" href="Definition.Modality.Context.Properties.Lookup.html#1827" class="Bound">r</a>
<a id="1912" href="Definition.Modality.Context.Properties.Lookup.html#1790" class="Function">lookup-distrib-nrᶜ</a> <a id="1931" class="Symbol">(</a><a id="1932" href="Definition.Modality.Context.Properties.Lookup.html#1932" class="Bound">γ</a> <a id="1934" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1936" href="Definition.Modality.Context.Properties.Lookup.html#1936" class="Bound">p</a><a id="1937" class="Symbol">)</a> <a id="1939" class="Symbol">(</a><a id="1940" href="Definition.Modality.Context.Properties.Lookup.html#1940" class="Bound">δ</a> <a id="1942" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1944" href="Definition.Modality.Context.Properties.Lookup.html#1944" class="Bound">q</a><a id="1945" class="Symbol">)</a> <a id="1947" href="Definition.Modality.Context.Properties.Lookup.html#1947" class="Bound">r</a> <a id="1949" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="1956" class="Symbol">=</a> <a id="1958" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1963" href="Definition.Modality.Context.Properties.Lookup.html#1790" class="Function">lookup-distrib-nrᶜ</a> <a id="1982" class="Symbol">(</a><a id="1983" href="Definition.Modality.Context.Properties.Lookup.html#1983" class="Bound">γ</a> <a id="1985" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1987" href="Definition.Modality.Context.Properties.Lookup.html#1987" class="Bound">p</a><a id="1988" class="Symbol">)</a> <a id="1990" class="Symbol">(</a><a id="1991" href="Definition.Modality.Context.Properties.Lookup.html#1991" class="Bound">δ</a> <a id="1993" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1995" href="Definition.Modality.Context.Properties.Lookup.html#1995" class="Bound">q</a><a id="1996" class="Symbol">)</a> <a id="1998" href="Definition.Modality.Context.Properties.Lookup.html#1998" class="Bound">r</a> <a id="2000" class="Symbol">(</a><a id="2001" href="Definition.Modality.Context.Properties.Lookup.html#2001" class="Bound">x</a> <a id="2003" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="2005" class="Symbol">)</a> <a id="2007" class="Symbol">=</a> <a id="2009" href="Definition.Modality.Context.Properties.Lookup.html#1790" class="Function">lookup-distrib-nrᶜ</a> <a id="2028" href="Definition.Modality.Context.Properties.Lookup.html#1983" class="Bound">γ</a> <a id="2030" href="Definition.Modality.Context.Properties.Lookup.html#1991" class="Bound">δ</a> <a id="2032" href="Definition.Modality.Context.Properties.Lookup.html#1998" class="Bound">r</a> <a id="2034" href="Definition.Modality.Context.Properties.Lookup.html#2001" class="Bound">x</a>

<a id="2037" class="Comment">-- Lookup is consistent with context updates</a>
<a id="2082" class="Comment">-- (γ , x ≔ p) ⟨ x ⟩ ≡ p</a>

<a id="update-lookup"></a><a id="2108" href="Definition.Modality.Context.Properties.Lookup.html#2108" class="Function">update-lookup</a> <a id="2122" class="Symbol">:</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Definition.Modality.Context.Properties.Lookup.html#2125" class="Bound">x</a> <a id="2127" class="Symbol">:</a> <a id="2129" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="2133" href="Definition.Modality.Context.Properties.Lookup.html#416" class="Generalizable">n</a><a id="2134" class="Symbol">)</a> <a id="2136" class="Symbol">→</a> <a id="2138" class="Symbol">(</a><a id="2139" href="Definition.Modality.Context.Properties.Lookup.html#440" class="Generalizable">γ</a> <a id="2141" href="Definition.Modality.Context.html#1005" class="Function Operator">,</a> <a id="2143" href="Definition.Modality.Context.Properties.Lookup.html#2125" class="Bound">x</a> <a id="2145" href="Definition.Modality.Context.html#1005" class="Function Operator">≔</a> <a id="2147" href="Definition.Modality.Context.Properties.Lookup.html#428" class="Generalizable">p</a><a id="2148" class="Symbol">)</a> <a id="2150" href="Definition.Modality.Context.html#1373" class="Function Operator">⟨</a> <a id="2152" href="Definition.Modality.Context.Properties.Lookup.html#2125" class="Bound">x</a> <a id="2154" href="Definition.Modality.Context.html#1373" class="Function Operator">⟩</a> <a id="2156" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2158" href="Definition.Modality.Context.Properties.Lookup.html#428" class="Generalizable">p</a>
<a id="2160" href="Definition.Modality.Context.Properties.Lookup.html#2108" class="Function">update-lookup</a> <a id="2174" class="Symbol">{</a><a id="2175" class="Argument">γ</a> <a id="2177" class="Symbol">=</a> <a id="2179" href="Definition.Modality.Context.Properties.Lookup.html#2179" class="Bound">γ</a> <a id="2181" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="2183" href="Definition.Modality.Context.Properties.Lookup.html#2183" class="Bound">p</a><a id="2184" class="Symbol">}</a> <a id="2186" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a>     <a id="2193" class="Symbol">=</a> <a id="2195" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2200" href="Definition.Modality.Context.Properties.Lookup.html#2108" class="Function">update-lookup</a> <a id="2214" class="Symbol">{</a><a id="2215" class="Argument">γ</a> <a id="2217" class="Symbol">=</a> <a id="2219" href="Definition.Modality.Context.Properties.Lookup.html#2219" class="Bound">γ</a> <a id="2221" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="2223" href="Definition.Modality.Context.Properties.Lookup.html#2223" class="Bound">p</a><a id="2224" class="Symbol">}</a> <a id="2226" class="Symbol">(</a><a id="2227" href="Definition.Modality.Context.Properties.Lookup.html#2227" class="Bound">x</a> <a id="2229" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="2231" class="Symbol">)</a> <a id="2233" class="Symbol">=</a> <a id="2235" href="Definition.Modality.Context.Properties.Lookup.html#2108" class="Function">update-lookup</a> <a id="2249" class="Symbol">{</a><a id="2250" class="Argument">γ</a> <a id="2252" class="Symbol">=</a> <a id="2254" href="Definition.Modality.Context.Properties.Lookup.html#2219" class="Bound">γ</a><a id="2255" class="Symbol">}</a> <a id="2257" href="Definition.Modality.Context.Properties.Lookup.html#2227" class="Bound">x</a>
</pre></body></html>