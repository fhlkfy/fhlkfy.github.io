<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Conversion.Whnf</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="65" class="Keyword">module</a> <a id="72" href="Definition.Conversion.Whnf.html" class="Module">Definition.Conversion.Whnf</a> <a id="99" class="Symbol">{</a><a id="100" href="Definition.Conversion.Whnf.html#100" class="Bound">a</a> <a id="102" href="Definition.Conversion.Whnf.html#102" class="Bound">ℓ</a><a id="103" class="Symbol">}</a> <a id="105" class="Symbol">(</a><a id="106" href="Definition.Conversion.Whnf.html#106" class="Bound">M′</a> <a id="109" class="Symbol">:</a> <a id="111" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="118" href="Definition.Conversion.Whnf.html#100" class="Bound">a</a> <a id="120" href="Definition.Conversion.Whnf.html#102" class="Bound">ℓ</a><a id="121" class="Symbol">)</a> <a id="123" class="Keyword">where</a>

<a id="130" class="Keyword">open</a> <a id="135" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="142" href="Definition.Conversion.Whnf.html#106" class="Bound">M′</a> <a id="145" class="Keyword">using</a> <a id="151" class="Symbol">()</a> <a id="154" class="Keyword">renaming</a> <a id="163" class="Symbol">(</a><a id="164" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="172" class="Symbol">to</a> <a id="175" class="Field">M</a><a id="176" class="Symbol">)</a>

<a id="179" class="Keyword">open</a> <a id="184" class="Keyword">import</a> <a id="191" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="210" href="Definition.Conversion.Whnf.html#175" class="Field">M</a> <a id="212" class="Keyword">hiding</a> <a id="219" class="Symbol">(</a><a id="220" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a><a id="223" class="Symbol">)</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Definition.Conversion.html" class="Module">Definition.Conversion</a> <a id="259" href="Definition.Conversion.Whnf.html#106" class="Bound">M′</a>

<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Tools.Product.html" class="Module">Tools.Product</a>

<a id="312" class="Keyword">private</a>
  <a id="322" class="Keyword">variable</a>
    <a id="335" href="Definition.Conversion.Whnf.html#335" class="Generalizable">n</a> <a id="337" class="Symbol">:</a> <a id="339" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="347" href="Definition.Conversion.Whnf.html#347" class="Generalizable">Γ</a> <a id="349" class="Symbol">:</a> <a id="351" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="355" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="360" href="Definition.Conversion.Whnf.html#335" class="Generalizable">n</a>

<a id="363" class="Keyword">mutual</a>
  <a id="372" class="Comment">-- Extraction of neutrality from algorithmic equality of neutrals.</a>
  <a id="ne~↑"></a><a id="441" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="446" class="Symbol">:</a> <a id="448" class="Symbol">∀</a> <a id="450" class="Symbol">{</a><a id="451" href="Definition.Conversion.Whnf.html#451" class="Bound">t</a> <a id="453" href="Definition.Conversion.Whnf.html#453" class="Bound">u</a> <a id="455" href="Definition.Conversion.Whnf.html#455" class="Bound">A</a><a id="456" class="Symbol">}</a>
       <a id="465" class="Symbol">→</a> <a id="467" href="Definition.Conversion.Whnf.html#347" class="Generalizable">Γ</a> <a id="469" href="Definition.Conversion.html#711" class="Datatype Operator">⊢</a> <a id="471" href="Definition.Conversion.Whnf.html#451" class="Bound">t</a> <a id="473" href="Definition.Conversion.html#711" class="Datatype Operator">~</a> <a id="475" href="Definition.Conversion.Whnf.html#453" class="Bound">u</a> <a id="477" href="Definition.Conversion.html#711" class="Datatype Operator">↑</a> <a id="479" href="Definition.Conversion.Whnf.html#455" class="Bound">A</a>
       <a id="488" class="Symbol">→</a> <a id="490" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="498" href="Definition.Conversion.Whnf.html#451" class="Bound">t</a> <a id="500" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="502" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="510" href="Definition.Conversion.Whnf.html#453" class="Bound">u</a>
  <a id="514" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="519" class="Symbol">(</a><a id="520" href="Definition.Conversion.html#780" class="InductiveConstructor">var-refl</a> <a id="529" href="Definition.Conversion.Whnf.html#529" class="Bound">x₁</a> <a id="532" href="Definition.Conversion.Whnf.html#532" class="Bound">x≡y</a><a id="535" class="Symbol">)</a> <a id="537" class="Symbol">=</a> <a id="539" href="Definition.Untyped.html#6052" class="InductiveConstructor">var</a> <a id="543" class="Symbol">_</a> <a id="545" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="547" href="Definition.Untyped.html#6052" class="InductiveConstructor">var</a> <a id="551" class="Symbol">_</a>
  <a id="555" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="560" class="Symbol">(</a><a id="561" href="Definition.Conversion.html#886" class="InductiveConstructor">app-cong</a> <a id="570" href="Definition.Conversion.Whnf.html#570" class="Bound">x</a> <a id="572" href="Definition.Conversion.Whnf.html#572" class="Bound">x₁</a> <a id="575" class="Symbol">_</a> <a id="577" class="Symbol">_)</a> <a id="580" class="Symbol">=</a> <a id="582" class="Keyword">let</a> <a id="586" class="Symbol">_</a> <a id="588" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="590" href="Definition.Conversion.Whnf.html#590" class="Bound">q</a> <a id="592" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="594" href="Definition.Conversion.Whnf.html#594" class="Bound">w</a> <a id="596" class="Symbol">=</a> <a id="598" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="603" href="Definition.Conversion.Whnf.html#570" class="Bound">x</a>
                             <a id="634" class="Keyword">in</a>  <a id="638" href="Definition.Untyped.html#6096" class="InductiveConstructor">∘ₙ</a> <a id="641" href="Definition.Conversion.Whnf.html#590" class="Bound">q</a> <a id="643" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="645" href="Definition.Untyped.html#6096" class="InductiveConstructor">∘ₙ</a> <a id="648" href="Definition.Conversion.Whnf.html#594" class="Bound">w</a>
  <a id="652" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="657" class="Symbol">(</a><a id="658" href="Definition.Conversion.html#1087" class="InductiveConstructor">fst-cong</a> <a id="667" href="Definition.Conversion.Whnf.html#667" class="Bound">x</a><a id="668" class="Symbol">)</a> <a id="670" class="Symbol">=</a>
    <a id="676" class="Keyword">let</a> <a id="680" class="Symbol">_</a> <a id="682" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="684" href="Definition.Conversion.Whnf.html#684" class="Bound">pNe</a> <a id="688" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="690" href="Definition.Conversion.Whnf.html#690" class="Bound">rNe</a> <a id="694" class="Symbol">=</a> <a id="696" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="701" href="Definition.Conversion.Whnf.html#667" class="Bound">x</a>
    <a id="707" class="Keyword">in</a>  <a id="711" href="Definition.Untyped.html#6144" class="InductiveConstructor">fstₙ</a> <a id="716" href="Definition.Conversion.Whnf.html#684" class="Bound">pNe</a> <a id="720" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="722" href="Definition.Untyped.html#6144" class="InductiveConstructor">fstₙ</a> <a id="727" href="Definition.Conversion.Whnf.html#690" class="Bound">rNe</a>
  <a id="733" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="738" class="Symbol">(</a><a id="739" href="Definition.Conversion.html#1175" class="InductiveConstructor">snd-cong</a> <a id="748" href="Definition.Conversion.Whnf.html#748" class="Bound">x</a><a id="749" class="Symbol">)</a> <a id="751" class="Symbol">=</a>
    <a id="757" class="Keyword">let</a> <a id="761" class="Symbol">_</a> <a id="763" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="765" href="Definition.Conversion.Whnf.html#765" class="Bound">pNe</a> <a id="769" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="771" href="Definition.Conversion.Whnf.html#771" class="Bound">rNe</a> <a id="775" class="Symbol">=</a> <a id="777" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="782" href="Definition.Conversion.Whnf.html#748" class="Bound">x</a>
    <a id="788" class="Keyword">in</a>  <a id="792" href="Definition.Untyped.html#6188" class="InductiveConstructor">sndₙ</a> <a id="797" href="Definition.Conversion.Whnf.html#765" class="Bound">pNe</a> <a id="801" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="803" href="Definition.Untyped.html#6188" class="InductiveConstructor">sndₙ</a> <a id="808" href="Definition.Conversion.Whnf.html#771" class="Bound">rNe</a>
  <a id="814" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="819" class="Symbol">(</a><a id="820" href="Definition.Conversion.html#1273" class="InductiveConstructor">natrec-cong</a> <a id="832" href="Definition.Conversion.Whnf.html#832" class="Bound">x</a> <a id="834" href="Definition.Conversion.Whnf.html#834" class="Bound">x₁</a> <a id="837" href="Definition.Conversion.Whnf.html#837" class="Bound">x₂</a> <a id="840" href="Definition.Conversion.Whnf.html#840" class="Bound">x₃</a> <a id="843" class="Symbol">_</a> <a id="845" class="Symbol">_)</a> <a id="848" class="Symbol">=</a> <a id="850" class="Keyword">let</a> <a id="854" class="Symbol">_</a> <a id="856" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="858" href="Definition.Conversion.Whnf.html#858" class="Bound">q</a> <a id="860" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="862" href="Definition.Conversion.Whnf.html#862" class="Bound">w</a> <a id="864" class="Symbol">=</a> <a id="866" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="871" href="Definition.Conversion.Whnf.html#840" class="Bound">x₃</a>
                                      <a id="912" class="Keyword">in</a>  <a id="916" href="Definition.Untyped.html#6232" class="InductiveConstructor">natrecₙ</a> <a id="924" href="Definition.Conversion.Whnf.html#858" class="Bound">q</a> <a id="926" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="928" href="Definition.Untyped.html#6232" class="InductiveConstructor">natrecₙ</a> <a id="936" href="Definition.Conversion.Whnf.html#862" class="Bound">w</a>
  <a id="940" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="945" class="Symbol">(</a><a id="946" href="Definition.Conversion.html#1603" class="InductiveConstructor">prodrec-cong</a> <a id="959" href="Definition.Conversion.Whnf.html#959" class="Bound">x</a> <a id="961" href="Definition.Conversion.Whnf.html#961" class="Bound">x₁</a> <a id="964" href="Definition.Conversion.Whnf.html#964" class="Bound">x₂</a> <a id="967" href="Definition.Conversion.Whnf.html#967" class="Bound">x₃</a><a id="969" class="Symbol">)</a> <a id="971" class="Symbol">=</a>
    <a id="977" class="Keyword">let</a> <a id="981" class="Symbol">_</a> <a id="983" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="985" href="Definition.Conversion.Whnf.html#985" class="Bound">gNe</a> <a id="989" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="991" href="Definition.Conversion.Whnf.html#991" class="Bound">hNe</a> <a id="995" class="Symbol">=</a> <a id="997" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="1002" href="Definition.Conversion.Whnf.html#961" class="Bound">x₁</a>
    <a id="1009" class="Keyword">in</a>  <a id="1013" href="Definition.Untyped.html#6289" class="InductiveConstructor">prodrecₙ</a> <a id="1022" href="Definition.Conversion.Whnf.html#985" class="Bound">gNe</a> <a id="1026" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1028" href="Definition.Untyped.html#6289" class="InductiveConstructor">prodrecₙ</a> <a id="1037" href="Definition.Conversion.Whnf.html#991" class="Bound">hNe</a>
  <a id="1043" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="1048" class="Symbol">(</a><a id="1049" href="Definition.Conversion.html#1880" class="InductiveConstructor">Emptyrec-cong</a> <a id="1063" href="Definition.Conversion.Whnf.html#1063" class="Bound">x</a> <a id="1065" href="Definition.Conversion.Whnf.html#1065" class="Bound">x₁</a> <a id="1068" class="Symbol">_)</a> <a id="1071" class="Symbol">=</a> <a id="1073" class="Keyword">let</a> <a id="1077" class="Symbol">_</a> <a id="1079" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1081" href="Definition.Conversion.Whnf.html#1081" class="Bound">q</a> <a id="1083" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1085" href="Definition.Conversion.Whnf.html#1085" class="Bound">w</a> <a id="1087" class="Symbol">=</a> <a id="1089" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="1094" href="Definition.Conversion.Whnf.html#1065" class="Bound">x₁</a>
                                <a id="1129" class="Keyword">in</a> <a id="1132" href="Definition.Untyped.html#6343" class="InductiveConstructor">Emptyrecₙ</a> <a id="1142" href="Definition.Conversion.Whnf.html#1081" class="Bound">q</a> <a id="1144" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1146" href="Definition.Untyped.html#6343" class="InductiveConstructor">Emptyrecₙ</a> <a id="1156" href="Definition.Conversion.Whnf.html#1085" class="Bound">w</a>

  <a id="1161" class="Comment">-- Extraction of neutrality and WHNF from algorithmic equality of neutrals</a>
  <a id="1238" class="Comment">-- with type in WHNF.</a>
  <a id="ne~↓"></a><a id="1262" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="1267" class="Symbol">:</a> <a id="1269" class="Symbol">∀</a> <a id="1271" class="Symbol">{</a><a id="1272" href="Definition.Conversion.Whnf.html#1272" class="Bound">t</a> <a id="1274" href="Definition.Conversion.Whnf.html#1274" class="Bound">u</a> <a id="1276" href="Definition.Conversion.Whnf.html#1276" class="Bound">A</a><a id="1277" class="Symbol">}</a>
       <a id="1286" class="Symbol">→</a> <a id="1288" href="Definition.Conversion.Whnf.html#347" class="Generalizable">Γ</a> <a id="1290" href="Definition.Conversion.html#2090" class="Record Operator">⊢</a> <a id="1292" href="Definition.Conversion.Whnf.html#1272" class="Bound">t</a> <a id="1294" href="Definition.Conversion.html#2090" class="Record Operator">~</a> <a id="1296" href="Definition.Conversion.Whnf.html#1274" class="Bound">u</a> <a id="1298" href="Definition.Conversion.html#2090" class="Record Operator">↓</a> <a id="1300" href="Definition.Conversion.Whnf.html#1276" class="Bound">A</a>
       <a id="1309" class="Symbol">→</a> <a id="1311" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="1316" href="Definition.Conversion.Whnf.html#1276" class="Bound">A</a> <a id="1318" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1320" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="1328" href="Definition.Conversion.Whnf.html#1272" class="Bound">t</a> <a id="1330" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1332" href="Definition.Untyped.html#6019" class="Datatype">Neutral</a> <a id="1340" href="Definition.Conversion.Whnf.html#1274" class="Bound">u</a>
  <a id="1344" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Definition.Conversion.html#2182" class="InductiveConstructor">[~]</a> <a id="1354" href="Definition.Conversion.Whnf.html#1354" class="Bound">A₁</a> <a id="1357" href="Definition.Conversion.Whnf.html#1357" class="Bound">D</a> <a id="1359" href="Definition.Conversion.Whnf.html#1359" class="Bound">whnfB</a> <a id="1365" href="Definition.Conversion.Whnf.html#1365" class="Bound">k~l</a><a id="1368" class="Symbol">)</a> <a id="1370" class="Symbol">=</a> <a id="1372" href="Definition.Conversion.Whnf.html#1359" class="Bound">whnfB</a> <a id="1378" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1380" href="Definition.Conversion.Whnf.html#441" class="Function">ne~↑</a> <a id="1385" href="Definition.Conversion.Whnf.html#1365" class="Bound">k~l</a>

<a id="1390" class="Comment">-- Extraction of WHNF from algorithmic equality of types in WHNF.</a>
<a id="whnfConv↓"></a><a id="1456" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1466" class="Symbol">:</a> <a id="1468" class="Symbol">∀</a> <a id="1470" class="Symbol">{</a><a id="1471" href="Definition.Conversion.Whnf.html#1471" class="Bound">A</a> <a id="1473" href="Definition.Conversion.Whnf.html#1473" class="Bound">B</a><a id="1474" class="Symbol">}</a>
          <a id="1486" class="Symbol">→</a> <a id="1488" href="Definition.Conversion.Whnf.html#347" class="Generalizable">Γ</a> <a id="1490" href="Definition.Conversion.html#2631" class="Datatype Operator">⊢</a> <a id="1492" href="Definition.Conversion.Whnf.html#1471" class="Bound">A</a> <a id="1494" href="Definition.Conversion.html#2631" class="Datatype Operator">[conv↓]</a> <a id="1502" href="Definition.Conversion.Whnf.html#1473" class="Bound">B</a>
          <a id="1514" class="Symbol">→</a> <a id="1516" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="1521" href="Definition.Conversion.Whnf.html#1471" class="Bound">A</a> <a id="1523" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1525" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="1530" href="Definition.Conversion.Whnf.html#1473" class="Bound">B</a>
<a id="1532" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Definition.Conversion.html#2702" class="InductiveConstructor">U-refl</a> <a id="1550" href="Definition.Conversion.Whnf.html#1550" class="Bound">x</a><a id="1551" class="Symbol">)</a> <a id="1553" class="Symbol">=</a> <a id="1555" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a> <a id="1558" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1560" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a>
<a id="1563" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1573" class="Symbol">(</a><a id="1574" href="Definition.Conversion.html#2742" class="InductiveConstructor">ℕ-refl</a> <a id="1581" href="Definition.Conversion.Whnf.html#1581" class="Bound">x</a><a id="1582" class="Symbol">)</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a> <a id="1589" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1591" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a>
<a id="1594" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1604" class="Symbol">(</a><a id="1605" href="Definition.Conversion.html#2782" class="InductiveConstructor">Empty-refl</a> <a id="1616" href="Definition.Conversion.Whnf.html#1616" class="Bound">x</a><a id="1617" class="Symbol">)</a> <a id="1619" class="Symbol">=</a> <a id="1621" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a> <a id="1628" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1630" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a>
<a id="1637" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1647" class="Symbol">(</a><a id="1648" href="Definition.Conversion.html#2830" class="InductiveConstructor">Unit-refl</a> <a id="1658" href="Definition.Conversion.Whnf.html#1658" class="Bound">x</a><a id="1659" class="Symbol">)</a> <a id="1661" class="Symbol">=</a> <a id="1663" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a> <a id="1669" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1671" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a>
<a id="1677" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1687" class="Symbol">(</a><a id="1688" href="Definition.Conversion.html#2876" class="InductiveConstructor">ne</a> <a id="1691" href="Definition.Conversion.Whnf.html#1691" class="Bound">x</a><a id="1692" class="Symbol">)</a> <a id="1694" class="Symbol">=</a> <a id="1696" class="Keyword">let</a> <a id="1700" class="Symbol">_</a> <a id="1702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1704" href="Definition.Conversion.Whnf.html#1704" class="Bound">neA</a> <a id="1708" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1710" href="Definition.Conversion.Whnf.html#1710" class="Bound">neB</a> <a id="1714" class="Symbol">=</a> <a id="1716" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="1721" href="Definition.Conversion.Whnf.html#1691" class="Bound">x</a>
                   <a id="1742" class="Keyword">in</a>  <a id="1746" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="1749" href="Definition.Conversion.Whnf.html#1704" class="Bound">neA</a> <a id="1753" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1755" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="1758" href="Definition.Conversion.Whnf.html#1710" class="Bound">neB</a>
<a id="1762" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1772" class="Symbol">(</a><a id="1773" href="Definition.Conversion.html#2966" class="InductiveConstructor">Π-cong</a> <a id="1780" href="Definition.Conversion.Whnf.html#1780" class="Bound">x</a> <a id="1782" href="Definition.Conversion.Whnf.html#1782" class="Bound">x₁</a> <a id="1785" href="Definition.Conversion.Whnf.html#1785" class="Bound">x₂</a> <a id="1788" class="Symbol">_</a> <a id="1790" class="Symbol">_)</a> <a id="1793" class="Symbol">=</a> <a id="1795" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a> <a id="1798" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1800" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a>
<a id="1803" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="1813" class="Symbol">(</a><a id="1814" href="Definition.Conversion.html#3200" class="InductiveConstructor">Σ-cong</a> <a id="1821" href="Definition.Conversion.Whnf.html#1821" class="Bound">x</a> <a id="1823" href="Definition.Conversion.Whnf.html#1823" class="Bound">x₁</a> <a id="1826" href="Definition.Conversion.Whnf.html#1826" class="Bound">x₂</a> <a id="1829" class="Symbol">_)</a> <a id="1832" class="Symbol">=</a> <a id="1834" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a> <a id="1837" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1839" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a>

<a id="1843" class="Comment">-- Extraction of WHNF from algorithmic equality of terms in WHNF.</a>
<a id="whnfConv↓Term"></a><a id="1909" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="1923" class="Symbol">:</a> <a id="1925" class="Symbol">∀</a> <a id="1927" class="Symbol">{</a><a id="1928" href="Definition.Conversion.Whnf.html#1928" class="Bound">t</a> <a id="1930" href="Definition.Conversion.Whnf.html#1930" class="Bound">u</a> <a id="1932" href="Definition.Conversion.Whnf.html#1932" class="Bound">A</a><a id="1933" class="Symbol">}</a>
              <a id="1949" class="Symbol">→</a> <a id="1951" href="Definition.Conversion.Whnf.html#347" class="Generalizable">Γ</a> <a id="1953" href="Definition.Conversion.html#3829" class="Datatype Operator">⊢</a> <a id="1955" href="Definition.Conversion.Whnf.html#1928" class="Bound">t</a> <a id="1957" href="Definition.Conversion.html#3829" class="Datatype Operator">[conv↓]</a> <a id="1965" href="Definition.Conversion.Whnf.html#1930" class="Bound">u</a> <a id="1967" href="Definition.Conversion.html#3829" class="Datatype Operator">∷</a> <a id="1969" href="Definition.Conversion.Whnf.html#1932" class="Bound">A</a>
              <a id="1985" class="Symbol">→</a> <a id="1987" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="1992" href="Definition.Conversion.Whnf.html#1932" class="Bound">A</a> <a id="1994" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1996" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="2001" href="Definition.Conversion.Whnf.html#1928" class="Bound">t</a> <a id="2003" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2005" href="Definition.Untyped.html#6486" class="Datatype">Whnf</a> <a id="2010" href="Definition.Conversion.Whnf.html#1930" class="Bound">u</a>
<a id="2012" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Definition.Conversion.html#3904" class="InductiveConstructor">ℕ-ins</a> <a id="2033" href="Definition.Conversion.Whnf.html#2033" class="Bound">x</a><a id="2034" class="Symbol">)</a> <a id="2036" class="Symbol">=</a> <a id="2038" class="Keyword">let</a> <a id="2042" class="Symbol">_</a> <a id="2044" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2046" href="Definition.Conversion.Whnf.html#2046" class="Bound">neT</a> <a id="2050" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2052" href="Definition.Conversion.Whnf.html#2052" class="Bound">neU</a> <a id="2056" class="Symbol">=</a> <a id="2058" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="2063" href="Definition.Conversion.Whnf.html#2033" class="Bound">x</a>
                           <a id="2092" class="Keyword">in</a> <a id="2095" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a> <a id="2098" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2100" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2103" href="Definition.Conversion.Whnf.html#2046" class="Bound">neT</a> <a id="2107" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2109" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2112" href="Definition.Conversion.Whnf.html#2052" class="Bound">neU</a>
<a id="2116" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2130" class="Symbol">(</a><a id="2131" href="Definition.Conversion.html#3971" class="InductiveConstructor">Empty-ins</a> <a id="2141" href="Definition.Conversion.Whnf.html#2141" class="Bound">x</a><a id="2142" class="Symbol">)</a> <a id="2144" class="Symbol">=</a> <a id="2146" class="Keyword">let</a> <a id="2150" class="Symbol">_</a> <a id="2152" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2154" href="Definition.Conversion.Whnf.html#2154" class="Bound">neT</a> <a id="2158" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2160" href="Definition.Conversion.Whnf.html#2160" class="Bound">neU</a> <a id="2164" class="Symbol">=</a> <a id="2166" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="2171" href="Definition.Conversion.Whnf.html#2141" class="Bound">x</a>
                              <a id="2203" class="Keyword">in</a> <a id="2206" href="Definition.Untyped.html#6695" class="InductiveConstructor">Emptyₙ</a> <a id="2213" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2215" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2218" href="Definition.Conversion.Whnf.html#2154" class="Bound">neT</a> <a id="2222" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2224" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2227" href="Definition.Conversion.Whnf.html#2160" class="Bound">neU</a>
<a id="2231" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2245" class="Symbol">(</a><a id="2246" href="Definition.Conversion.html#4046" class="InductiveConstructor">Unit-ins</a> <a id="2255" href="Definition.Conversion.Whnf.html#2255" class="Bound">x</a><a id="2256" class="Symbol">)</a> <a id="2258" class="Symbol">=</a> <a id="2260" class="Keyword">let</a> <a id="2264" class="Symbol">_</a> <a id="2266" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2268" href="Definition.Conversion.Whnf.html#2268" class="Bound">neT</a> <a id="2272" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2274" href="Definition.Conversion.Whnf.html#2274" class="Bound">neU</a> <a id="2278" class="Symbol">=</a> <a id="2280" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="2285" href="Definition.Conversion.Whnf.html#2255" class="Bound">x</a>
                             <a id="2316" class="Keyword">in</a> <a id="2319" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a> <a id="2325" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2327" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2330" href="Definition.Conversion.Whnf.html#2268" class="Bound">neT</a> <a id="2334" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2336" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2339" href="Definition.Conversion.Whnf.html#2274" class="Bound">neU</a>
<a id="2343" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2357" class="Symbol">(</a><a id="2358" href="Definition.Conversion.html#4119" class="InductiveConstructor">Σᵣ-ins</a> <a id="2365" href="Definition.Conversion.Whnf.html#2365" class="Bound">x</a> <a id="2367" href="Definition.Conversion.Whnf.html#2367" class="Bound">x₁</a> <a id="2370" href="Definition.Conversion.Whnf.html#2370" class="Bound">x₂</a><a id="2372" class="Symbol">)</a> <a id="2374" class="Symbol">=</a>
  <a id="2378" class="Keyword">let</a> <a id="2382" class="Symbol">_</a> <a id="2384" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2386" href="Definition.Conversion.Whnf.html#2386" class="Bound">neT</a> <a id="2390" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2392" href="Definition.Conversion.Whnf.html#2392" class="Bound">neU</a> <a id="2396" class="Symbol">=</a> <a id="2398" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="2403" href="Definition.Conversion.Whnf.html#2370" class="Bound">x₂</a>
  <a id="2408" class="Keyword">in</a>  <a id="2412" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a> <a id="2415" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2417" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2420" href="Definition.Conversion.Whnf.html#2386" class="Bound">neT</a> <a id="2424" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2426" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2429" href="Definition.Conversion.Whnf.html#2392" class="Bound">neU</a>
<a id="2433" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2447" class="Symbol">(</a><a id="2448" href="Definition.Conversion.html#4283" class="InductiveConstructor">ne-ins</a> <a id="2455" href="Definition.Conversion.Whnf.html#2455" class="Bound">t</a> <a id="2457" href="Definition.Conversion.Whnf.html#2457" class="Bound">u</a> <a id="2459" href="Definition.Conversion.Whnf.html#2459" class="Bound">x</a> <a id="2461" href="Definition.Conversion.Whnf.html#2461" class="Bound">x₁</a><a id="2463" class="Symbol">)</a> <a id="2465" class="Symbol">=</a>
  <a id="2469" class="Keyword">let</a> <a id="2473" class="Symbol">_</a> <a id="2475" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2477" href="Definition.Conversion.Whnf.html#2477" class="Bound">neT</a> <a id="2481" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2483" href="Definition.Conversion.Whnf.html#2483" class="Bound">neU</a> <a id="2487" class="Symbol">=</a> <a id="2489" href="Definition.Conversion.Whnf.html#1262" class="Function">ne~↓</a> <a id="2494" href="Definition.Conversion.Whnf.html#2461" class="Bound">x₁</a>
  <a id="2499" class="Keyword">in</a> <a id="2502" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2505" href="Definition.Conversion.Whnf.html#2459" class="Bound">x</a> <a id="2507" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2509" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2512" href="Definition.Conversion.Whnf.html#2477" class="Bound">neT</a> <a id="2516" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2518" href="Definition.Untyped.html#6888" class="InductiveConstructor">ne</a> <a id="2521" href="Definition.Conversion.Whnf.html#2483" class="Bound">neU</a>
<a id="2525" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2539" class="Symbol">(</a><a id="2540" href="Definition.Conversion.html#4456" class="InductiveConstructor">univ</a> <a id="2545" href="Definition.Conversion.Whnf.html#2545" class="Bound">x</a> <a id="2547" href="Definition.Conversion.Whnf.html#2547" class="Bound">x₁</a> <a id="2550" href="Definition.Conversion.Whnf.html#2550" class="Bound">x₂</a><a id="2552" class="Symbol">)</a> <a id="2554" class="Symbol">=</a> <a id="2556" href="Definition.Untyped.html#6561" class="InductiveConstructor">Uₙ</a> <a id="2559" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2561" href="Definition.Conversion.Whnf.html#1456" class="Function">whnfConv↓</a> <a id="2571" href="Definition.Conversion.Whnf.html#2550" class="Bound">x₂</a>
<a id="2574" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2588" class="Symbol">(</a><a id="2589" href="Definition.Conversion.html#4601" class="InductiveConstructor">zero-refl</a> <a id="2599" href="Definition.Conversion.Whnf.html#2599" class="Bound">x</a><a id="2600" class="Symbol">)</a> <a id="2602" class="Symbol">=</a> <a id="2604" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a> <a id="2607" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2609" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a> <a id="2615" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2617" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a>
<a id="2623" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2637" class="Symbol">(</a><a id="2638" href="Definition.Conversion.html#4650" class="InductiveConstructor">suc-cong</a> <a id="2647" href="Definition.Conversion.Whnf.html#2647" class="Bound">x</a><a id="2648" class="Symbol">)</a> <a id="2650" class="Symbol">=</a> <a id="2652" href="Definition.Untyped.html#6656" class="InductiveConstructor">ℕₙ</a> <a id="2655" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2657" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a> <a id="2662" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2664" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a>
<a id="2669" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2683" class="Symbol">(</a><a id="2684" href="Definition.Conversion.html#4755" class="InductiveConstructor">prod-cong</a> <a id="2694" href="Definition.Conversion.Whnf.html#2694" class="Bound">x</a> <a id="2696" href="Definition.Conversion.Whnf.html#2696" class="Bound">x₁</a> <a id="2699" href="Definition.Conversion.Whnf.html#2699" class="Bound">x₂</a> <a id="2702" href="Definition.Conversion.Whnf.html#2702" class="Bound">x₃</a><a id="2704" class="Symbol">)</a> <a id="2706" class="Symbol">=</a> <a id="2708" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a> <a id="2711" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2713" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a> <a id="2719" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2721" href="Definition.Untyped.html#6836" class="InductiveConstructor">prodₙ</a>
<a id="2727" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2741" class="Symbol">(</a><a id="2742" href="Definition.Conversion.html#4981" class="InductiveConstructor">η-eq</a> <a id="2747" href="Definition.Conversion.Whnf.html#2747" class="Bound">x₁</a> <a id="2750" href="Definition.Conversion.Whnf.html#2750" class="Bound">x₂</a> <a id="2753" href="Definition.Conversion.Whnf.html#2753" class="Bound">y</a> <a id="2755" href="Definition.Conversion.Whnf.html#2755" class="Bound">y₁</a> <a id="2758" href="Definition.Conversion.Whnf.html#2758" class="Bound">x₃</a><a id="2760" class="Symbol">)</a> <a id="2762" class="Symbol">=</a> <a id="2764" href="Definition.Untyped.html#6579" class="InductiveConstructor">Πₙ</a> <a id="2767" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2769" href="Definition.Untyped.html#9269" class="Function">functionWhnf</a> <a id="2782" href="Definition.Conversion.Whnf.html#2753" class="Bound">y</a> <a id="2784" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2786" href="Definition.Untyped.html#9269" class="Function">functionWhnf</a> <a id="2799" href="Definition.Conversion.Whnf.html#2755" class="Bound">y₁</a>
<a id="2802" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2816" class="Symbol">(</a><a id="2817" href="Definition.Conversion.html#5353" class="InductiveConstructor">Σ-η</a> <a id="2821" class="Symbol">_</a> <a id="2823" class="Symbol">_</a> <a id="2825" href="Definition.Conversion.Whnf.html#2825" class="Bound">pProd</a> <a id="2831" href="Definition.Conversion.Whnf.html#2831" class="Bound">rProd</a> <a id="2837" class="Symbol">_</a> <a id="2839" class="Symbol">_)</a> <a id="2842" class="Symbol">=</a> <a id="2844" href="Definition.Untyped.html#6613" class="InductiveConstructor">Σₙ</a> <a id="2847" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2849" href="Definition.Untyped.html#9359" class="Function">productWhnf</a> <a id="2861" href="Definition.Conversion.Whnf.html#2825" class="Bound">pProd</a> <a id="2867" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2869" href="Definition.Untyped.html#9359" class="Function">productWhnf</a> <a id="2881" href="Definition.Conversion.Whnf.html#2831" class="Bound">rProd</a>
<a id="2887" href="Definition.Conversion.Whnf.html#1909" class="Function">whnfConv↓Term</a> <a id="2901" class="Symbol">(</a><a id="2902" href="Definition.Conversion.html#5625" class="InductiveConstructor">η-unit</a> <a id="2909" class="Symbol">_</a> <a id="2911" class="Symbol">_</a> <a id="2913" href="Definition.Conversion.Whnf.html#2913" class="Bound">tWhnf</a> <a id="2919" href="Definition.Conversion.Whnf.html#2919" class="Bound">uWhnf</a><a id="2924" class="Symbol">)</a> <a id="2926" class="Symbol">=</a> <a id="2928" href="Definition.Untyped.html#6674" class="InductiveConstructor">Unitₙ</a> <a id="2934" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2936" href="Definition.Conversion.Whnf.html#2913" class="Bound">tWhnf</a> <a id="2942" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2944" href="Definition.Conversion.Whnf.html#2919" class="Bound">uWhnf</a>
</pre></body></html>