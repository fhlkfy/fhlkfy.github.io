<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Conversion.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Tools.Relation.html" class="Module">Tools.Relation</a>

<a id="65" class="Keyword">module</a> <a id="72" href="Definition.Conversion.Reduction.html" class="Module">Definition.Conversion.Reduction</a> <a id="104" class="Symbol">{</a><a id="105" href="Definition.Conversion.Reduction.html#105" class="Bound">a</a> <a id="107" href="Definition.Conversion.Reduction.html#107" class="Bound">ℓ</a><a id="108" class="Symbol">}</a> <a id="110" class="Symbol">(</a><a id="111" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a> <a id="114" class="Symbol">:</a> <a id="116" href="Relation.Binary.Bundles.html#1009" class="Record">Setoid</a> <a id="123" href="Definition.Conversion.Reduction.html#105" class="Bound">a</a> <a id="125" href="Definition.Conversion.Reduction.html#107" class="Bound">ℓ</a><a id="126" class="Symbol">)</a> <a id="128" class="Keyword">where</a>

<a id="135" class="Keyword">open</a> <a id="140" href="Relation.Binary.Bundles.html#1009" class="Module">Setoid</a> <a id="147" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a> <a id="150" class="Keyword">using</a> <a id="156" class="Symbol">()</a> <a id="159" class="Keyword">renaming</a> <a id="168" class="Symbol">(</a><a id="169" href="Relation.Binary.Bundles.html#1072" class="Field">Carrier</a> <a id="177" class="Symbol">to</a> <a id="180" class="Field">M</a><a id="181" class="Symbol">)</a>

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="215" href="Definition.Conversion.Reduction.html#180" class="Field">M</a> <a id="217" class="Keyword">hiding</a> <a id="224" class="Symbol">(</a><a id="225" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a><a id="228" class="Symbol">)</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="259" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a>
<a id="262" class="Keyword">open</a> <a id="267" class="Keyword">import</a> <a id="274" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="302" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a> <a id="343" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Definition.Conversion.html" class="Module">Definition.Conversion</a> <a id="380" href="Definition.Conversion.Reduction.html#111" class="Bound">M′</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Tools.Nat.html" class="Module">Tools.Nat</a>

<a id="407" class="Keyword">private</a>
  <a id="417" class="Keyword">variable</a>
    <a id="430" href="Definition.Conversion.Reduction.html#430" class="Generalizable">n</a> <a id="432" class="Symbol">:</a> <a id="434" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="442" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="444" class="Symbol">:</a> <a id="446" href="Definition.Untyped.html#765" class="Datatype">Con</a> <a id="450" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="455" href="Definition.Conversion.Reduction.html#430" class="Generalizable">n</a>

<a id="458" class="Comment">-- Weak head expansion of algorithmic equality of types.</a>
<a id="reductionConv↑"></a><a id="515" href="Definition.Conversion.Reduction.html#515" class="Function">reductionConv↑</a> <a id="530" class="Symbol">:</a> <a id="532" class="Symbol">∀</a> <a id="534" class="Symbol">{</a><a id="535" href="Definition.Conversion.Reduction.html#535" class="Bound">A</a> <a id="537" href="Definition.Conversion.Reduction.html#537" class="Bound">A′</a> <a id="540" href="Definition.Conversion.Reduction.html#540" class="Bound">B</a> <a id="542" href="Definition.Conversion.Reduction.html#542" class="Bound">B′</a><a id="544" class="Symbol">}</a>
               <a id="561" class="Symbol">→</a> <a id="563" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="565" href="Definition.Typed.html#13585" class="Datatype Operator">⊢</a> <a id="567" href="Definition.Conversion.Reduction.html#535" class="Bound">A</a> <a id="569" href="Definition.Typed.html#13585" class="Datatype Operator">⇒*</a> <a id="572" href="Definition.Conversion.Reduction.html#537" class="Bound">A′</a>
               <a id="590" class="Symbol">→</a> <a id="592" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="594" href="Definition.Typed.html#13585" class="Datatype Operator">⊢</a> <a id="596" href="Definition.Conversion.Reduction.html#540" class="Bound">B</a> <a id="598" href="Definition.Typed.html#13585" class="Datatype Operator">⇒*</a> <a id="601" href="Definition.Conversion.Reduction.html#542" class="Bound">B′</a>
               <a id="619" class="Symbol">→</a> <a id="621" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="623" href="Definition.Conversion.html#2321" class="Record Operator">⊢</a> <a id="625" href="Definition.Conversion.Reduction.html#537" class="Bound">A′</a> <a id="628" href="Definition.Conversion.html#2321" class="Record Operator">[conv↑]</a> <a id="636" href="Definition.Conversion.Reduction.html#542" class="Bound">B′</a>
               <a id="654" class="Symbol">→</a> <a id="656" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="658" href="Definition.Conversion.html#2321" class="Record Operator">⊢</a> <a id="660" href="Definition.Conversion.Reduction.html#535" class="Bound">A</a>  <a id="663" href="Definition.Conversion.html#2321" class="Record Operator">[conv↑]</a> <a id="671" href="Definition.Conversion.Reduction.html#540" class="Bound">B</a>
<a id="673" href="Definition.Conversion.Reduction.html#515" class="Function">reductionConv↑</a> <a id="688" href="Definition.Conversion.Reduction.html#688" class="Bound">A⇒*</a> <a id="692" href="Definition.Conversion.Reduction.html#692" class="Bound">B⇒*</a> <a id="696" class="Symbol">(</a><a id="697" href="Definition.Conversion.html#2415" class="InductiveConstructor">[↑]</a> <a id="701" href="Definition.Conversion.Reduction.html#701" class="Bound">A″</a> <a id="704" href="Definition.Conversion.Reduction.html#704" class="Bound">B″</a> <a id="707" href="Definition.Conversion.Reduction.html#707" class="Bound">D</a> <a id="709" href="Definition.Conversion.Reduction.html#709" class="Bound">D′</a> <a id="712" href="Definition.Conversion.Reduction.html#712" class="Bound">whnfA″</a> <a id="719" href="Definition.Conversion.Reduction.html#719" class="Bound">whnfB″</a> <a id="726" href="Definition.Conversion.Reduction.html#726" class="Bound">A″&lt;&gt;B″</a><a id="732" class="Symbol">)</a> <a id="734" class="Symbol">=</a>
  <a id="738" href="Definition.Conversion.html#2415" class="InductiveConstructor">[↑]</a> <a id="742" href="Definition.Conversion.Reduction.html#701" class="Bound">A″</a> <a id="745" href="Definition.Conversion.Reduction.html#704" class="Bound">B″</a> <a id="748" class="Symbol">(</a><a id="749" href="Definition.Conversion.Reduction.html#688" class="Bound">A⇒*</a> <a id="753" href="Definition.Typed.RedSteps.html#431" class="Function Operator">⇨*</a> <a id="756" href="Definition.Conversion.Reduction.html#707" class="Bound">D</a><a id="757" class="Symbol">)</a> <a id="759" class="Symbol">(</a><a id="760" href="Definition.Conversion.Reduction.html#692" class="Bound">B⇒*</a> <a id="764" href="Definition.Typed.RedSteps.html#431" class="Function Operator">⇨*</a> <a id="767" href="Definition.Conversion.Reduction.html#709" class="Bound">D′</a><a id="769" class="Symbol">)</a> <a id="771" href="Definition.Conversion.Reduction.html#712" class="Bound">whnfA″</a> <a id="778" href="Definition.Conversion.Reduction.html#719" class="Bound">whnfB″</a> <a id="785" href="Definition.Conversion.Reduction.html#726" class="Bound">A″&lt;&gt;B″</a>

<a id="793" class="Comment">-- Weak head expansion of algorithmic equality of terms.</a>
<a id="reductionConv↑Term"></a><a id="850" href="Definition.Conversion.Reduction.html#850" class="Function">reductionConv↑Term</a> <a id="869" class="Symbol">:</a> <a id="871" class="Symbol">∀</a> <a id="873" class="Symbol">{</a><a id="874" href="Definition.Conversion.Reduction.html#874" class="Bound">t</a> <a id="876" href="Definition.Conversion.Reduction.html#876" class="Bound">t′</a> <a id="879" href="Definition.Conversion.Reduction.html#879" class="Bound">u</a> <a id="881" href="Definition.Conversion.Reduction.html#881" class="Bound">u′</a> <a id="884" href="Definition.Conversion.Reduction.html#884" class="Bound">A</a> <a id="886" href="Definition.Conversion.Reduction.html#886" class="Bound">B</a><a id="887" class="Symbol">}</a>
                   <a id="908" class="Symbol">→</a> <a id="910" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="912" href="Definition.Typed.html#13585" class="Datatype Operator">⊢</a> <a id="914" href="Definition.Conversion.Reduction.html#884" class="Bound">A</a> <a id="916" href="Definition.Typed.html#13585" class="Datatype Operator">⇒*</a> <a id="919" href="Definition.Conversion.Reduction.html#886" class="Bound">B</a>
                   <a id="940" class="Symbol">→</a> <a id="942" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="944" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="946" href="Definition.Conversion.Reduction.html#874" class="Bound">t</a> <a id="948" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="951" href="Definition.Conversion.Reduction.html#876" class="Bound">t′</a> <a id="954" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="956" href="Definition.Conversion.Reduction.html#886" class="Bound">B</a>
                   <a id="977" class="Symbol">→</a> <a id="979" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="981" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="983" href="Definition.Conversion.Reduction.html#879" class="Bound">u</a> <a id="985" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="988" href="Definition.Conversion.Reduction.html#881" class="Bound">u′</a> <a id="991" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="993" href="Definition.Conversion.Reduction.html#886" class="Bound">B</a>
                   <a id="1014" class="Symbol">→</a> <a id="1016" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="1018" href="Definition.Conversion.html#3436" class="Record Operator">⊢</a> <a id="1020" href="Definition.Conversion.Reduction.html#876" class="Bound">t′</a> <a id="1023" href="Definition.Conversion.html#3436" class="Record Operator">[conv↑]</a> <a id="1031" href="Definition.Conversion.Reduction.html#881" class="Bound">u′</a> <a id="1034" href="Definition.Conversion.html#3436" class="Record Operator">∷</a> <a id="1036" href="Definition.Conversion.Reduction.html#886" class="Bound">B</a>
                   <a id="1057" class="Symbol">→</a> <a id="1059" href="Definition.Conversion.Reduction.html#442" class="Generalizable">Γ</a> <a id="1061" href="Definition.Conversion.html#3436" class="Record Operator">⊢</a> <a id="1063" href="Definition.Conversion.Reduction.html#874" class="Bound">t</a>  <a id="1066" href="Definition.Conversion.html#3436" class="Record Operator">[conv↑]</a> <a id="1074" href="Definition.Conversion.Reduction.html#879" class="Bound">u</a>  <a id="1077" href="Definition.Conversion.html#3436" class="Record Operator">∷</a> <a id="1079" href="Definition.Conversion.Reduction.html#884" class="Bound">A</a>
<a id="1081" href="Definition.Conversion.Reduction.html#850" class="Function">reductionConv↑Term</a> <a id="1100" href="Definition.Conversion.Reduction.html#1100" class="Bound">A⇒*</a> <a id="1104" href="Definition.Conversion.Reduction.html#1104" class="Bound">t⇒*</a> <a id="1108" href="Definition.Conversion.Reduction.html#1108" class="Bound">u⇒*</a> <a id="1112" class="Symbol">(</a><a id="1113" href="Definition.Conversion.html#3534" class="InductiveConstructor">[↑]ₜ</a> <a id="1118" href="Definition.Conversion.Reduction.html#1118" class="Bound">B′</a> <a id="1121" href="Definition.Conversion.Reduction.html#1121" class="Bound">t″</a> <a id="1124" href="Definition.Conversion.Reduction.html#1124" class="Bound">u″</a> <a id="1127" href="Definition.Conversion.Reduction.html#1127" class="Bound">D</a> <a id="1129" href="Definition.Conversion.Reduction.html#1129" class="Bound">d</a> <a id="1131" href="Definition.Conversion.Reduction.html#1131" class="Bound">d′</a> <a id="1134" href="Definition.Conversion.Reduction.html#1134" class="Bound">whnfB′</a> <a id="1141" href="Definition.Conversion.Reduction.html#1141" class="Bound">whnft″</a> <a id="1148" href="Definition.Conversion.Reduction.html#1148" class="Bound">whnfu″</a> <a id="1155" href="Definition.Conversion.Reduction.html#1155" class="Bound">t″&lt;&gt;u″</a><a id="1161" class="Symbol">)</a> <a id="1163" class="Symbol">=</a>
  <a id="1167" href="Definition.Conversion.html#3534" class="InductiveConstructor">[↑]ₜ</a> <a id="1172" href="Definition.Conversion.Reduction.html#1118" class="Bound">B′</a> <a id="1175" href="Definition.Conversion.Reduction.html#1121" class="Bound">t″</a> <a id="1178" href="Definition.Conversion.Reduction.html#1124" class="Bound">u″</a>
       <a id="1188" class="Symbol">(</a><a id="1189" href="Definition.Conversion.Reduction.html#1100" class="Bound">A⇒*</a> <a id="1193" href="Definition.Typed.RedSteps.html#431" class="Function Operator">⇨*</a> <a id="1196" href="Definition.Conversion.Reduction.html#1127" class="Bound">D</a><a id="1197" class="Symbol">)</a>
       <a id="1206" class="Symbol">((</a><a id="1208" href="Definition.Typed.RedSteps.html#743" class="Function">conv*</a> <a id="1214" href="Definition.Conversion.Reduction.html#1104" class="Bound">t⇒*</a> <a id="1218" class="Symbol">(</a><a id="1219" href="Definition.Typed.Properties.html#3714" class="Function">subset*</a> <a id="1227" href="Definition.Conversion.Reduction.html#1127" class="Bound">D</a><a id="1228" class="Symbol">))</a> <a id="1231" href="Definition.Typed.RedSteps.html#583" class="Function Operator">⇨∷*</a> <a id="1235" href="Definition.Conversion.Reduction.html#1129" class="Bound">d</a><a id="1236" class="Symbol">)</a>
       <a id="1245" class="Symbol">((</a><a id="1247" href="Definition.Typed.RedSteps.html#743" class="Function">conv*</a> <a id="1253" href="Definition.Conversion.Reduction.html#1108" class="Bound">u⇒*</a> <a id="1257" class="Symbol">(</a><a id="1258" href="Definition.Typed.Properties.html#3714" class="Function">subset*</a> <a id="1266" href="Definition.Conversion.Reduction.html#1127" class="Bound">D</a><a id="1267" class="Symbol">))</a> <a id="1270" href="Definition.Typed.RedSteps.html#583" class="Function Operator">⇨∷*</a> <a id="1274" href="Definition.Conversion.Reduction.html#1131" class="Bound">d′</a><a id="1276" class="Symbol">)</a>
       <a id="1285" href="Definition.Conversion.Reduction.html#1134" class="Bound">whnfB′</a> <a id="1292" href="Definition.Conversion.Reduction.html#1141" class="Bound">whnft″</a> <a id="1299" href="Definition.Conversion.Reduction.html#1148" class="Bound">whnfu″</a> <a id="1306" href="Definition.Conversion.Reduction.html#1155" class="Bound">t″&lt;&gt;u″</a>
</pre></body></html>