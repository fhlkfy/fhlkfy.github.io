<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Erasure.Consequences.Soundness</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Keyword">open</a> <a id="41" class="Keyword">import</a> <a id="48" href="Definition.Modality.Erasure.html" class="Module">Definition.Modality.Erasure</a>

<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Definition.Typed.EqualityRelation.html" class="Module">Definition.Typed.EqualityRelation</a>


<a id="125" class="Keyword">module</a> <a id="132" href="Erasure.Consequences.Soundness.html" class="Module">Erasure.Consequences.Soundness</a> <a id="163" class="Symbol">{{</a><a id="165" href="Erasure.Consequences.Soundness.html#165" class="Bound">eqrel</a> <a id="171" class="Symbol">:</a> <a id="173" href="Definition.Typed.EqualityRelation.html#724" class="Record">EqRelSet</a> <a id="182" href="Definition.Modality.Erasure.html#306" class="Function">Erasure′</a><a id="190" class="Symbol">}}</a> <a id="193" class="Keyword">where</a>
<a id="199" class="Keyword">open</a> <a id="204" href="Definition.Typed.EqualityRelation.html#724" class="Module">EqRelSet</a> <a id="213" class="Symbol">{{...}}</a>

<a id="222" class="Keyword">open</a> <a id="227" class="Keyword">import</a> <a id="234" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="253" href="Definition.Modality.Erasure.html#269" class="Datatype">Erasure</a> <a id="261" class="Keyword">hiding</a> <a id="268" class="Symbol">(</a><a id="269" href="Definition.Untyped.html#1108" class="InductiveConstructor Operator">_∷_</a><a id="272" class="Symbol">)</a>
<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Definition.Typed.html" class="Module">Definition.Typed</a> <a id="303" href="Definition.Modality.Erasure.html#306" class="Function">Erasure′</a>
<a id="312" class="Keyword">open</a> <a id="317" class="Keyword">import</a> <a id="324" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a> <a id="352" href="Definition.Modality.Erasure.html#306" class="Function">Erasure′</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a> <a id="400" href="Definition.Modality.Erasure.html#306" class="Function">Erasure′</a>
<a id="409" class="Keyword">open</a> <a id="414" class="Keyword">import</a> <a id="421" href="Definition.Modality.Context.html" class="Module">Definition.Modality.Context</a> <a id="449" href="Definition.Modality.Erasure.html#7077" class="Function">ErasureModality</a>
<a id="465" class="Keyword">open</a> <a id="470" class="Keyword">import</a> <a id="477" href="Definition.Modality.Usage.html" class="Module">Definition.Modality.Usage</a> <a id="503" href="Definition.Modality.Erasure.html#7077" class="Function">ErasureModality</a>

<a id="520" class="Keyword">import</a> <a id="527" href="Erasure.Target.html" class="Module">Erasure.Target</a> <a id="542" class="Symbol">as</a> <a id="545" class="Module">T</a>
<a id="547" class="Keyword">open</a> <a id="552" class="Keyword">import</a> <a id="559" href="Erasure.Extraction.html" class="Module">Erasure.Extraction</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Erasure.LogicalRelation.html" class="Module">Erasure.LogicalRelation</a>
<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Erasure.LogicalRelation.Fundamental.html" class="Module">Erasure.LogicalRelation.Fundamental</a>
<a id="662" class="Keyword">open</a> <a id="667" class="Keyword">import</a> <a id="674" href="Erasure.LogicalRelation.Irrelevance.html" class="Module">Erasure.LogicalRelation.Irrelevance</a>

<a id="711" class="Keyword">open</a> <a id="716" class="Keyword">import</a> <a id="723" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="733" class="Keyword">open</a> <a id="738" class="Keyword">import</a> <a id="745" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="759" class="Keyword">open</a> <a id="764" class="Keyword">import</a> <a id="771" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>

<a id="800" class="Keyword">private</a>
  <a id="810" class="Keyword">variable</a>
    <a id="823" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="825" class="Symbol">:</a> <a id="827" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="835" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="837" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="840" href="Erasure.Consequences.Soundness.html#840" class="Generalizable">u</a> <a id="842" href="Erasure.Consequences.Soundness.html#842" class="Generalizable">F</a> <a id="844" class="Symbol">:</a> <a id="846" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="851" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>
    <a id="857" href="Erasure.Consequences.Soundness.html#857" class="Generalizable">G</a> <a id="859" class="Symbol">:</a> <a id="861" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="866" class="Symbol">(</a><a id="867" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="870" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a><a id="871" class="Symbol">)</a>
    <a id="877" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="879" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="882" href="Erasure.Consequences.Soundness.html#882" class="Generalizable">w</a> <a id="884" class="Symbol">:</a> <a id="886" href="Erasure.Target.html#302" class="Datatype">T.Term</a> <a id="893" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>

<a id="896" class="Comment">-- WH reduction soundness of natural numbers</a>

<a id="942" class="Comment">-- Canonical representation of natural numbers</a>

<a id="sucᵏ"></a><a id="990" href="Erasure.Consequences.Soundness.html#990" class="Function">sucᵏ</a> <a id="995" class="Symbol">:</a> <a id="997" class="Symbol">(</a><a id="998" href="Erasure.Consequences.Soundness.html#998" class="Bound">k</a> <a id="1000" class="Symbol">:</a> <a id="1002" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1005" class="Symbol">)</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="1014" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>
<a id="1016" href="Erasure.Consequences.Soundness.html#990" class="Function">sucᵏ</a> <a id="1021" class="Number">0</a>      <a id="1028" class="Symbol">=</a> <a id="1030" href="Definition.Untyped.html#4094" class="Function">zero</a>
<a id="1035" href="Erasure.Consequences.Soundness.html#990" class="Function">sucᵏ</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="1044" href="Erasure.Consequences.Soundness.html#1044" class="Bound">n</a><a id="1045" class="Symbol">)</a> <a id="1047" class="Symbol">=</a> <a id="1049" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1053" class="Symbol">(</a><a id="1054" href="Erasure.Consequences.Soundness.html#990" class="Function">sucᵏ</a> <a id="1059" href="Erasure.Consequences.Soundness.html#1044" class="Bound">n</a><a id="1060" class="Symbol">)</a>

<a id="sucᵏ′"></a><a id="1063" href="Erasure.Consequences.Soundness.html#1063" class="Function">sucᵏ′</a> <a id="1069" class="Symbol">:</a> <a id="1071" class="Symbol">(</a><a id="1072" href="Erasure.Consequences.Soundness.html#1072" class="Bound">k</a> <a id="1074" class="Symbol">:</a> <a id="1076" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1079" class="Symbol">)</a> <a id="1081" class="Symbol">→</a> <a id="1083" href="Erasure.Target.html#302" class="Datatype">T.Term</a> <a id="1090" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>
<a id="1092" href="Erasure.Consequences.Soundness.html#1063" class="Function">sucᵏ′</a> <a id="1098" class="Number">0</a>      <a id="1105" class="Symbol">=</a> <a id="1107" href="Erasure.Target.html#441" class="InductiveConstructor">T.zero</a>
<a id="1114" href="Erasure.Consequences.Soundness.html#1063" class="Function">sucᵏ′</a> <a id="1120" class="Symbol">(</a><a id="1121" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="1124" href="Erasure.Consequences.Soundness.html#1124" class="Bound">n</a><a id="1125" class="Symbol">)</a> <a id="1127" class="Symbol">=</a> <a id="1129" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="1135" class="Symbol">(</a><a id="1136" href="Erasure.Consequences.Soundness.html#1063" class="Function">sucᵏ′</a> <a id="1142" href="Erasure.Consequences.Soundness.html#1124" class="Bound">n</a><a id="1143" class="Symbol">)</a>

<a id="1436"></a><a id="1146" class="Comment">-- Weak head representation of natural numbers</a>

<a id="1194" class="Keyword">data</a> <a id="WHℕ"></a><a id="1199" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="1203" class="Symbol">:</a> <a id="1205" class="Symbol">(</a><a id="1206" href="Erasure.Consequences.Soundness.html#1206" class="Bound">n</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1213" class="Symbol">)</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="1222" class="Number">0</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1230" class="Keyword">where</a>
  <a id="WHℕ.zeroʷ"></a><a id="1238" href="Erasure.Consequences.Soundness.html#1238" class="InductiveConstructor">zeroʷ</a> <a id="1244" class="Symbol">:</a> <a id="1246" href="Definition.Untyped.html#809" class="InductiveConstructor">ε</a> <a id="1248" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="1250" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1252" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="1255" href="Definition.Untyped.html#4094" class="Function">zero</a> <a id="1260" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="1262" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="1264" class="Symbol">→</a> <a id="1266" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="1270" class="Number">0</a> <a id="1272" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a>
  <a id="WHℕ.sucʷ"></a><a id="1276" href="Erasure.Consequences.Soundness.html#1276" class="InductiveConstructor">sucʷ</a>  <a id="1282" class="Symbol">:</a> <a id="1284" href="Definition.Untyped.html#809" class="InductiveConstructor">ε</a> <a id="1286" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="1288" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1290" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="1293" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1297" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1300" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="1302" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="1310" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="1312" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="1321" class="Symbol">(</a><a id="1322" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="1325" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a><a id="1326" class="Symbol">)</a> <a id="1328" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a>

<a id="1331" class="Keyword">data</a> <a id="WHℕ′"></a><a id="1336" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="1341" class="Symbol">:</a> <a id="1343" class="Symbol">(</a><a id="1344" href="Erasure.Consequences.Soundness.html#1344" class="Bound">n</a> <a id="1346" class="Symbol">:</a> <a id="1348" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1351" class="Symbol">)</a> <a id="1353" class="Symbol">→</a> <a id="1355" href="Erasure.Target.html#302" class="Datatype">T.Term</a> <a id="1362" class="Number">0</a> <a id="1364" class="Symbol">→</a> <a id="1366" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1370" class="Keyword">where</a>
  <a id="WHℕ′.zeroʷ"></a><a id="1378" href="Erasure.Consequences.Soundness.html#1378" class="InductiveConstructor">zeroʷ</a> <a id="1384" class="Symbol">:</a> <a id="1386" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="1388" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="1393" href="Erasure.Target.html#441" class="InductiveConstructor">T.zero</a> <a id="1400" class="Symbol">→</a> <a id="1402" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="1407" class="Number">0</a> <a id="1409" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a>
  <a id="WHℕ′.sucʷ"></a><a id="1413" href="Erasure.Consequences.Soundness.html#1413" class="InductiveConstructor">sucʷ</a>  <a id="1419" class="Symbol">:</a> <a id="1421" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="1423" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="1428" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="1434" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="1444" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="1446" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="1449" class="Symbol">→</a> <a id="1451" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="1456" class="Symbol">(</a><a id="1457" href="Tools.Nat.html#365" class="InductiveConstructor">1+</a> <a id="1460" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a><a id="1461" class="Symbol">)</a> <a id="1463" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a>


<a id="1467" class="Comment">-- Weak head representations are equivalent to canonical representations</a>
<a id="1540" class="Comment">-- when reductions are allowed under the head of suc</a>

<a id="1594" class="Keyword">data</a> <a id="_⇓_"></a><a id="1599" href="Erasure.Consequences.Soundness.html#1599" class="Datatype Operator">_⇓_</a> <a id="1603" class="Symbol">:</a> <a id="1605" class="Symbol">(</a><a id="1606" href="Erasure.Consequences.Soundness.html#1606" class="Bound">t</a> <a id="1608" href="Erasure.Consequences.Soundness.html#1608" class="Bound">t′</a> <a id="1611" class="Symbol">:</a> <a id="1613" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="1618" class="Number">0</a><a id="1619" class="Symbol">)</a> <a id="1621" class="Symbol">→</a> <a id="1623" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1627" class="Keyword">where</a>
  <a id="_⇓_.whred"></a><a id="1635" href="Erasure.Consequences.Soundness.html#1635" class="InductiveConstructor">whred</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="Definition.Untyped.html#809" class="InductiveConstructor">ε</a> <a id="1645" href="Definition.Typed.html#9884" class="Datatype Operator">⊢</a> <a id="1647" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1649" href="Definition.Typed.html#9884" class="Datatype Operator">⇒</a> <a id="1651" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1654" href="Definition.Typed.html#9884" class="Datatype Operator">∷</a> <a id="1656" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="1658" class="Symbol">→</a> <a id="1660" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1662" href="Erasure.Consequences.Soundness.html#1599" class="Datatype Operator">⇓</a> <a id="1664" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a>
  <a id="_⇓_.sucred"></a><a id="1669" href="Erasure.Consequences.Soundness.html#1669" class="InductiveConstructor">sucred</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1680" href="Erasure.Consequences.Soundness.html#1599" class="Datatype Operator">⇓</a> <a id="1682" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1685" class="Symbol">→</a> <a id="1687" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1691" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1693" href="Erasure.Consequences.Soundness.html#1599" class="Datatype Operator">⇓</a> <a id="1695" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1699" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a>

<a id="1703" class="Keyword">data</a> <a id="_⇓*_"></a><a id="1708" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">_⇓*_</a> <a id="1713" class="Symbol">:</a> <a id="1715" class="Symbol">(</a><a id="1716" href="Erasure.Consequences.Soundness.html#1716" class="Bound">t</a> <a id="1718" href="Erasure.Consequences.Soundness.html#1718" class="Bound">t′</a> <a id="1721" class="Symbol">:</a> <a id="1723" href="Definition.Untyped.html#2223" class="Datatype">Term</a> <a id="1728" class="Number">0</a><a id="1729" class="Symbol">)</a> <a id="1731" class="Symbol">→</a> <a id="1733" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1737" class="Keyword">where</a>
  <a id="_⇓*_.id"></a><a id="1745" href="Erasure.Consequences.Soundness.html#1745" class="InductiveConstructor">id</a> <a id="1748" class="Symbol">:</a> <a id="1750" href="Definition.Untyped.html#809" class="InductiveConstructor">ε</a> <a id="1752" href="Definition.Typed.html#1407" class="Datatype Operator">⊢</a> <a id="1754" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1756" href="Definition.Typed.html#1407" class="Datatype Operator">∷</a> <a id="1758" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1764" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1767" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a>
  <a id="_⇓*_._⇩_"></a><a id="1771" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">_⇩_</a> <a id="1775" class="Symbol">:</a> <a id="1777" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1779" href="Erasure.Consequences.Soundness.html#1599" class="Datatype Operator">⇓</a> <a id="1781" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1784" class="Symbol">→</a> <a id="1786" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1789" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1792" href="Erasure.Consequences.Soundness.html#840" class="Generalizable">u</a> <a id="1794" class="Symbol">→</a> <a id="1796" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1798" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1801" href="Erasure.Consequences.Soundness.html#840" class="Generalizable">u</a>

<a id="whred*"></a><a id="1804" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="1811" class="Symbol">:</a> <a id="1813" class="InductiveConstructor">ε</a> <a id="1815" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="1817" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1819" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="1822" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1825" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="1827" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1833" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1836" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a>
<a id="1839" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="1846" class="Symbol">(</a><a id="1847" href="Definition.Typed.html#13402" class="InductiveConstructor">id</a> <a id="1850" href="Erasure.Consequences.Soundness.html#1850" class="Bound">x</a><a id="1851" class="Symbol">)</a> <a id="1853" class="Symbol">=</a> <a id="1855" href="Erasure.Consequences.Soundness.html#1745" class="InductiveConstructor">id</a> <a id="1858" href="Erasure.Consequences.Soundness.html#1850" class="Bound">x</a>
<a id="1860" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="1867" class="Symbol">(</a><a id="1868" href="Erasure.Consequences.Soundness.html#1868" class="Bound">x</a> <a id="1870" href="Definition.Typed.html#13459" class="InductiveConstructor Operator">⇨</a> <a id="1872" href="Erasure.Consequences.Soundness.html#1872" class="Bound">x₁</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Symbol">=</a> <a id="1878" class="Symbol">(</a><a id="1879" href="Erasure.Consequences.Soundness.html#1635" class="InductiveConstructor">whred</a> <a id="1885" href="Erasure.Consequences.Soundness.html#1868" class="Bound">x</a><a id="1886" class="Symbol">)</a> <a id="1888" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">⇩</a> <a id="1890" class="Symbol">(</a><a id="1891" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="1898" href="Erasure.Consequences.Soundness.html#1872" class="Bound">x₁</a><a id="1900" class="Symbol">)</a>

<a id="sucred*"></a><a id="1903" href="Erasure.Consequences.Soundness.html#1903" class="Function">sucred*</a> <a id="1911" class="Symbol">:</a> <a id="1913" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1915" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1918" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="1921" class="Symbol">→</a> <a id="1923" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1927" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="1929" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="1932x" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="1936" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a>
<a id="1939" href="Erasure.Consequences.Soundness.html#1903" class="Function">sucred*</a> <a id="1947" class="Symbol">(</a><a id="1948" href="Erasure.Consequences.Soundness.html#1745" class="InductiveConstructor">id</a> <a id="1951" href="Erasure.Consequences.Soundness.html#1951" class="Bound">x</a><a id="1952" class="Symbol">)</a> <a id="1954" class="Symbol">=</a> <a id="1956" href="Erasure.Consequences.Soundness.html#1745" class="InductiveConstructor">id</a> <a id="1959" class="Symbol">(</a><a id="1960" href="Definition.Typed.html#3001" class="InductiveConstructor">sucⱼ</a> <a id="1965" href="Erasure.Consequences.Soundness.html#1951" class="Bound">x</a><a id="1966" class="Symbol">)</a>
<a id="1968" href="Erasure.Consequences.Soundness.html#1903" class="Function">sucred*</a> <a id="1976" class="Symbol">(</a><a id="1977" href="Erasure.Consequences.Soundness.html#1977" class="Bound">x</a> <a id="1979" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">⇩</a> <a id="1981" href="Erasure.Consequences.Soundness.html#1981" class="Bound">x₁</a><a id="1983" class="Symbol">)</a> <a id="1985" class="Symbol">=</a> <a id="1987" href="Erasure.Consequences.Soundness.html#1669" class="InductiveConstructor">sucred</a> <a id="1994" href="Erasure.Consequences.Soundness.html#1977" class="Bound">x</a> <a id="1996" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">⇩</a> <a id="1998" href="Erasure.Consequences.Soundness.html#1903" class="Function">sucred*</a> <a id="2006" href="Erasure.Consequences.Soundness.html#1981" class="Bound">x₁</a>

<a id="_⇩*_"></a><a id="2010" href="Erasure.Consequences.Soundness.html#2010" class="Function Operator">_⇩*_</a> <a id="2015" class="Symbol">:</a> <a id="2017" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="2019" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="2022" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="2025" class="Symbol">→</a> <a id="2027" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="2030" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="2033" href="Erasure.Consequences.Soundness.html#840" class="Generalizable">u</a> <a id="2035" class="Symbol">→</a> <a id="2037" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="2039" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="2042" href="Erasure.Consequences.Soundness.html#840" class="Generalizable">u</a>
<a id="2044" href="Erasure.Consequences.Soundness.html#1745" class="InductiveConstructor">id</a> <a id="2047" href="Erasure.Consequences.Soundness.html#2047" class="Bound">⊢t</a> <a id="2050" href="Erasure.Consequences.Soundness.html#2010" class="Function Operator">⇩*</a> <a id="2053" href="Erasure.Consequences.Soundness.html#2053" class="Bound">t⇓u</a> <a id="2057" class="Symbol">=</a> <a id="2059" href="Erasure.Consequences.Soundness.html#2053" class="Bound">t⇓u</a>
<a id="2063" class="Symbol">(</a><a id="2064" href="Erasure.Consequences.Soundness.html#2064" class="Bound">t⇓t′</a> <a id="2069" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">⇩</a> <a id="2071" href="Erasure.Consequences.Soundness.html#2071" class="Bound">t′⇓t″</a><a id="2076" class="Symbol">)</a> <a id="2078" href="Erasure.Consequences.Soundness.html#2010" class="Function Operator">⇩*</a> <a id="2081" href="Erasure.Consequences.Soundness.html#2081" class="Bound">t″⇓u</a> <a id="2086" class="Symbol">=</a> <a id="2088" href="Erasure.Consequences.Soundness.html#2064" class="Bound">t⇓t′</a> <a id="2093" href="Erasure.Consequences.Soundness.html#1771" class="InductiveConstructor Operator">⇩</a> <a id="2095" class="Symbol">(</a><a id="2096" href="Erasure.Consequences.Soundness.html#2071" class="Bound">t′⇓t″</a> <a id="2102" href="Erasure.Consequences.Soundness.html#2010" class="Function Operator">⇩*</a> <a id="2105" href="Erasure.Consequences.Soundness.html#2081" class="Bound">t″⇓u</a><a id="2109" class="Symbol">)</a>

<a id="2112" class="Keyword">data</a> <a id="_↓_"></a><a id="2117" href="Erasure.Consequences.Soundness.html#2117" class="Datatype Operator">_↓_</a> <a id="2121" class="Symbol">:</a> <a id="2123" class="Symbol">(</a><a id="2124" href="Erasure.Consequences.Soundness.html#2124" class="Bound">v</a> <a id="2126" href="Erasure.Consequences.Soundness.html#2126" class="Bound">v′</a> <a id="2129" class="Symbol">:</a> <a id="2131" href="Erasure.Target.html#302" class="Datatype">T.Term</a> <a id="2138" class="Number">0</a><a id="2139" class="Symbol">)</a> <a id="2141" class="Symbol">→</a> <a id="2143" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2147" class="Keyword">where</a>
  <a id="_↓_.whred"></a><a id="2155" href="Erasure.Consequences.Soundness.html#2155" class="InductiveConstructor">whred</a> <a id="2161" class="Symbol">:</a> <a id="2163" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2165" href="Erasure.Target.html#4551" class="Datatype Operator">T.⇒</a> <a id="2169" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2172" class="Symbol">→</a> <a id="2174" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2176" href="Erasure.Consequences.Soundness.html#2117" class="Datatype Operator">↓</a> <a id="2178" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a>
  <a id="_↓_.sucred"></a><a id="2183" href="Erasure.Consequences.Soundness.html#2183" class="InductiveConstructor">sucred</a> <a id="2190" class="Symbol">:</a> <a id="2192" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2194" href="Erasure.Consequences.Soundness.html#2117" class="Datatype Operator">↓</a> <a id="2196" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2199" class="Symbol">→</a> <a id="2201" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="2207" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2209" href="Erasure.Consequences.Soundness.html#2117" class="Datatype Operator">↓</a> <a id="2211" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="2217" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a>

<a id="2221" class="Keyword">data</a> <a id="_↓*_"></a><a id="2226" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">_↓*_</a> <a id="2231" class="Symbol">:</a> <a id="2233" class="Symbol">(</a><a id="2234" href="Erasure.Consequences.Soundness.html#2234" class="Bound">v</a> <a id="2236" href="Erasure.Consequences.Soundness.html#2236" class="Bound">v′</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="Erasure.Target.html#302" class="Datatype">T.Term</a> <a id="2248" class="Number">0</a><a id="2249" class="Symbol">)</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2257" class="Keyword">where</a>
  <a id="_↓*_.id"></a><a id="2265" href="Erasure.Consequences.Soundness.html#2265" class="InductiveConstructor">id</a> <a id="2268" class="Symbol">:</a> <a id="2270" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2272" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2275" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a>
  <a id="_↓*_._⇩_"></a><a id="2279" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">_⇩_</a> <a id="2283" class="Symbol">:</a> <a id="2285" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2287" href="Erasure.Consequences.Soundness.html#2117" class="Datatype Operator">↓</a> <a id="2289" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2292" class="Symbol">→</a> <a id="2294" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2297" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2300" href="Erasure.Consequences.Soundness.html#882" class="Generalizable">w</a> <a id="2302" class="Symbol">→</a> <a id="2304" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2306" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2309" href="Erasure.Consequences.Soundness.html#882" class="Generalizable">w</a>

<a id="whred*′"></a><a id="2312" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2320" class="Symbol">:</a> <a id="2322" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2324" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="2329" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2332" class="Symbol">→</a> <a id="2334" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2336" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2339" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a>
<a id="2342" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2350" href="Erasure.Target.html#5208" class="InductiveConstructor">T.refl</a> <a id="2357" class="Symbol">=</a> <a id="2359" href="Erasure.Consequences.Soundness.html#2265" class="InductiveConstructor">id</a>
<a id="2362" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2370" class="Symbol">(</a><a id="2371" href="Erasure.Target.html#5224" class="InductiveConstructor">T.trans</a> <a id="2379" href="Erasure.Consequences.Soundness.html#2379" class="Bound">x</a> <a id="2381" href="Erasure.Consequences.Soundness.html#2381" class="Bound">x₁</a><a id="2383" class="Symbol">)</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="Erasure.Consequences.Soundness.html#2155" class="InductiveConstructor">whred</a> <a id="2393" href="Erasure.Consequences.Soundness.html#2379" class="Bound">x</a> <a id="2395" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">⇩</a> <a id="2397" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2405" href="Erasure.Consequences.Soundness.html#2381" class="Bound">x₁</a>

<a id="sucred*′"></a><a id="2409" href="Erasure.Consequences.Soundness.html#2409" class="Function">sucred*′</a> <a id="2418" class="Symbol">:</a> <a id="2420" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2422" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2425" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="2436" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2438" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2441" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="2447" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a>
<a id="2450" href="Erasure.Consequences.Soundness.html#2409" class="Function">sucred*′</a> <a id="2459" href="Erasure.Consequences.Soundness.html#2265" class="InductiveConstructor">id</a> <a id="2462" class="Symbol">=</a> <a id="2464" href="Erasure.Consequences.Soundness.html#2265" class="InductiveConstructor">id</a>
<a id="2467" href="Erasure.Consequences.Soundness.html#2409" class="Function">sucred*′</a> <a id="2476" class="Symbol">(</a><a id="2477" href="Erasure.Consequences.Soundness.html#2477" class="Bound">x</a> <a id="2479" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">⇩</a> <a id="2481" href="Erasure.Consequences.Soundness.html#2481" class="Bound">x₁</a><a id="2483" class="Symbol">)</a> <a id="2485" class="Symbol">=</a> <a id="2487" href="Erasure.Consequences.Soundness.html#2183" class="InductiveConstructor">sucred</a> <a id="2494" href="Erasure.Consequences.Soundness.html#2477" class="Bound">x</a> <a id="2496" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">⇩</a> <a id="2498" href="Erasure.Consequences.Soundness.html#2409" class="Function">sucred*′</a> <a id="2507" href="Erasure.Consequences.Soundness.html#2481" class="Bound">x₁</a>

<a id="_⇩′*_"></a><a id="2511" href="Erasure.Consequences.Soundness.html#2511" class="Function Operator">_⇩′*_</a> <a id="2517" class="Symbol">:</a> <a id="2519" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2521" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2524" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2527" class="Symbol">→</a> <a id="2529" href="Erasure.Consequences.Soundness.html#879" class="Generalizable">v′</a> <a id="2532" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2535" href="Erasure.Consequences.Soundness.html#882" class="Generalizable">w</a> <a id="2537" class="Symbol">→</a> <a id="2539" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2541" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2544" href="Erasure.Consequences.Soundness.html#882" class="Generalizable">w</a>
<a id="2546" href="Erasure.Consequences.Soundness.html#2265" class="InductiveConstructor">id</a> <a id="2549" href="Erasure.Consequences.Soundness.html#2511" class="Function Operator">⇩′*</a> <a id="2553" href="Erasure.Consequences.Soundness.html#2553" class="Bound">v⇩w</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Erasure.Consequences.Soundness.html#2553" class="Bound">v⇩w</a>
<a id="2563" class="Symbol">(</a><a id="2564" href="Erasure.Consequences.Soundness.html#2564" class="Bound">v⇩v′</a> <a id="2569" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">⇩</a> <a id="2571" href="Erasure.Consequences.Soundness.html#2571" class="Bound">v′⇩v″</a><a id="2576" class="Symbol">)</a> <a id="2578" href="Erasure.Consequences.Soundness.html#2511" class="Function Operator">⇩′*</a> <a id="2582" href="Erasure.Consequences.Soundness.html#2582" class="Bound">v″⇩w</a> <a id="2587" class="Symbol">=</a> <a id="2589" href="Erasure.Consequences.Soundness.html#2564" class="Bound">v⇩v′</a> <a id="2594" href="Erasure.Consequences.Soundness.html#2279" class="InductiveConstructor Operator">⇩</a> <a id="2596" class="Symbol">(</a><a id="2597" href="Erasure.Consequences.Soundness.html#2571" class="Bound">v′⇩v″</a> <a id="2603" href="Erasure.Consequences.Soundness.html#2511" class="Function Operator">⇩′*</a> <a id="2607" href="Erasure.Consequences.Soundness.html#2582" class="Bound">v″⇩w</a><a id="2611" class="Symbol">)</a>

<a id="1932"></a><a id="2614" class="Comment">-- If WHℕ n t then t ⇓ sucᵏ n</a>

<a id="WHℕ-canon"></a><a id="2645" href="Erasure.Consequences.Soundness.html#2645" class="Function">WHℕ-canon</a> <a id="2655" class="Symbol">:</a> <a id="2657" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="2661" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="2663" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="2665" class="Symbol">→</a> <a id="2667" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="2669" href="Erasure.Consequences.Soundness.html#1708" class="Datatype Operator">⇓*</a> <a id="2672" href="Erasure.Consequences.Soundness.html#990" class="Function">sucᵏ</a> <a id="2677" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>
<a id="2679" href="Erasure.Consequences.Soundness.html#2645" class="Function">WHℕ-canon</a> <a id="2689" class="Symbol">(</a><a id="2690" href="Erasure.Consequences.Soundness.html#1238" class="InductiveConstructor">zeroʷ</a> <a id="2696" href="Erasure.Consequences.Soundness.html#2696" class="Bound">x</a><a id="2697" class="Symbol">)</a> <a id="2699" class="Symbol">=</a> <a id="2701" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="2708" href="Erasure.Consequences.Soundness.html#2696" class="Bound">x</a>
<a id="2710" href="Erasure.Consequences.Soundness.html#2645" class="Function">WHℕ-canon</a> <a id="2720" class="Symbol">(</a><a id="2721" href="Erasure.Consequences.Soundness.html#1276" class="InductiveConstructor">sucʷ</a> <a id="2726" href="Erasure.Consequences.Soundness.html#2726" class="Bound">x</a> <a id="2728" href="Erasure.Consequences.Soundness.html#2728" class="Bound">x₁</a><a id="2730" class="Symbol">)</a> <a id="2732" class="Symbol">=</a> <a id="2734" class="Symbol">(</a><a id="2735" href="Erasure.Consequences.Soundness.html#1804" class="Function">whred*</a> <a id="2742" href="Erasure.Consequences.Soundness.html#2726" class="Bound">x</a><a id="2743" class="Symbol">)</a> <a id="2745" href="Erasure.Consequences.Soundness.html#2010" class="Function Operator">⇩*</a> <a id="2748" href="Erasure.Consequences.Soundness.html#1903" class="Function">sucred*</a> <a id="2756" class="Symbol">(</a><a id="2757" href="Erasure.Consequences.Soundness.html#2645" class="Function">WHℕ-canon</a> <a id="2767" href="Erasure.Consequences.Soundness.html#2728" class="Bound">x₁</a><a id="2769" class="Symbol">)</a>

<a id="2772" class="Comment">-- If WHℕ′ n v then v ⇓′ sucᵏ′ v</a>

<a id="WHℕ′-canon"></a><a id="2806" href="Erasure.Consequences.Soundness.html#2806" class="Function">WHℕ′-canon</a> <a id="2817" class="Symbol">:</a> <a id="2819" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="2824" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="2826" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2828" class="Symbol">→</a> <a id="2830" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="2832" href="Erasure.Consequences.Soundness.html#2226" class="Datatype Operator">↓*</a> <a id="2835" href="Erasure.Consequences.Soundness.html#1063" class="Function">sucᵏ′</a> <a id="2841" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a>
<a id="2843" href="Erasure.Consequences.Soundness.html#2806" class="Function">WHℕ′-canon</a> <a id="2854" class="Symbol">(</a><a id="2855" href="Erasure.Consequences.Soundness.html#1378" class="InductiveConstructor">zeroʷ</a> <a id="2861" href="Erasure.Consequences.Soundness.html#2861" class="Bound">x</a><a id="2862" class="Symbol">)</a> <a id="2864" class="Symbol">=</a> <a id="2866" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2874" href="Erasure.Consequences.Soundness.html#2861" class="Bound">x</a>
<a id="2876" href="Erasure.Consequences.Soundness.html#2806" class="Function">WHℕ′-canon</a> <a id="2887" class="Symbol">(</a><a id="2888" href="Erasure.Consequences.Soundness.html#1413" class="InductiveConstructor">sucʷ</a> <a id="2893" href="Erasure.Consequences.Soundness.html#2893" class="Bound">x</a> <a id="2895" href="Erasure.Consequences.Soundness.html#2895" class="Bound">x₁</a><a id="2897" class="Symbol">)</a> <a id="2899" class="Symbol">=</a> <a id="2901" href="Erasure.Consequences.Soundness.html#2312" class="Function">whred*′</a> <a id="2909" href="Erasure.Consequences.Soundness.html#2893" class="Bound">x</a> <a id="2911" href="Erasure.Consequences.Soundness.html#2511" class="Function Operator">⇩′*</a> <a id="2915" class="Symbol">(</a><a id="2916" href="Erasure.Consequences.Soundness.html#2409" class="Function">sucred*′</a> <a id="2925" class="Symbol">(</a><a id="2926" href="Erasure.Consequences.Soundness.html#2806" class="Function">WHℕ′-canon</a> <a id="2937" href="Erasure.Consequences.Soundness.html#2895" class="Bound">x₁</a><a id="2939" class="Symbol">))</a>


<a id="2944" class="Comment">-- Helper lemma for WH reduction soundness of zero</a>
<a id="2995" class="Comment">-- If t ® v ∷ℕ  and t ⇒* zero then v ⇒* zero</a>

<a id="soundness-zero′"></a><a id="3041" href="Erasure.Consequences.Soundness.html#3041" class="Function">soundness-zero′</a> <a id="3057" class="Symbol">:</a> <a id="3059" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3061" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">®</a> <a id="3063" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="3065" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">∷ℕ</a> <a id="3068" class="Symbol">→</a> <a id="3070" class="InductiveConstructor">ε</a> <a id="3072" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="3074" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3076" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="3079" href="Definition.Untyped.html#4094" class="Function">zero</a> <a id="3084" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="3086" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="3088" class="Symbol">→</a> <a id="3090" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="3092" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="3097" href="Erasure.Target.html#441" class="InductiveConstructor">T.zero</a>
<a id="3104" href="Erasure.Consequences.Soundness.html#3041" class="Function">soundness-zero′</a> <a id="3120" class="Symbol">(</a><a id="3121" href="Erasure.LogicalRelation.html#996" class="InductiveConstructor">zeroᵣ</a> <a id="3127" href="Erasure.Consequences.Soundness.html#3127" class="Bound">t⇒zero′</a> <a id="3135" href="Erasure.Consequences.Soundness.html#3135" class="Bound">v⇒zero</a><a id="3141" class="Symbol">)</a> <a id="3143" href="Erasure.Consequences.Soundness.html#3143" class="Bound">t⇒zero</a> <a id="3150" class="Symbol">=</a> <a id="3152" href="Erasure.Consequences.Soundness.html#3135" class="Bound">v⇒zero</a>
<a id="3159" href="Erasure.Consequences.Soundness.html#3041" class="Function">soundness-zero′</a> <a id="3175" class="Symbol">(</a><a id="3176" href="Erasure.LogicalRelation.html#1053" class="InductiveConstructor">sucᵣ</a> <a id="3181" href="Erasure.Consequences.Soundness.html#3181" class="Bound">t⇒suc</a> <a id="3187" href="Erasure.Consequences.Soundness.html#3187" class="Bound">v⇒suc</a> <a id="3193" href="Erasure.Consequences.Soundness.html#3193" class="Bound">t®v</a><a id="3196" class="Symbol">)</a> <a id="3198" href="Erasure.Consequences.Soundness.html#3198" class="Bound">t⇒zero</a>
  <a id="3207" class="Keyword">with</a> <a id="3212" href="Definition.Typed.Properties.html#10691" class="Function">whrDet*Term</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Erasure.Consequences.Soundness.html#3198" class="Bound">t⇒zero</a> <a id="3232" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3234" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a><a id="3239" class="Symbol">)</a> <a id="3241" class="Symbol">(</a><a id="3242" href="Erasure.Consequences.Soundness.html#3181" class="Bound">t⇒suc</a> <a id="3248" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3250" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a><a id="3254" class="Symbol">)</a>
<a id="3256" class="Symbol">...</a> <a id="3260" class="Symbol">|</a> <a id="3262" class="Symbol">()</a>

<a id="3266" class="Comment">-- WH reduction soundness of zero</a>
<a id="3300" class="Comment">-- If t ⇒* zero and ε ▸ t then erase t ⇒* zero</a>

<a id="soundness-zero"></a><a id="3348" href="Erasure.Consequences.Soundness.html#3348" class="Function">soundness-zero</a> <a id="3363" class="Symbol">:</a> <a id="3365" class="InductiveConstructor">ε</a> <a id="3367" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="3369" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3371" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="3374" href="Definition.Untyped.html#4094" class="Function">zero</a> <a id="3379" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="3381" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="3383" class="Symbol">→</a> <a id="3385" class="InductiveConstructor">ε</a> <a id="3387" href="Definition.Modality.Usage.html#818" class="Datatype Operator">▸</a> <a id="3389" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="Erasure.Extraction.html#328" class="Function">erase</a> <a id="3399" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3401" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="3406" href="Erasure.Target.html#441" class="InductiveConstructor">T.zero</a>
<a id="3413" href="Erasure.Consequences.Soundness.html#3348" class="Function">soundness-zero</a> <a id="3428" href="Erasure.Consequences.Soundness.html#3428" class="Bound">t⇒zero</a> <a id="3435" href="Erasure.Consequences.Soundness.html#3435" class="Bound">γ▸t</a> <a id="3439" class="Symbol">=</a>
  <a id="3443" class="Keyword">let</a> <a id="3447" href="Erasure.Consequences.Soundness.html#3447" class="Bound">⊢t</a> <a id="3450" class="Symbol">=</a> <a id="3452" href="Definition.Typed.Properties.html#4958" class="Function">redFirst*Term</a> <a id="3466" href="Erasure.Consequences.Soundness.html#3428" class="Bound">t⇒zero</a>
      <a id="3479" href="Erasure.Consequences.Soundness.html#3479" class="Bound">[ℕ]</a> <a id="3483" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3485" href="Erasure.Consequences.Soundness.html#3485" class="Bound">t®t′</a> <a id="3490" class="Symbol">=</a> <a id="3492" href="Erasure.LogicalRelation.Fundamental.html#11749" class="Function">fundamental′</a> <a id="3505" href="Erasure.Consequences.Soundness.html#3447" class="Bound">⊢t</a> <a id="3508" href="Erasure.Consequences.Soundness.html#3435" class="Bound">γ▸t</a>
      <a id="3518" href="Erasure.Consequences.Soundness.html#3518" class="Bound">t®t″</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="Erasure.LogicalRelation.Irrelevance.html#3799" class="Function">irrelevanceTerm</a> <a id="3541" class="Symbol">{</a><a id="3542" class="Argument">l′</a> <a id="3545" class="Symbol">=</a> <a id="3547" href="Definition.LogicalRelation.html#5952" class="InductiveConstructor">¹</a><a id="3548" class="Symbol">}</a> <a id="3550" href="Erasure.Consequences.Soundness.html#3479" class="Bound">[ℕ]</a> <a id="3554" class="Symbol">(</a><a id="3555" href="Definition.LogicalRelation.html#14669" class="InductiveConstructor">ℕᵣ</a> <a id="3558" class="Symbol">(</a><a id="3559" href="Definition.Typed.Properties.html#11671" class="Function">idRed:*:</a> <a id="3568" class="Symbol">(</a><a id="3569" href="Definition.Typed.html#1080" class="InductiveConstructor">ℕⱼ</a> <a id="3572" href="Definition.Typed.html#912" class="InductiveConstructor">ε</a><a id="3573" class="Symbol">)))</a> <a id="3577" href="Erasure.Consequences.Soundness.html#3485" class="Bound">t®t′</a>
  <a id="3584" class="Keyword">in</a>  <a id="3588" href="Erasure.Consequences.Soundness.html#3041" class="Function">soundness-zero′</a> <a id="3604" href="Erasure.Consequences.Soundness.html#3518" class="Bound">t®t″</a> <a id="3609" href="Erasure.Consequences.Soundness.html#3428" class="Bound">t⇒zero</a>

<a id="3617" class="Comment">-- Helper lemma for WH reduction soundness of suc</a>
<a id="3667" class="Comment">-- If t ® v ∷ℕ  and t ⇒* suc t′ then v ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

<a id="soundness-suc′"></a><a id="3744" href="Erasure.Consequences.Soundness.html#3744" class="Function">soundness-suc′</a> <a id="3759" class="Symbol">:</a> <a id="3761" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3763" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">®</a> <a id="3765" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="3767" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">∷ℕ</a> <a id="3770" class="Symbol">→</a> <a id="3772" class="InductiveConstructor">ε</a> <a id="3774" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="3776" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="3778" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="3781" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="3785" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="3788" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="3790" href="Definition.Untyped.html#3169" class="Function">ℕ</a>
               <a id="3807" class="Symbol">→</a> <a id="3809" href="Data.Product.html#1369" class="Function">∃</a> <a id="3811" class="Symbol">λ</a> <a id="3813" href="Erasure.Consequences.Soundness.html#3813" class="Bound">v′</a> <a id="3816" class="Symbol">→</a> <a id="3818" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="3820" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="3825" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="3831" href="Erasure.Consequences.Soundness.html#3813" class="Bound">v′</a> <a id="3834" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3836" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="3839" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">®</a> <a id="3841" href="Erasure.Consequences.Soundness.html#3813" class="Bound">v′</a> <a id="3844" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">∷ℕ</a>
<a id="3847" href="Erasure.Consequences.Soundness.html#3744" class="Function">soundness-suc′</a> <a id="3862" class="Symbol">(</a><a id="3863" href="Erasure.LogicalRelation.html#996" class="InductiveConstructor">zeroᵣ</a> <a id="3869" href="Erasure.Consequences.Soundness.html#3869" class="Bound">t⇒zero</a> <a id="3876" href="Erasure.Consequences.Soundness.html#3876" class="Bound">v⇒zero</a><a id="3882" class="Symbol">)</a> <a id="3884" href="Erasure.Consequences.Soundness.html#3884" class="Bound">t⇒suc</a>
  <a id="3892" class="Keyword">with</a> <a id="3897" href="Definition.Typed.Properties.html#10691" class="Function">whrDet*Term</a> <a id="3909" class="Symbol">(</a><a id="3910" href="Erasure.Consequences.Soundness.html#3869" class="Bound">t⇒zero</a> <a id="3917" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3919" href="Definition.Untyped.html#6773" class="InductiveConstructor">zeroₙ</a><a id="3924" class="Symbol">)</a> <a id="3926" class="Symbol">(</a><a id="3927" href="Erasure.Consequences.Soundness.html#3884" class="Bound">t⇒suc</a> <a id="3933" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3935" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a><a id="3939" class="Symbol">)</a>
<a id="3941" class="Symbol">...</a> <a id="3945" class="Symbol">|</a> <a id="3947" class="Symbol">()</a>
<a id="3950" href="Erasure.Consequences.Soundness.html#3744" class="Function">soundness-suc′</a> <a id="3965" class="Symbol">(</a><a id="3966" href="Erasure.LogicalRelation.html#1053" class="InductiveConstructor">sucᵣ</a> <a id="3971" class="Symbol">{</a><a id="3972" class="Argument">v′</a> <a id="3975" class="Symbol">=</a> <a id="3977" href="Erasure.Consequences.Soundness.html#3977" class="Bound">v′</a><a id="3979" class="Symbol">}</a> <a id="3981" href="Erasure.Consequences.Soundness.html#3981" class="Bound">t⇒suc′</a> <a id="3988" href="Erasure.Consequences.Soundness.html#3988" class="Bound">v⇒suc</a> <a id="3994" href="Erasure.Consequences.Soundness.html#3994" class="Bound">t®v</a><a id="3997" class="Symbol">)</a> <a id="3999" href="Erasure.Consequences.Soundness.html#3999" class="Bound">t⇒suc</a>
  <a id="4007" class="Keyword">with</a> <a id="4012" href="Definition.Typed.Properties.html#10691" class="Function">whrDet*Term</a> <a id="4024" class="Symbol">(</a><a id="4025" href="Erasure.Consequences.Soundness.html#3999" class="Bound">t⇒suc</a> <a id="4031" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4033" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a><a id="4037" class="Symbol">)</a> <a id="4039" class="Symbol">(</a><a id="4040" href="Erasure.Consequences.Soundness.html#3981" class="Bound">t⇒suc′</a> <a id="4047" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4049" href="Definition.Untyped.html#6793" class="InductiveConstructor">sucₙ</a><a id="4053" class="Symbol">)</a>
<a id="4055" class="Symbol">...</a> <a id="4059" class="Symbol">|</a> <a id="4061" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="4066" class="Symbol">=</a> <a id="4068" class="Bound">v′</a> <a id="4071" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4073" class="Symbol">(</a><a id="4074" class="Bound">v⇒suc</a> <a id="4080" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4082" class="Bound">t®v</a><a id="4085" class="Symbol">)</a>

<a id="4088" class="Comment">-- WH reduction soundness of suc</a>
<a id="4121" class="Comment">-- If t ⇒* suc t′ and ε ▸ t then erase t ⇒* suc v′ and t′ ® v′ ∷ℕ for some v′</a>

<a id="soundness-suc"></a><a id="4200" href="Erasure.Consequences.Soundness.html#4200" class="Function">soundness-suc</a> <a id="4214" class="Symbol">:</a> <a id="4216" class="InductiveConstructor">ε</a> <a id="4218" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="4220" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4222" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="4225" href="Definition.Untyped.html#4179" class="Function">suc</a> <a id="4229" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="4232" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="4234" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="4236" class="Symbol">→</a> <a id="4238" class="InductiveConstructor">ε</a> <a id="4240" href="Definition.Modality.Usage.html#818" class="Datatype Operator">▸</a> <a id="4242" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a>
              <a id="4258" class="Symbol">→</a> <a id="4260" href="Data.Product.html#1369" class="Function">∃</a> <a id="4262" class="Symbol">λ</a> <a id="4264" href="Erasure.Consequences.Soundness.html#4264" class="Bound">v′</a> <a id="4267" class="Symbol">→</a> <a id="4269" href="Erasure.Extraction.html#328" class="Function">erase</a> <a id="4275" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4277" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="4282" href="Erasure.Target.html#462" class="InductiveConstructor">T.suc</a> <a id="4288" href="Erasure.Consequences.Soundness.html#4264" class="Bound">v′</a> <a id="4291" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4293" href="Erasure.Consequences.Soundness.html#837" class="Generalizable">t′</a> <a id="4296" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">®</a> <a id="4298" href="Erasure.Consequences.Soundness.html#4264" class="Bound">v′</a> <a id="4301" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">∷ℕ</a>
<a id="4304" href="Erasure.Consequences.Soundness.html#4200" class="Function">soundness-suc</a> <a id="4318" href="Erasure.Consequences.Soundness.html#4318" class="Bound">t⇒suc</a> <a id="4324" href="Erasure.Consequences.Soundness.html#4324" class="Bound">γ▸t</a> <a id="4328" class="Symbol">=</a>
  <a id="4332" class="Keyword">let</a> <a id="4336" href="Erasure.Consequences.Soundness.html#4336" class="Bound">⊢t</a> <a id="4339" class="Symbol">=</a> <a id="4341" href="Definition.Typed.Properties.html#4958" class="Function">redFirst*Term</a> <a id="4355" href="Erasure.Consequences.Soundness.html#4318" class="Bound">t⇒suc</a>
      <a id="4367" href="Erasure.Consequences.Soundness.html#4367" class="Bound">[ℕ]</a> <a id="4371" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4373" href="Erasure.Consequences.Soundness.html#4373" class="Bound">t®t′</a> <a id="4378" class="Symbol">=</a> <a id="4380" href="Erasure.LogicalRelation.Fundamental.html#11749" class="Function">fundamental′</a> <a id="4393" href="Erasure.Consequences.Soundness.html#4336" class="Bound">⊢t</a> <a id="4396" href="Erasure.Consequences.Soundness.html#4324" class="Bound">γ▸t</a>
      <a id="4406" href="Erasure.Consequences.Soundness.html#4406" class="Bound">t®t″</a> <a id="4411" class="Symbol">=</a> <a id="4413" href="Erasure.LogicalRelation.Irrelevance.html#3799" class="Function">irrelevanceTerm</a> <a id="4429" class="Symbol">{</a><a id="4430" class="Argument">l′</a> <a id="4433" class="Symbol">=</a> <a id="4435" href="Definition.LogicalRelation.html#5952" class="InductiveConstructor">¹</a><a id="4436" class="Symbol">}</a> <a id="4438" href="Erasure.Consequences.Soundness.html#4367" class="Bound">[ℕ]</a> <a id="4442" class="Symbol">(</a><a id="4443" href="Definition.LogicalRelation.html#14669" class="InductiveConstructor">ℕᵣ</a> <a id="4446" class="Symbol">(</a><a id="4447" href="Definition.Typed.Properties.html#11671" class="Function">idRed:*:</a> <a id="4456" class="Symbol">(</a><a id="4457" href="Definition.Typed.html#1080" class="InductiveConstructor">ℕⱼ</a> <a id="4460" href="Definition.Typed.html#912" class="InductiveConstructor">ε</a><a id="4461" class="Symbol">)))</a> <a id="4465" href="Erasure.Consequences.Soundness.html#4373" class="Bound">t®t′</a>
  <a id="4472" class="Keyword">in</a>  <a id="4476" href="Erasure.Consequences.Soundness.html#3744" class="Function">soundness-suc′</a> <a id="4491" href="Erasure.Consequences.Soundness.html#4406" class="Bound">t®t″</a> <a id="4496" href="Erasure.Consequences.Soundness.html#4318" class="Bound">t⇒suc</a>


<a id="4078"></a><a id="4504" class="Comment">-- Helper lemma for WH reduction soundness of natural numbers</a>
<a id="4566" class="Comment">-- If t ® v ∷ℕ and WHℕ n t then WHℕ′ n v</a>

<a id="soundness-ℕ′"></a><a id="4608" href="Erasure.Consequences.Soundness.html#4608" class="Function">soundness-ℕ′</a> <a id="4621" class="Symbol">:</a> <a id="4623" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4625" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">®</a> <a id="4627" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="4629" href="Erasure.LogicalRelation.html#946" class="Datatype Operator">∷ℕ</a> <a id="4632" class="Symbol">→</a> <a id="4634" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="4638" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="4640" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4642" class="Symbol">→</a> <a id="4644" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="4649" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="4651" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a>
<a id="4653" href="Erasure.Consequences.Soundness.html#4608" class="Function">soundness-ℕ′</a> <a id="4666" href="Erasure.Consequences.Soundness.html#4666" class="Bound">t®v</a> <a id="4670" class="Symbol">(</a><a id="4671" href="Erasure.Consequences.Soundness.html#1238" class="InductiveConstructor">zeroʷ</a> <a id="4677" href="Erasure.Consequences.Soundness.html#4677" class="Bound">x</a><a id="4678" class="Symbol">)</a> <a id="4680" class="Symbol">=</a> <a id="4682" href="Erasure.Consequences.Soundness.html#1378" class="InductiveConstructor">zeroʷ</a> <a id="4688" class="Symbol">(</a><a id="4689" href="Erasure.Consequences.Soundness.html#3041" class="Function">soundness-zero′</a> <a id="4705" href="Erasure.Consequences.Soundness.html#4666" class="Bound">t®v</a> <a id="4709" href="Erasure.Consequences.Soundness.html#4677" class="Bound">x</a><a id="4710" class="Symbol">)</a>
<a id="4712" href="Erasure.Consequences.Soundness.html#4608" class="Function">soundness-ℕ′</a> <a id="4725" href="Erasure.Consequences.Soundness.html#4725" class="Bound">t®v</a> <a id="4729" class="Symbol">(</a><a id="4730" href="Erasure.Consequences.Soundness.html#1276" class="InductiveConstructor">sucʷ</a> <a id="4735" href="Erasure.Consequences.Soundness.html#4735" class="Bound">x</a> <a id="4737" href="Erasure.Consequences.Soundness.html#4737" class="Bound">whn</a><a id="4740" class="Symbol">)</a> <a id="4742" class="Symbol">=</a>
  <a id="4746" class="Keyword">let</a> <a id="4750" href="Erasure.Consequences.Soundness.html#4750" class="Bound">v′</a> <a id="4753" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4755" href="Erasure.Consequences.Soundness.html#4755" class="Bound">v⇒suc</a> <a id="4761" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4763" href="Erasure.Consequences.Soundness.html#4763" class="Bound">t®v′</a> <a id="4768" class="Symbol">=</a> <a id="4770" href="Erasure.Consequences.Soundness.html#3744" class="Function">soundness-suc′</a> <a id="4785" href="Erasure.Consequences.Soundness.html#4725" class="Bound">t®v</a> <a id="4789" href="Erasure.Consequences.Soundness.html#4735" class="Bound">x</a>
  <a id="4793" class="Keyword">in</a>  <a id="4797" href="Erasure.Consequences.Soundness.html#1413" class="InductiveConstructor">sucʷ</a> <a id="4802" href="Erasure.Consequences.Soundness.html#4755" class="Bound">v⇒suc</a> <a id="4808" class="Symbol">(</a><a id="4809" href="Erasure.Consequences.Soundness.html#4608" class="Function">soundness-ℕ′</a> <a id="4822" href="Erasure.Consequences.Soundness.html#4763" class="Bound">t®v′</a> <a id="4827" href="Erasure.Consequences.Soundness.html#4737" class="Bound">whn</a><a id="4830" class="Symbol">)</a>

<a id="4390"></a><a id="4833" class="Comment">-- WH reduction soundness of natural numbers</a>
<a id="4878" class="Comment">-- If t ® v ∷ℕ and WHℕ n t then WHℕ′ n v</a>

<a id="soundness-ℕ"></a><a id="4920" href="Erasure.Consequences.Soundness.html#4920" class="Function">soundness-ℕ</a> <a id="4932" class="Symbol">:</a> <a id="4934" class="InductiveConstructor">ε</a> <a id="4936" href="Definition.Typed.html#1407" class="Datatype Operator">⊢</a> <a id="4938" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4940" href="Definition.Typed.html#1407" class="Datatype Operator">∷</a> <a id="4942" href="Definition.Untyped.html#3169" class="Function">ℕ</a> <a id="4944" class="Symbol">→</a> <a id="4946" class="InductiveConstructor">ε</a> <a id="4948" href="Definition.Modality.Usage.html#818" class="Datatype Operator">▸</a> <a id="4950" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4952" class="Symbol">→</a> <a id="4954" href="Erasure.Consequences.Soundness.html#1199" class="Datatype">WHℕ</a> <a id="4958" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="4960" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="4962" class="Symbol">→</a> <a id="4964" href="Erasure.Consequences.Soundness.html#1336" class="Datatype">WHℕ′</a> <a id="4969" href="Erasure.Consequences.Soundness.html#823" class="Generalizable">n</a> <a id="4971" class="Symbol">(</a><a id="4972" href="Erasure.Extraction.html#328" class="Function">erase</a> <a id="4978" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a><a id="4979" class="Symbol">)</a>
<a id="4981" href="Erasure.Consequences.Soundness.html#4920" class="Function">soundness-ℕ</a> <a id="4993" href="Erasure.Consequences.Soundness.html#4993" class="Bound">⊢t</a> <a id="4996" href="Erasure.Consequences.Soundness.html#4996" class="Bound">γ▸t</a> <a id="5000" href="Erasure.Consequences.Soundness.html#5000" class="Bound">whn</a> <a id="5004" class="Symbol">=</a>
  <a id="5008" class="Keyword">let</a> <a id="5012" href="Erasure.Consequences.Soundness.html#5012" class="Bound">[ℕ]</a> <a id="5016" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5018" href="Erasure.Consequences.Soundness.html#5018" class="Bound">t®t′</a> <a id="5023" class="Symbol">=</a> <a id="5025" href="Erasure.LogicalRelation.Fundamental.html#11749" class="Function">fundamental′</a> <a id="5038" href="Erasure.Consequences.Soundness.html#4993" class="Bound">⊢t</a> <a id="5041" href="Erasure.Consequences.Soundness.html#4996" class="Bound">γ▸t</a>
      <a id="5051" href="Erasure.Consequences.Soundness.html#5051" class="Bound">t®t″</a> <a id="5056" class="Symbol">=</a> <a id="5058" href="Erasure.LogicalRelation.Irrelevance.html#3799" class="Function">irrelevanceTerm</a> <a id="5074" class="Symbol">{</a><a id="5075" class="Argument">l′</a> <a id="5078" class="Symbol">=</a> <a id="5080" href="Definition.LogicalRelation.html#5952" class="InductiveConstructor">¹</a><a id="5081" class="Symbol">}</a> <a id="5083" href="Erasure.Consequences.Soundness.html#5012" class="Bound">[ℕ]</a> <a id="5087" class="Symbol">(</a><a id="5088" href="Definition.LogicalRelation.html#14669" class="InductiveConstructor">ℕᵣ</a> <a id="5091" class="Symbol">(</a><a id="5092" href="Definition.Typed.Properties.html#11671" class="Function">idRed:*:</a> <a id="5101" class="Symbol">(</a><a id="5102" href="Definition.Typed.html#1080" class="InductiveConstructor">ℕⱼ</a> <a id="5105" href="Definition.Typed.html#912" class="InductiveConstructor">ε</a><a id="5106" class="Symbol">)))</a> <a id="5110" href="Erasure.Consequences.Soundness.html#5018" class="Bound">t®t′</a>
  <a id="5117" class="Keyword">in</a>  <a id="5121" href="Erasure.Consequences.Soundness.html#4608" class="Function">soundness-ℕ′</a> <a id="5134" href="Erasure.Consequences.Soundness.html#5051" class="Bound">t®t″</a> <a id="5139" href="Erasure.Consequences.Soundness.html#5000" class="Bound">whn</a>


<a id="5145" class="Comment">-- Helper lemma for WH reduction soundness of unit</a>

<a id="soundness-star′"></a><a id="5197" href="Erasure.Consequences.Soundness.html#5197" class="Function">soundness-star′</a> <a id="5213" class="Symbol">:</a> <a id="5215" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="5217" href="Erasure.LogicalRelation.html#1188" class="Datatype Operator">®</a> <a id="5219" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="5221" href="Erasure.LogicalRelation.html#1188" class="Datatype Operator">∷Unit</a> <a id="5227" class="Symbol">→</a> <a id="5229" href="Erasure.Consequences.Soundness.html#877" class="Generalizable">v</a> <a id="5231" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="5236" href="Erasure.Target.html#739" class="InductiveConstructor">T.star</a>
<a id="5243" href="Erasure.Consequences.Soundness.html#5197" class="Function">soundness-star′</a> <a id="5259" class="Symbol">(</a><a id="5260" href="Erasure.LogicalRelation.html#1241" class="InductiveConstructor">starᵣ</a> <a id="5266" class="Symbol">_</a> <a id="5268" href="Erasure.Consequences.Soundness.html#5268" class="Bound">v⇒star</a><a id="5274" class="Symbol">)</a> <a id="5276" class="Symbol">=</a> <a id="5278" href="Erasure.Consequences.Soundness.html#5268" class="Bound">v⇒star</a>

<a id="5286" class="Comment">-- WH reduction soundness of unit</a>

<a id="soundness-star"></a><a id="5321" href="Erasure.Consequences.Soundness.html#5321" class="Function">soundness-star</a> <a id="5336" class="Symbol">:</a> <a id="5338" class="InductiveConstructor">ε</a> <a id="5340" href="Definition.Typed.html#13326" class="Datatype Operator">⊢</a> <a id="5342" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="5344" href="Definition.Typed.html#13326" class="Datatype Operator">⇒*</a> <a id="5347" href="Definition.Untyped.html#4474" class="Function">star</a> <a id="5352" href="Definition.Typed.html#13326" class="Datatype Operator">∷</a> <a id="5354" href="Definition.Untyped.html#3331" class="Function">Unit</a> <a id="5359" class="Symbol">→</a> <a id="5361" class="InductiveConstructor">ε</a> <a id="5363" href="Definition.Modality.Usage.html#818" class="Datatype Operator">▸</a> <a id="5365" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="5367" class="Symbol">→</a> <a id="5369" href="Erasure.Extraction.html#328" class="Function">erase</a> <a id="5375" href="Erasure.Consequences.Soundness.html#835" class="Generalizable">t</a> <a id="5377" href="Erasure.Target.html#5172" class="Datatype Operator">T.⇒*</a> <a id="5382" href="Erasure.Target.html#739" class="InductiveConstructor">T.star</a>
<a id="5389" href="Erasure.Consequences.Soundness.html#5321" class="Function">soundness-star</a> <a id="5404" href="Erasure.Consequences.Soundness.html#5404" class="Bound">t⇒star</a> <a id="5411" href="Erasure.Consequences.Soundness.html#5411" class="Bound">γ▸t</a> <a id="5415" class="Symbol">=</a>
  <a id="5419" class="Keyword">let</a> <a id="5423" href="Erasure.Consequences.Soundness.html#5423" class="Bound">⊢t</a> <a id="5426" class="Symbol">=</a> <a id="5428" href="Definition.Typed.Properties.html#4958" class="Function">redFirst*Term</a> <a id="5442" href="Erasure.Consequences.Soundness.html#5404" class="Bound">t⇒star</a>
      <a id="5455" href="Erasure.Consequences.Soundness.html#5455" class="Bound">[⊤]</a> <a id="5459" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5461" href="Erasure.Consequences.Soundness.html#5461" class="Bound">t®t′</a> <a id="5466" class="Symbol">=</a> <a id="5468" href="Erasure.LogicalRelation.Fundamental.html#11749" class="Function">fundamental′</a> <a id="5481" href="Erasure.Consequences.Soundness.html#5423" class="Bound">⊢t</a> <a id="5484" href="Erasure.Consequences.Soundness.html#5411" class="Bound">γ▸t</a>
      <a id="5494" href="Erasure.Consequences.Soundness.html#5494" class="Bound">t®t″</a> <a id="5499" class="Symbol">=</a> <a id="5501" href="Erasure.LogicalRelation.Irrelevance.html#3799" class="Function">irrelevanceTerm</a> <a id="5517" class="Symbol">{</a><a id="5518" class="Argument">l′</a> <a id="5521" class="Symbol">=</a> <a id="5523" href="Definition.LogicalRelation.html#5952" class="InductiveConstructor">¹</a><a id="5524" class="Symbol">}</a> <a id="5526" href="Erasure.Consequences.Soundness.html#5455" class="Bound">[⊤]</a> <a id="5530" class="Symbol">(</a><a id="5531" href="Definition.LogicalRelation.html#14748" class="InductiveConstructor">Unitᵣ</a> <a id="5537" class="Symbol">(</a><a id="5538" href="Definition.Typed.Properties.html#11671" class="Function">idRed:*:</a> <a id="5547" class="Symbol">(</a><a id="5548" href="Definition.Typed.html#1134" class="InductiveConstructor">Unitⱼ</a> <a id="5554" href="Definition.Typed.html#912" class="InductiveConstructor">ε</a><a id="5555" class="Symbol">)))</a> <a id="5559" href="Erasure.Consequences.Soundness.html#5461" class="Bound">t®t′</a>
  <a id="5566" class="Keyword">in</a>  <a id="5570" href="Erasure.Consequences.Soundness.html#5197" class="Function">soundness-star′</a> <a id="5586" href="Erasure.Consequences.Soundness.html#5494" class="Bound">t®t″</a>
</pre></body></html>