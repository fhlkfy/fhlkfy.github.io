<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Modality.Context.Properties.Insertion</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">open</a> <a id="42" class="Keyword">import</a> <a id="49" href="Tools.Level.html" class="Module">Tools.Level</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Tools.Relation.html" class="Module">Tools.Relation</a>
<a id="88" class="Keyword">open</a> <a id="93" class="Keyword">import</a> <a id="100" href="Definition.Modality.html" class="Module">Definition.Modality</a>

<a id="121" class="Keyword">module</a> <a id="128" href="Definition.Modality.Context.Properties.Insertion.html" class="Module">Definition.Modality.Context.Properties.Insertion</a>
  <a id="179" class="Symbol">{</a><a id="180" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a> <a id="182" class="Symbol">:</a> <a id="184" class="PrimitiveType">Set</a><a id="187" class="Symbol">}</a> <a id="189" class="Symbol">{</a><a id="190" href="Definition.Modality.Context.Properties.Insertion.html#190" class="Bound Operator">_≈_</a> <a id="194" class="Symbol">:</a> <a id="196" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="200" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a> <a id="202" href="Tools.Level.html#109" class="Primitive">ℓ₀</a><a id="204" class="Symbol">}</a>
  <a id="208" class="Symbol">(</a><a id="209" href="Definition.Modality.Context.Properties.Insertion.html#209" class="Bound">𝕄</a> <a id="211" class="Symbol">:</a> <a id="213" href="Definition.Modality.html#271" class="Record">Modality</a> <a id="222" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a> <a id="224" href="Definition.Modality.Context.Properties.Insertion.html#190" class="Bound Operator">_≈_</a><a id="227" class="Symbol">)</a>
  <a id="231" class="Keyword">where</a>

<a id="238" class="Keyword">open</a> <a id="243" class="Keyword">import</a> <a id="250" href="Definition.Modality.Context.html" class="Module">Definition.Modality.Context</a> <a id="278" href="Definition.Modality.Context.Properties.Insertion.html#209" class="Bound">𝕄</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Definition.Modality.Context.Properties.Equivalence.html" class="Module">Definition.Modality.Context.Properties.Equivalence</a> <a id="343" href="Definition.Modality.Context.Properties.Insertion.html#209" class="Bound">𝕄</a>
<a id="345" class="Keyword">open</a> <a id="350" class="Keyword">import</a> <a id="357" href="Definition.Modality.Properties.html" class="Module">Definition.Modality.Properties</a> <a id="388" href="Definition.Modality.Context.Properties.Insertion.html#209" class="Bound">𝕄</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="421" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a> <a id="423" class="Keyword">using</a> <a id="429" class="Symbol">(</a>wkVar<a id="435" class="Symbol">;</a> liftn<a id="442" class="Symbol">;</a> step<a id="448" class="Symbol">;</a> id<a id="452" class="Symbol">)</a>

<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Tools.Fin.html" class="Module">Tools.Fin</a>
<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Tools.Nat.html" class="Module">Tools.Nat</a> <a id="499" class="Keyword">renaming</a> <a id="508" class="Symbol">(</a><a id="509" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a> <a id="513" class="Symbol">to</a> <a id="_+_"></a><a id="516" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">_+ⁿ_</a><a id="520" class="Symbol">)</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="548" class="Keyword">open</a> <a id="553" class="Keyword">import</a> <a id="560" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a>

<a id="589" class="Keyword">open</a> <a id="594" href="Definition.Modality.html#271" class="Module">Modality</a> <a id="603" href="Definition.Modality.Context.Properties.Insertion.html#209" class="Bound">𝕄</a>

<a id="606" class="Keyword">private</a>
  <a id="616" class="Keyword">variable</a>
    <a id="629" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a> <a id="631" href="Definition.Modality.Context.Properties.Insertion.html#631" class="Generalizable">n</a> <a id="633" class="Symbol">:</a> <a id="635" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a>
    <a id="643" href="Definition.Modality.Context.Properties.Insertion.html#643" class="Generalizable">p</a> <a id="645" href="Definition.Modality.Context.Properties.Insertion.html#645" class="Generalizable">q</a> <a id="647" class="Symbol">:</a> <a id="649" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a>

<a id="652" class="Comment">-- Congruence of insertAt</a>
<a id="678" class="Comment">-- If γ ≈ᶜ δ and p ≈ q then insertAt n γ p ≈ᶜ insertAt n δ q</a>

<a id="insertAt-cong"></a><a id="740" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="754" class="Symbol">:</a> <a id="756" class="Symbol">{</a><a id="757" href="Definition.Modality.Context.Properties.Insertion.html#757" class="Bound">γ</a> <a id="759" href="Definition.Modality.Context.Properties.Insertion.html#759" class="Bound">δ</a> <a id="761" class="Symbol">:</a> <a id="763" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="768" class="Symbol">(</a><a id="769" href="Definition.Modality.Context.Properties.Insertion.html#631" class="Generalizable">n</a> <a id="771" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="774" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="775" class="Symbol">)}</a> <a id="778" class="Symbol">→</a> <a id="780" href="Definition.Modality.Context.Properties.Insertion.html#757" class="Bound">γ</a> <a id="782" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="785" href="Definition.Modality.Context.Properties.Insertion.html#759" class="Bound">δ</a> <a id="787" class="Symbol">→</a> <a id="789" href="Definition.Modality.Context.Properties.Insertion.html#643" class="Generalizable">p</a> <a id="791" href="Definition.Modality.Context.Properties.Insertion.html#190" class="Bound Operator">≈</a> <a id="793" href="Definition.Modality.Context.Properties.Insertion.html#645" class="Generalizable">q</a> <a id="795" class="Symbol">→</a> <a id="797" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="806" href="Definition.Modality.Context.Properties.Insertion.html#631" class="Generalizable">n</a> <a id="808" href="Definition.Modality.Context.Properties.Insertion.html#757" class="Bound">γ</a> <a id="810" href="Definition.Modality.Context.Properties.Insertion.html#643" class="Generalizable">p</a> <a id="812" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="815" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="824" href="Definition.Modality.Context.Properties.Insertion.html#631" class="Generalizable">n</a> <a id="826" href="Definition.Modality.Context.Properties.Insertion.html#759" class="Bound">δ</a> <a id="828" href="Definition.Modality.Context.Properties.Insertion.html#645" class="Generalizable">q</a>
<a id="830" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="844" class="Symbol">{</a><a id="845" class="Argument">n</a> <a id="847" class="Symbol">=</a> <a id="849" class="Number">0</a><a id="850" class="Symbol">}</a> <a id="852" href="Definition.Modality.Context.Properties.Insertion.html#852" class="Bound">γ≈δ</a> <a id="856" href="Definition.Modality.Context.Properties.Insertion.html#856" class="Bound">p≈q</a> <a id="860" class="Symbol">=</a> <a id="862" href="Definition.Modality.Context.Properties.Insertion.html#852" class="Bound">γ≈δ</a> <a id="866" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="868" href="Definition.Modality.Context.Properties.Insertion.html#856" class="Bound">p≈q</a>
<a id="872" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="886" class="Symbol">{</a><a id="887" class="Argument">n</a> <a id="889" class="Symbol">=</a> <a id="891" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="894" href="Definition.Modality.Context.Properties.Insertion.html#894" class="Bound">n</a><a id="895" class="Symbol">}</a> <a id="897" class="Symbol">(</a><a id="898" href="Definition.Modality.Context.Properties.Insertion.html#898" class="Bound">γ≈δ</a> <a id="902" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="904" href="Definition.Modality.Context.Properties.Insertion.html#904" class="Bound">p′≈q′</a><a id="909" class="Symbol">)</a> <a id="911" href="Definition.Modality.Context.Properties.Insertion.html#911" class="Bound">p≈q</a> <a id="915" class="Symbol">=</a> <a id="917" class="Symbol">(</a><a id="918" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="932" href="Definition.Modality.Context.Properties.Insertion.html#898" class="Bound">γ≈δ</a> <a id="936" href="Definition.Modality.Context.Properties.Insertion.html#911" class="Bound">p≈q</a><a id="939" class="Symbol">)</a> <a id="941" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="943" href="Definition.Modality.Context.Properties.Insertion.html#904" class="Bound">p′≈q′</a>

<a id="950" class="Comment">-- Inserting a zero into a zero-context gives a zero-context</a>
<a id="1011" class="Comment">-- insertAt x 𝟘ᶜ 𝟘 ≡ 𝟘ᶜ</a>

<a id="insertAt-𝟘"></a><a id="1036" href="Definition.Modality.Context.Properties.Insertion.html#1036" class="Function">insertAt-𝟘</a> <a id="1047" class="Symbol">:</a> <a id="1049" class="Symbol">(</a><a id="1050" href="Definition.Modality.Context.Properties.Insertion.html#1050" class="Bound">n</a> <a id="1052" class="Symbol">:</a> <a id="1054" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1057" class="Symbol">)</a> <a id="1059" class="Symbol">→</a> <a id="1061" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1070" href="Definition.Modality.Context.Properties.Insertion.html#1050" class="Bound">n</a> <a id="1072" class="Symbol">(</a><a id="1073" href="Definition.Modality.Context.html#2199" class="Function">𝟘ᶜ</a> <a id="1076" class="Symbol">{</a><a id="1077" class="Argument">n</a> <a id="1079" class="Symbol">=</a> <a id="1081" href="Definition.Modality.Context.Properties.Insertion.html#1050" class="Bound">n</a> <a id="1083" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="1086" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="1087" class="Symbol">})</a> <a id="1090" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="1092" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1094" href="Definition.Modality.Context.html#2199" class="Function">𝟘ᶜ</a> <a id="1097" class="Symbol">{</a><a id="1098" class="Argument">n</a> <a id="1100" class="Symbol">=</a> <a id="1102" href="Definition.Modality.Context.Properties.Insertion.html#1050" class="Bound">n</a> <a id="1104" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="1107" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="1110" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="1111" class="Symbol">}</a>
<a id="1113" href="Definition.Modality.Context.Properties.Insertion.html#1036" class="Function">insertAt-𝟘</a> <a id="1124" class="Number">0</a>      <a id="1131" class="Symbol">=</a> <a id="1133" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1138" href="Definition.Modality.Context.Properties.Insertion.html#1036" class="Function">insertAt-𝟘</a> <a id="1149" class="Symbol">(</a><a id="1150" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="1153" href="Definition.Modality.Context.Properties.Insertion.html#1153" class="Bound">n</a><a id="1154" class="Symbol">)</a> <a id="1156" class="Symbol">=</a> <a id="1158" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="1167" class="Symbol">_)</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Definition.Modality.Context.Properties.Insertion.html#1036" class="Function">insertAt-𝟘</a> <a id="1182" href="Definition.Modality.Context.Properties.Insertion.html#1153" class="Bound">n</a><a id="1183" class="Symbol">)</a>

<a id="1186" class="Comment">-- Inserting the sum of two elements distributes over addition</a>
<a id="1249" class="Comment">-- insertAt n (γ +ᶜ δ) (p + q) ≡ insertAt n γ p +ᶜ insertAt n δ q</a>

<a id="insertAt-distrib-+ᶜ"></a><a id="1316" href="Definition.Modality.Context.Properties.Insertion.html#1316" class="Function">insertAt-distrib-+ᶜ</a> <a id="1336" class="Symbol">:</a> <a id="1338" class="Symbol">(</a><a id="1339" href="Definition.Modality.Context.Properties.Insertion.html#1339" class="Bound">n</a> <a id="1341" class="Symbol">:</a> <a id="1343" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Definition.Modality.Context.Properties.Insertion.html#1349" class="Bound">γ</a> <a id="1351" href="Definition.Modality.Context.Properties.Insertion.html#1351" class="Bound">δ</a> <a id="1353" class="Symbol">:</a> <a id="1355" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="1360" class="Symbol">(</a><a id="1361" href="Definition.Modality.Context.Properties.Insertion.html#1339" class="Bound">n</a> <a id="1363" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="1366" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="1367" class="Symbol">))</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Definition.Modality.Context.Properties.Insertion.html#1371" class="Bound">p</a> <a id="1373" href="Definition.Modality.Context.Properties.Insertion.html#1373" class="Bound">q</a> <a id="1375" class="Symbol">:</a> <a id="1377" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="1378" class="Symbol">)</a>
                    <a id="1400" class="Symbol">→</a> <a id="1402" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1411" href="Definition.Modality.Context.Properties.Insertion.html#1339" class="Bound">n</a> <a id="1413" class="Symbol">(</a><a id="1414" href="Definition.Modality.Context.Properties.Insertion.html#1349" class="Bound">γ</a> <a id="1416" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1419" href="Definition.Modality.Context.Properties.Insertion.html#1351" class="Bound">δ</a><a id="1420" class="Symbol">)</a> <a id="1422" class="Symbol">(</a><a id="1423" href="Definition.Modality.Context.Properties.Insertion.html#1371" class="Bound">p</a> <a id="1425" href="Definition.Modality.html#440" class="Field Operator">+</a> <a id="1427" href="Definition.Modality.Context.Properties.Insertion.html#1373" class="Bound">q</a><a id="1428" class="Symbol">)</a> <a id="1430" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1432" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1441" href="Definition.Modality.Context.Properties.Insertion.html#1339" class="Bound">n</a> <a id="1443" href="Definition.Modality.Context.Properties.Insertion.html#1349" class="Bound">γ</a> <a id="1445" href="Definition.Modality.Context.Properties.Insertion.html#1371" class="Bound">p</a> <a id="1447" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1450" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1459" href="Definition.Modality.Context.Properties.Insertion.html#1339" class="Bound">n</a> <a id="1461" href="Definition.Modality.Context.Properties.Insertion.html#1351" class="Bound">δ</a> <a id="1463" href="Definition.Modality.Context.Properties.Insertion.html#1373" class="Bound">q</a>
<a id="1465" href="Definition.Modality.Context.Properties.Insertion.html#1316" class="Function">insertAt-distrib-+ᶜ</a> <a id="1485" class="Number">0</a> <a id="1487" href="Definition.Modality.Context.Properties.Insertion.html#1487" class="Bound">γ</a> <a id="1489" href="Definition.Modality.Context.Properties.Insertion.html#1489" class="Bound">δ</a> <a id="1491" href="Definition.Modality.Context.Properties.Insertion.html#1491" class="Bound">p</a> <a id="1493" href="Definition.Modality.Context.Properties.Insertion.html#1493" class="Bound">q</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="1502" href="Definition.Modality.Context.Properties.Insertion.html#1316" class="Function">insertAt-distrib-+ᶜ</a> <a id="1522" class="Symbol">(</a><a id="1523" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="1526" href="Definition.Modality.Context.Properties.Insertion.html#1526" class="Bound">n</a><a id="1527" class="Symbol">)</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Definition.Modality.Context.Properties.Insertion.html#1530" class="Bound">γ</a> <a id="1532" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1534" href="Definition.Modality.Context.Properties.Insertion.html#1534" class="Bound">p′</a><a id="1536" class="Symbol">)</a> <a id="1538" class="Symbol">(</a><a id="1539" href="Definition.Modality.Context.Properties.Insertion.html#1539" class="Bound">δ</a> <a id="1541" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="1543" href="Definition.Modality.Context.Properties.Insertion.html#1543" class="Bound">q′</a><a id="1545" class="Symbol">)</a> <a id="1547" href="Definition.Modality.Context.Properties.Insertion.html#1547" class="Bound">p</a> <a id="1549" href="Definition.Modality.Context.Properties.Insertion.html#1549" class="Bound">q</a> <a id="1551" class="Symbol">=</a>
  <a id="1555" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="1564" class="Symbol">_)</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Definition.Modality.Context.Properties.Insertion.html#1316" class="Function">insertAt-distrib-+ᶜ</a> <a id="1588" href="Definition.Modality.Context.Properties.Insertion.html#1526" class="Bound">n</a> <a id="1590" href="Definition.Modality.Context.Properties.Insertion.html#1530" class="Bound">γ</a> <a id="1592" href="Definition.Modality.Context.Properties.Insertion.html#1539" class="Bound">δ</a> <a id="1594" href="Definition.Modality.Context.Properties.Insertion.html#1547" class="Bound">p</a> <a id="1596" href="Definition.Modality.Context.Properties.Insertion.html#1549" class="Bound">q</a><a id="1597" class="Symbol">)</a>

<a id="1600" class="Comment">-- Inserting a zero into a modality context distributes over addition</a>
<a id="1670" class="Comment">-- insertAt n (γ +ᶜ δ) 𝟘 ≈ᶜ insertAt n γ 𝟘 +ᶜ insertAt n δ 𝟘</a>

<a id="insertAt-distrib-+ᶜ-𝟘"></a><a id="1732" href="Definition.Modality.Context.Properties.Insertion.html#1732" class="Function">insertAt-distrib-+ᶜ-𝟘</a> <a id="1754" class="Symbol">:</a> <a id="1756" class="Symbol">(</a><a id="1757" href="Definition.Modality.Context.Properties.Insertion.html#1757" class="Bound">n</a> <a id="1759" class="Symbol">:</a> <a id="1761" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="1764" class="Symbol">)</a> <a id="1766" class="Symbol">(</a><a id="1767" href="Definition.Modality.Context.Properties.Insertion.html#1767" class="Bound">γ</a> <a id="1769" href="Definition.Modality.Context.Properties.Insertion.html#1769" class="Bound">δ</a> <a id="1771" class="Symbol">:</a> <a id="1773" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Definition.Modality.Context.Properties.Insertion.html#1757" class="Bound">n</a> <a id="1781" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="1784" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="1785" class="Symbol">))</a>
                      <a id="1810" class="Symbol">→</a> <a id="1812" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1821" href="Definition.Modality.Context.Properties.Insertion.html#1757" class="Bound">n</a> <a id="1823" class="Symbol">(</a><a id="1824" href="Definition.Modality.Context.Properties.Insertion.html#1767" class="Bound">γ</a> <a id="1826" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1829" href="Definition.Modality.Context.Properties.Insertion.html#1769" class="Bound">δ</a><a id="1830" class="Symbol">)</a> <a id="1832" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="1834" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="1837" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1846" href="Definition.Modality.Context.Properties.Insertion.html#1757" class="Bound">n</a> <a id="1848" href="Definition.Modality.Context.Properties.Insertion.html#1767" class="Bound">γ</a> <a id="1850" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="1852" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1855" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1864" href="Definition.Modality.Context.Properties.Insertion.html#1757" class="Bound">n</a> <a id="1866" href="Definition.Modality.Context.Properties.Insertion.html#1769" class="Bound">δ</a> <a id="1868" href="Definition.Modality.html#645" class="Field">𝟘</a>
<a id="1870" href="Definition.Modality.Context.Properties.Insertion.html#1732" class="Function">insertAt-distrib-+ᶜ-𝟘</a>  <a id="1893" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="1895" href="Definition.Modality.Context.Properties.Insertion.html#1895" class="Bound">γ</a> <a id="1897" href="Definition.Modality.Context.Properties.Insertion.html#1897" class="Bound">δ</a> <a id="1899" class="Symbol">=</a> <a id="1901" href="Relation.Binary.Reasoning.Base.Double.html#2213" class="Function Operator">begin</a>
  <a id="1909" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="1918" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="1920" class="Symbol">(</a><a id="1921" href="Definition.Modality.Context.Properties.Insertion.html#1895" class="Bound">γ</a> <a id="1923" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="1926" href="Definition.Modality.Context.Properties.Insertion.html#1897" class="Bound">δ</a><a id="1927" class="Symbol">)</a> <a id="1929" href="Definition.Modality.html#645" class="Field">𝟘</a>            <a id="1942" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">≈⟨</a> <a id="1945" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="1959" href="Definition.Modality.Context.Properties.Equivalence.html#450" class="Function">≈ᶜ-refl</a> <a id="1967" class="Symbol">(</a><a id="1968" href="Definition.Modality.html#2719" class="Function">≈-sym</a> <a id="1974" class="Symbol">(</a><a id="1975" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1981" href="Definition.Modality.html#2198" class="Function">+-identity</a> <a id="1992" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="1993" class="Symbol">))</a> <a id="1996" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">⟩</a>
  <a id="2000" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2009" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Definition.Modality.Context.Properties.Insertion.html#1895" class="Bound">γ</a> <a id="2014" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="2017" href="Definition.Modality.Context.Properties.Insertion.html#1897" class="Bound">δ</a><a id="2018" class="Symbol">)</a> <a id="2020" class="Symbol">(</a><a id="2021" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2023" href="Definition.Modality.html#440" class="Field Operator">+</a> <a id="2025" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="2026" class="Symbol">)</a>      <a id="2033" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">≡⟨</a> <a id="2036" href="Definition.Modality.Context.Properties.Insertion.html#1316" class="Function">insertAt-distrib-+ᶜ</a> <a id="2056" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="2058" href="Definition.Modality.Context.Properties.Insertion.html#1895" class="Bound">γ</a> <a id="2060" href="Definition.Modality.Context.Properties.Insertion.html#1897" class="Bound">δ</a> <a id="2062" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2064" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2066" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">⟩</a>
  <a id="2070" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2079" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="2081" href="Definition.Modality.Context.Properties.Insertion.html#1895" class="Bound">γ</a> <a id="2083" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2085" href="Definition.Modality.Context.html#1612" class="Function Operator">+ᶜ</a> <a id="2088" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2097" href="Definition.Modality.Context.Properties.Insertion.html#1893" class="Bound">n</a> <a id="2099" href="Definition.Modality.Context.Properties.Insertion.html#1897" class="Bound">δ</a> <a id="2101" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2103" href="Relation.Binary.Reasoning.Base.Double.html#3647" class="Function Operator">∎</a>
  <a id="2107" class="Keyword">where</a> <a id="2113" class="Keyword">open</a> <a id="2118" class="Keyword">import</a> <a id="2125" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="2153" href="Definition.Modality.Context.Properties.Equivalence.html#967" class="Function">≈ᶜ-equivalence</a>

<a id="2169" class="Comment">-- Inserting the product of two elements distributes over context scaling</a>
<a id="2243" class="Comment">-- insertAt n (p ·ᶜ γ) (p · q) ≡ p ·ᶜ insertAt n γ q</a>

<a id="insertAt-distrib-·ᶜ"></a><a id="2297" href="Definition.Modality.Context.Properties.Insertion.html#2297" class="Function">insertAt-distrib-·ᶜ</a> <a id="2317" class="Symbol">:</a> <a id="2319" class="Symbol">(</a><a id="2320" href="Definition.Modality.Context.Properties.Insertion.html#2320" class="Bound">n</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="2327" class="Symbol">)</a> <a id="2329" class="Symbol">(</a><a id="2330" href="Definition.Modality.Context.Properties.Insertion.html#2330" class="Bound">γ</a> <a id="2332" class="Symbol">:</a> <a id="2334" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="2339" class="Symbol">(</a><a id="2340" href="Definition.Modality.Context.Properties.Insertion.html#2320" class="Bound">n</a> <a id="2342" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="2345" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="2346" class="Symbol">))</a> <a id="2349" class="Symbol">(</a><a id="2350" href="Definition.Modality.Context.Properties.Insertion.html#2350" class="Bound">p</a> <a id="2352" href="Definition.Modality.Context.Properties.Insertion.html#2352" class="Bound">q</a> <a id="2354" class="Symbol">:</a> <a id="2356" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="2357" class="Symbol">)</a>
                    <a id="2379" class="Symbol">→</a> <a id="2381" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2390" href="Definition.Modality.Context.Properties.Insertion.html#2320" class="Bound">n</a> <a id="2392" class="Symbol">(</a><a id="2393" href="Definition.Modality.Context.Properties.Insertion.html#2350" class="Bound">p</a> <a id="2395" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2398" href="Definition.Modality.Context.Properties.Insertion.html#2330" class="Bound">γ</a><a id="2399" class="Symbol">)</a> <a id="2401" class="Symbol">(</a><a id="2402" href="Definition.Modality.Context.Properties.Insertion.html#2350" class="Bound">p</a> <a id="2404" href="Definition.Modality.html#468" class="Field Operator">·</a> <a id="2406" href="Definition.Modality.Context.Properties.Insertion.html#2352" class="Bound">q</a><a id="2407" class="Symbol">)</a> <a id="2409" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2411" href="Definition.Modality.Context.Properties.Insertion.html#2350" class="Bound">p</a> <a id="2413" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2416" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2425" href="Definition.Modality.Context.Properties.Insertion.html#2320" class="Bound">n</a> <a id="2427" href="Definition.Modality.Context.Properties.Insertion.html#2330" class="Bound">γ</a> <a id="2429" href="Definition.Modality.Context.Properties.Insertion.html#2352" class="Bound">q</a>
<a id="2431" href="Definition.Modality.Context.Properties.Insertion.html#2297" class="Function">insertAt-distrib-·ᶜ</a> <a id="2451" class="Number">0</a> <a id="2453" href="Definition.Modality.Context.Properties.Insertion.html#2453" class="Bound">γ</a> <a id="2455" href="Definition.Modality.Context.Properties.Insertion.html#2455" class="Bound">p</a> <a id="2457" href="Definition.Modality.Context.Properties.Insertion.html#2457" class="Bound">q</a> <a id="2459" class="Symbol">=</a> <a id="2461" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2466" href="Definition.Modality.Context.Properties.Insertion.html#2297" class="Function">insertAt-distrib-·ᶜ</a> <a id="2486" class="Symbol">(</a><a id="2487" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="2490" href="Definition.Modality.Context.Properties.Insertion.html#2490" class="Bound">n</a><a id="2491" class="Symbol">)</a> <a id="2493" class="Symbol">(</a><a id="2494" href="Definition.Modality.Context.Properties.Insertion.html#2494" class="Bound">γ</a> <a id="2496" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="2498" href="Definition.Modality.Context.Properties.Insertion.html#2498" class="Bound">r</a><a id="2499" class="Symbol">)</a> <a id="2501" href="Definition.Modality.Context.Properties.Insertion.html#2501" class="Bound">p</a> <a id="2503" href="Definition.Modality.Context.Properties.Insertion.html#2503" class="Bound">q</a> <a id="2505" class="Symbol">=</a>
  <a id="2509" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="2514" class="Symbol">(</a><a id="2515" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="2518" class="Symbol">_)</a> <a id="2521" class="Symbol">(</a><a id="2522" href="Definition.Modality.Context.Properties.Insertion.html#2297" class="Function">insertAt-distrib-·ᶜ</a> <a id="2542" href="Definition.Modality.Context.Properties.Insertion.html#2490" class="Bound">n</a> <a id="2544" href="Definition.Modality.Context.Properties.Insertion.html#2494" class="Bound">γ</a> <a id="2546" href="Definition.Modality.Context.Properties.Insertion.html#2501" class="Bound">p</a> <a id="2548" href="Definition.Modality.Context.Properties.Insertion.html#2503" class="Bound">q</a><a id="2549" class="Symbol">)</a>

<a id="2552" class="Comment">-- Inserting a zero into a modality context distributes over context scaling</a>
<a id="2629" class="Comment">-- insertAt n (p ·ᶜ γ) 𝟘 ≈ᶜ p ·ᶜ insertAt n γ 𝟘</a>

<a id="insertAt-distrib-·ᶜ-𝟘"></a><a id="2678" href="Definition.Modality.Context.Properties.Insertion.html#2678" class="Function">insertAt-distrib-·ᶜ-𝟘</a> <a id="2700" class="Symbol">:</a> <a id="2702" class="Symbol">(</a><a id="2703" href="Definition.Modality.Context.Properties.Insertion.html#2703" class="Bound">n</a> <a id="2705" class="Symbol">:</a> <a id="2707" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="2710" class="Symbol">)</a> <a id="2712" class="Symbol">(</a><a id="2713" href="Definition.Modality.Context.Properties.Insertion.html#2713" class="Bound">p</a> <a id="2715" class="Symbol">:</a> <a id="2717" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="2718" class="Symbol">)</a> <a id="2720" class="Symbol">(</a><a id="2721" href="Definition.Modality.Context.Properties.Insertion.html#2721" class="Bound">γ</a> <a id="2723" class="Symbol">:</a> <a id="2725" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="2730" class="Symbol">(</a><a id="2731" href="Definition.Modality.Context.Properties.Insertion.html#2703" class="Bound">n</a> <a id="2733" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="2736" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="2737" class="Symbol">))</a>
                      <a id="2762" class="Symbol">→</a> <a id="2764" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2773" href="Definition.Modality.Context.Properties.Insertion.html#2703" class="Bound">n</a> <a id="2775" class="Symbol">(</a><a id="2776" href="Definition.Modality.Context.Properties.Insertion.html#2713" class="Bound">p</a> <a id="2778" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2781" href="Definition.Modality.Context.Properties.Insertion.html#2721" class="Bound">γ</a><a id="2782" class="Symbol">)</a> <a id="2784" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2786" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="2789" href="Definition.Modality.Context.Properties.Insertion.html#2713" class="Bound">p</a> <a id="2791" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2794" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2803" href="Definition.Modality.Context.Properties.Insertion.html#2703" class="Bound">n</a> <a id="2805" href="Definition.Modality.Context.Properties.Insertion.html#2721" class="Bound">γ</a> <a id="2807" href="Definition.Modality.html#645" class="Field">𝟘</a>
<a id="2809" href="Definition.Modality.Context.Properties.Insertion.html#2678" class="Function">insertAt-distrib-·ᶜ-𝟘</a> <a id="2831" href="Definition.Modality.Context.Properties.Insertion.html#2831" class="Bound">n</a> <a id="2833" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2835" href="Definition.Modality.Context.Properties.Insertion.html#2835" class="Bound">γ</a> <a id="2837" class="Symbol">=</a> <a id="2839" href="Relation.Binary.Reasoning.Base.Double.html#2213" class="Function Operator">begin</a>
  <a id="2847" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2856" href="Definition.Modality.Context.Properties.Insertion.html#2831" class="Bound">n</a> <a id="2858" class="Symbol">(</a><a id="2859" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2861" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2864" href="Definition.Modality.Context.Properties.Insertion.html#2835" class="Bound">γ</a><a id="2865" class="Symbol">)</a> <a id="2867" href="Definition.Modality.html#645" class="Field">𝟘</a>       <a id="2875" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">≈⟨</a> <a id="2878" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="2892" href="Definition.Modality.Context.Properties.Equivalence.html#450" class="Function">≈ᶜ-refl</a> <a id="2900" class="Symbol">(</a><a id="2901" href="Definition.Modality.html#2719" class="Function">≈-sym</a> <a id="2907" class="Symbol">(</a><a id="2908" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="2914" href="Definition.Modality.html#1068" class="Field">·-zero</a> <a id="2921" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a><a id="2922" class="Symbol">))</a> <a id="2925" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">⟩</a>
  <a id="2929" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="2938" href="Definition.Modality.Context.Properties.Insertion.html#2831" class="Bound">n</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2943" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2946" href="Definition.Modality.Context.Properties.Insertion.html#2835" class="Bound">γ</a><a id="2947" class="Symbol">)</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2952" href="Definition.Modality.html#468" class="Field Operator">·</a> <a id="2954" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="2955" class="Symbol">)</a> <a id="2957" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">≡⟨</a> <a id="2960" href="Definition.Modality.Context.Properties.Insertion.html#2297" class="Function">insertAt-distrib-·ᶜ</a> <a id="2980" href="Definition.Modality.Context.Properties.Insertion.html#2831" class="Bound">n</a> <a id="2982" href="Definition.Modality.Context.Properties.Insertion.html#2835" class="Bound">γ</a> <a id="2984" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2986" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="2988" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">⟩</a>
  <a id="2992" href="Definition.Modality.Context.Properties.Insertion.html#2833" class="Bound">p</a> <a id="2994" href="Definition.Modality.Context.html#1844" class="Function Operator">·ᶜ</a> <a id="2997" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3006" href="Definition.Modality.Context.Properties.Insertion.html#2831" class="Bound">n</a> <a id="3008" href="Definition.Modality.Context.Properties.Insertion.html#2835" class="Bound">γ</a> <a id="3010" href="Definition.Modality.html#645" class="Field">𝟘</a>         <a id="3020" href="Relation.Binary.Reasoning.Base.Double.html#3647" class="Function Operator">∎</a>
  <a id="3024" class="Keyword">where</a> <a id="3030" class="Keyword">open</a> <a id="3035" class="Keyword">import</a> <a id="3042" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="3070" href="Definition.Modality.Context.Properties.Equivalence.html#967" class="Function">≈ᶜ-equivalence</a>

<a id="3086" class="Comment">-- Inserting the meet of two elements distributes over meet</a>
<a id="3146" class="Comment">-- insertAt n (γ ∧ᶜ δ) (p ∧ q) ≡ insertAt n γ p ∧ᶜ insertAt n δ q</a>

<a id="insertAt-distrib-∧ᶜ"></a><a id="3213" href="Definition.Modality.Context.Properties.Insertion.html#3213" class="Function">insertAt-distrib-∧ᶜ</a> <a id="3233" class="Symbol">:</a> <a id="3235" class="Symbol">(</a><a id="3236" href="Definition.Modality.Context.Properties.Insertion.html#3236" class="Bound">n</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="3243" class="Symbol">)</a> <a id="3245" class="Symbol">(</a><a id="3246" href="Definition.Modality.Context.Properties.Insertion.html#3246" class="Bound">γ</a> <a id="3248" href="Definition.Modality.Context.Properties.Insertion.html#3248" class="Bound">δ</a> <a id="3250" class="Symbol">:</a> <a id="3252" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="3257" class="Symbol">(</a><a id="3258" href="Definition.Modality.Context.Properties.Insertion.html#3236" class="Bound">n</a> <a id="3260" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="3263" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="3264" class="Symbol">))</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Definition.Modality.Context.Properties.Insertion.html#3268" class="Bound">p</a> <a id="3270" href="Definition.Modality.Context.Properties.Insertion.html#3270" class="Bound">q</a> <a id="3272" class="Symbol">:</a> <a id="3274" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="3275" class="Symbol">)</a>
                    <a id="3297" class="Symbol">→</a> <a id="3299" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3308" href="Definition.Modality.Context.Properties.Insertion.html#3236" class="Bound">n</a> <a id="3310" class="Symbol">(</a><a id="3311" href="Definition.Modality.Context.Properties.Insertion.html#3246" class="Bound">γ</a> <a id="3313" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3316" href="Definition.Modality.Context.Properties.Insertion.html#3248" class="Bound">δ</a><a id="3317" class="Symbol">)</a> <a id="3319" class="Symbol">(</a><a id="3320" href="Definition.Modality.Context.Properties.Insertion.html#3268" class="Bound">p</a> <a id="3322" href="Definition.Modality.html#502" class="Field Operator">∧</a> <a id="3324" href="Definition.Modality.Context.Properties.Insertion.html#3270" class="Bound">q</a><a id="3325" class="Symbol">)</a> <a id="3327" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3329" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3338" href="Definition.Modality.Context.Properties.Insertion.html#3236" class="Bound">n</a> <a id="3340" href="Definition.Modality.Context.Properties.Insertion.html#3246" class="Bound">γ</a> <a id="3342" href="Definition.Modality.Context.Properties.Insertion.html#3268" class="Bound">p</a> <a id="3344" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3347" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3356" href="Definition.Modality.Context.Properties.Insertion.html#3236" class="Bound">n</a> <a id="3358" href="Definition.Modality.Context.Properties.Insertion.html#3248" class="Bound">δ</a> <a id="3360" href="Definition.Modality.Context.Properties.Insertion.html#3270" class="Bound">q</a>
<a id="3362" href="Definition.Modality.Context.Properties.Insertion.html#3213" class="Function">insertAt-distrib-∧ᶜ</a> <a id="3382" class="Number">0</a> <a id="3384" href="Definition.Modality.Context.Properties.Insertion.html#3384" class="Bound">γ</a> <a id="3386" href="Definition.Modality.Context.Properties.Insertion.html#3386" class="Bound">δ</a> <a id="3388" href="Definition.Modality.Context.Properties.Insertion.html#3388" class="Bound">p</a> <a id="3390" href="Definition.Modality.Context.Properties.Insertion.html#3390" class="Bound">q</a> <a id="3392" class="Symbol">=</a> <a id="3394" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3399" href="Definition.Modality.Context.Properties.Insertion.html#3213" class="Function">insertAt-distrib-∧ᶜ</a> <a id="3419" class="Symbol">(</a><a id="3420" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="3423" href="Definition.Modality.Context.Properties.Insertion.html#3423" class="Bound">n</a><a id="3424" class="Symbol">)</a> <a id="3426" class="Symbol">(</a><a id="3427" href="Definition.Modality.Context.Properties.Insertion.html#3427" class="Bound">γ</a> <a id="3429" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="3431" href="Definition.Modality.Context.Properties.Insertion.html#3431" class="Bound">p′</a><a id="3433" class="Symbol">)</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Definition.Modality.Context.Properties.Insertion.html#3436" class="Bound">δ</a> <a id="3438" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="3440" href="Definition.Modality.Context.Properties.Insertion.html#3440" class="Bound">q′</a><a id="3442" class="Symbol">)</a> <a id="3444" href="Definition.Modality.Context.Properties.Insertion.html#3444" class="Bound">p</a> <a id="3446" href="Definition.Modality.Context.Properties.Insertion.html#3446" class="Bound">q</a> <a id="3448" class="Symbol">=</a>
  <a id="3452" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="3457" class="Symbol">(</a><a id="3458" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="3461" class="Symbol">_)</a> <a id="3464" class="Symbol">(</a><a id="3465" href="Definition.Modality.Context.Properties.Insertion.html#3213" class="Function">insertAt-distrib-∧ᶜ</a> <a id="3485" href="Definition.Modality.Context.Properties.Insertion.html#3423" class="Bound">n</a> <a id="3487" href="Definition.Modality.Context.Properties.Insertion.html#3427" class="Bound">γ</a> <a id="3489" href="Definition.Modality.Context.Properties.Insertion.html#3436" class="Bound">δ</a> <a id="3491" href="Definition.Modality.Context.Properties.Insertion.html#3444" class="Bound">p</a> <a id="3493" href="Definition.Modality.Context.Properties.Insertion.html#3446" class="Bound">q</a><a id="3494" class="Symbol">)</a>

<a id="3497" class="Comment">-- Inserting a zero into a modality context distributes over meet</a>
<a id="3563" class="Comment">-- insertAt n (γ ∧ᶜ δ) 𝟘 ≈ᶜ insertAt n γ 𝟘 ∧ᶜ insertAt n δ 𝟘</a>

<a id="insertAt-distrib-∧ᶜ-𝟘"></a><a id="3625" href="Definition.Modality.Context.Properties.Insertion.html#3625" class="Function">insertAt-distrib-∧ᶜ-𝟘</a> <a id="3647" class="Symbol">:</a> <a id="3649" class="Symbol">(</a><a id="3650" href="Definition.Modality.Context.Properties.Insertion.html#3650" class="Bound">n</a> <a id="3652" class="Symbol">:</a> <a id="3654" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="3657" class="Symbol">)</a> <a id="3659" class="Symbol">(</a><a id="3660" href="Definition.Modality.Context.Properties.Insertion.html#3660" class="Bound">γ</a> <a id="3662" href="Definition.Modality.Context.Properties.Insertion.html#3662" class="Bound">δ</a> <a id="3664" class="Symbol">:</a> <a id="3666" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Definition.Modality.Context.Properties.Insertion.html#3650" class="Bound">n</a> <a id="3674" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="3677" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="3678" class="Symbol">))</a>
                      <a id="3703" class="Symbol">→</a> <a id="3705" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3714" href="Definition.Modality.Context.Properties.Insertion.html#3650" class="Bound">n</a> <a id="3716" class="Symbol">(</a><a id="3717" href="Definition.Modality.Context.Properties.Insertion.html#3660" class="Bound">γ</a> <a id="3719" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3722" href="Definition.Modality.Context.Properties.Insertion.html#3662" class="Bound">δ</a><a id="3723" class="Symbol">)</a> <a id="3725" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3727" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="3730" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3739" href="Definition.Modality.Context.Properties.Insertion.html#3650" class="Bound">n</a> <a id="3741" href="Definition.Modality.Context.Properties.Insertion.html#3660" class="Bound">γ</a> <a id="3743" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3745" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3748" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3757" href="Definition.Modality.Context.Properties.Insertion.html#3650" class="Bound">n</a> <a id="3759" href="Definition.Modality.Context.Properties.Insertion.html#3662" class="Bound">δ</a> <a id="3761" href="Definition.Modality.html#645" class="Field">𝟘</a>
<a id="3763" href="Definition.Modality.Context.Properties.Insertion.html#3625" class="Function">insertAt-distrib-∧ᶜ-𝟘</a> <a id="3785" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3787" href="Definition.Modality.Context.Properties.Insertion.html#3787" class="Bound">γ</a> <a id="3789" href="Definition.Modality.Context.Properties.Insertion.html#3789" class="Bound">δ</a> <a id="3791" class="Symbol">=</a> <a id="3793" href="Relation.Binary.Reasoning.Base.Double.html#2213" class="Function Operator">begin</a>
  <a id="3801" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3810" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3812" class="Symbol">(</a><a id="3813" href="Definition.Modality.Context.Properties.Insertion.html#3787" class="Bound">γ</a> <a id="3815" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3818" href="Definition.Modality.Context.Properties.Insertion.html#3789" class="Bound">δ</a><a id="3819" class="Symbol">)</a> <a id="3821" href="Definition.Modality.html#645" class="Field">𝟘</a>            <a id="3834" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">≈⟨</a> <a id="3837" href="Definition.Modality.Context.Properties.Insertion.html#740" class="Function">insertAt-cong</a> <a id="3851" href="Definition.Modality.Context.Properties.Equivalence.html#450" class="Function">≈ᶜ-refl</a> <a id="3859" class="Symbol">(</a><a id="3860" href="Definition.Modality.html#2719" class="Function">≈-sym</a> <a id="3866" class="Symbol">(</a><a id="3867" href="Definition.Modality.html#2578" class="Function">∧-idem</a> <a id="3874" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="3875" class="Symbol">))</a> <a id="3878" href="Relation.Binary.Reasoning.Base.Double.html#2721" class="Function">⟩</a>
  <a id="3882" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3891" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3893" class="Symbol">(</a><a id="3894" href="Definition.Modality.Context.Properties.Insertion.html#3787" class="Bound">γ</a> <a id="3896" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3899" href="Definition.Modality.Context.Properties.Insertion.html#3789" class="Bound">δ</a><a id="3900" class="Symbol">)</a> <a id="3902" class="Symbol">(</a><a id="3903" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3905" href="Definition.Modality.html#502" class="Field Operator">∧</a> <a id="3907" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="3908" class="Symbol">)</a>      <a id="3915" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">≡⟨</a> <a id="3918" href="Definition.Modality.Context.Properties.Insertion.html#3213" class="Function">insertAt-distrib-∧ᶜ</a> <a id="3938" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3940" href="Definition.Modality.Context.Properties.Insertion.html#3787" class="Bound">γ</a> <a id="3942" href="Definition.Modality.Context.Properties.Insertion.html#3789" class="Bound">δ</a> <a id="3944" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3946" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3948" href="Relation.Binary.Reasoning.Base.Double.html#3123" class="Function">⟩</a>
  <a id="3952" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3961" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3963" href="Definition.Modality.Context.Properties.Insertion.html#3787" class="Bound">γ</a> <a id="3965" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3967" href="Definition.Modality.Context.html#1732" class="Function Operator">∧ᶜ</a> <a id="3970" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="3979" href="Definition.Modality.Context.Properties.Insertion.html#3785" class="Bound">n</a> <a id="3981" href="Definition.Modality.Context.Properties.Insertion.html#3789" class="Bound">δ</a> <a id="3983" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="3985" href="Relation.Binary.Reasoning.Base.Double.html#3647" class="Function Operator">∎</a>
  <a id="3989" class="Keyword">where</a>
  <a id="3997" class="Keyword">open</a> <a id="4002" class="Keyword">import</a> <a id="4009" href="Tools.Reasoning.Equivalence.html" class="Module">Tools.Reasoning.Equivalence</a> <a id="4037" href="Definition.Modality.Context.Properties.Equivalence.html#967" class="Function">≈ᶜ-equivalence</a>

<a id="4053" class="Comment">-- Inserting a zero into a modality context distributes over nrᶜ</a>
<a id="4118" class="Comment">-- insertAt n (nrᶜ γ δ r) 𝟘 ≡ nrᶜ (insertAt n γ 𝟘) (insertAt n δ 𝟘) r</a>

<a id="insertAt-distrib-nrᶜ-𝟘"></a><a id="4189" href="Definition.Modality.Context.Properties.Insertion.html#4189" class="Function">insertAt-distrib-nrᶜ-𝟘</a> <a id="4212" class="Symbol">:</a> <a id="4214" class="Symbol">(</a><a id="4215" href="Definition.Modality.Context.Properties.Insertion.html#4215" class="Bound">n</a> <a id="4217" class="Symbol">:</a> <a id="4219" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="4222" class="Symbol">)</a> <a id="4224" class="Symbol">(</a><a id="4225" href="Definition.Modality.Context.Properties.Insertion.html#4225" class="Bound">γ</a> <a id="4227" href="Definition.Modality.Context.Properties.Insertion.html#4227" class="Bound">δ</a> <a id="4229" class="Symbol">:</a> <a id="4231" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="4236" class="Symbol">(</a><a id="4237" href="Definition.Modality.Context.Properties.Insertion.html#4215" class="Bound">n</a> <a id="4239" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="4242" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="4243" class="Symbol">))</a> <a id="4246" class="Symbol">(</a><a id="4247" href="Definition.Modality.Context.Properties.Insertion.html#4247" class="Bound">r</a> <a id="4249" class="Symbol">:</a> <a id="4251" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="4252" class="Symbol">)</a>
                     <a id="4275" class="Symbol">→</a> <a id="4277" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="4286" href="Definition.Modality.Context.Properties.Insertion.html#4215" class="Bound">n</a> <a id="4288" class="Symbol">(</a><a id="4289" href="Definition.Modality.Context.html#2072" class="Function">nrᶜ</a> <a id="4293" href="Definition.Modality.Context.Properties.Insertion.html#4225" class="Bound">γ</a> <a id="4295" href="Definition.Modality.Context.Properties.Insertion.html#4227" class="Bound">δ</a> <a id="4297" href="Definition.Modality.Context.Properties.Insertion.html#4247" class="Bound">r</a><a id="4298" class="Symbol">)</a> <a id="4300" href="Definition.Modality.html#645" class="Field">𝟘</a> <a id="4302" href="Definition.Modality.Context.html#734" class="Datatype Operator">≈ᶜ</a> <a id="4305" href="Definition.Modality.Context.html#2072" class="Function">nrᶜ</a> <a id="4309" class="Symbol">(</a><a id="4310" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="4319" href="Definition.Modality.Context.Properties.Insertion.html#4215" class="Bound">n</a> <a id="4321" href="Definition.Modality.Context.Properties.Insertion.html#4225" class="Bound">γ</a> <a id="4323" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="4324" class="Symbol">)</a> <a id="4326" class="Symbol">(</a><a id="4327" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="4336" href="Definition.Modality.Context.Properties.Insertion.html#4215" class="Bound">n</a> <a id="4338" href="Definition.Modality.Context.Properties.Insertion.html#4227" class="Bound">δ</a> <a id="4340" href="Definition.Modality.html#645" class="Field">𝟘</a><a id="4341" class="Symbol">)</a> <a id="4343" href="Definition.Modality.Context.Properties.Insertion.html#4247" class="Bound">r</a>
<a id="4345" href="Definition.Modality.Context.Properties.Insertion.html#4189" class="Function">insertAt-distrib-nrᶜ-𝟘</a> <a id="4368" class="Number">0</a> <a id="4370" href="Definition.Modality.Context.Properties.Insertion.html#4370" class="Bound">γ</a> <a id="4372" href="Definition.Modality.Context.Properties.Insertion.html#4372" class="Bound">δ</a> <a id="4374" href="Definition.Modality.Context.Properties.Insertion.html#4374" class="Bound">r</a> <a id="4376" class="Symbol">=</a> <a id="4378" href="Definition.Modality.Context.Properties.Equivalence.html#450" class="Function">≈ᶜ-refl</a> <a id="4386" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="4388" class="Symbol">(</a><a id="4389" href="Definition.Modality.html#2719" class="Function">≈-sym</a> <a id="4395" class="Symbol">(</a><a id="4396" href="Definition.Modality.Properties.html#5531" class="Function">nr-idem-𝟘</a> <a id="4406" href="Definition.Modality.Context.Properties.Insertion.html#4374" class="Bound">r</a><a id="4407" class="Symbol">))</a>
<a id="4410" href="Definition.Modality.Context.Properties.Insertion.html#4189" class="Function">insertAt-distrib-nrᶜ-𝟘</a> <a id="4433" class="Symbol">(</a><a id="4434" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="4437" href="Definition.Modality.Context.Properties.Insertion.html#4437" class="Bound">n</a><a id="4438" class="Symbol">)</a> <a id="4440" class="Symbol">(</a><a id="4441" href="Definition.Modality.Context.Properties.Insertion.html#4441" class="Bound">γ</a> <a id="4443" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="4445" href="Definition.Modality.Context.Properties.Insertion.html#4445" class="Bound">p</a><a id="4446" class="Symbol">)</a> <a id="4448" class="Symbol">(</a><a id="4449" href="Definition.Modality.Context.Properties.Insertion.html#4449" class="Bound">δ</a> <a id="4451" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="4453" href="Definition.Modality.Context.Properties.Insertion.html#4453" class="Bound">q</a><a id="4454" class="Symbol">)</a> <a id="4456" href="Definition.Modality.Context.Properties.Insertion.html#4456" class="Bound">r</a> <a id="4458" class="Symbol">=</a> <a id="4460" class="Symbol">(</a><a id="4461" href="Definition.Modality.Context.Properties.Insertion.html#4189" class="Function">insertAt-distrib-nrᶜ-𝟘</a> <a id="4484" href="Definition.Modality.Context.Properties.Insertion.html#4437" class="Bound">n</a> <a id="4486" href="Definition.Modality.Context.Properties.Insertion.html#4441" class="Bound">γ</a> <a id="4488" href="Definition.Modality.Context.Properties.Insertion.html#4449" class="Bound">δ</a> <a id="4490" href="Definition.Modality.Context.Properties.Insertion.html#4456" class="Bound">r</a><a id="4491" class="Symbol">)</a> <a id="4493" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="4495" href="Definition.Modality.html#2649" class="Function">≈-refl</a>

<a id="4503" class="Comment">-- Inserting an element into a modality context is a monotone function</a>
<a id="4574" class="Comment">-- If γ ≤ᶜ δ and p ≤ q, then insertAt n γ p ≤ᶜ insertAt n δ q</a>

<a id="insertAt-monotone"></a><a id="4637" href="Definition.Modality.Context.Properties.Insertion.html#4637" class="Function">insertAt-monotone</a> <a id="4655" class="Symbol">:</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Definition.Modality.Context.Properties.Insertion.html#4658" class="Bound">n</a> <a id="4660" class="Symbol">:</a> <a id="4662" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="4665" class="Symbol">)</a> <a id="4667" class="Symbol">(</a><a id="4668" href="Definition.Modality.Context.Properties.Insertion.html#4668" class="Bound">γ</a> <a id="4670" href="Definition.Modality.Context.Properties.Insertion.html#4670" class="Bound">δ</a> <a id="4672" class="Symbol">:</a> <a id="4674" href="Definition.Modality.Context.html#594" class="Datatype">Conₘ</a> <a id="4679" class="Symbol">(</a><a id="4680" href="Definition.Modality.Context.Properties.Insertion.html#4658" class="Bound">n</a> <a id="4682" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="4685" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="4686" class="Symbol">))</a> <a id="4689" class="Symbol">(</a><a id="4690" href="Definition.Modality.Context.Properties.Insertion.html#4690" class="Bound">p</a> <a id="4692" href="Definition.Modality.Context.Properties.Insertion.html#4692" class="Bound">q</a> <a id="4694" class="Symbol">:</a> <a id="4696" href="Definition.Modality.Context.Properties.Insertion.html#180" class="Bound">M</a><a id="4697" class="Symbol">)</a>
                  <a id="4717" class="Symbol">→</a> <a id="4719" href="Definition.Modality.Context.Properties.Insertion.html#4668" class="Bound">γ</a> <a id="4721" href="Definition.Modality.Context.html#1967" class="Function Operator">≤ᶜ</a> <a id="4724" href="Definition.Modality.Context.Properties.Insertion.html#4670" class="Bound">δ</a> <a id="4726" class="Symbol">→</a> <a id="4728" href="Definition.Modality.Context.Properties.Insertion.html#4690" class="Bound">p</a> <a id="4730" href="Definition.Modality.html#982" class="Function Operator">≤</a> <a id="4732" href="Definition.Modality.Context.Properties.Insertion.html#4692" class="Bound">q</a> <a id="4734" class="Symbol">→</a> <a id="4736" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="4745" href="Definition.Modality.Context.Properties.Insertion.html#4658" class="Bound">n</a> <a id="4747" href="Definition.Modality.Context.Properties.Insertion.html#4668" class="Bound">γ</a> <a id="4749" href="Definition.Modality.Context.Properties.Insertion.html#4690" class="Bound">p</a> <a id="4751" href="Definition.Modality.Context.html#1967" class="Function Operator">≤ᶜ</a> <a id="4754" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="4763" href="Definition.Modality.Context.Properties.Insertion.html#4658" class="Bound">n</a> <a id="4765" href="Definition.Modality.Context.Properties.Insertion.html#4670" class="Bound">δ</a> <a id="4767" href="Definition.Modality.Context.Properties.Insertion.html#4692" class="Bound">q</a>
<a id="4769" href="Definition.Modality.Context.Properties.Insertion.html#4637" class="Function">insertAt-monotone</a> <a id="4787" class="Number">0</a> <a id="4789" href="Definition.Modality.Context.Properties.Insertion.html#4789" class="Bound">γ</a> <a id="4791" href="Definition.Modality.Context.Properties.Insertion.html#4791" class="Bound">δ</a> <a id="4793" href="Definition.Modality.Context.Properties.Insertion.html#4793" class="Bound">p</a> <a id="4795" href="Definition.Modality.Context.Properties.Insertion.html#4795" class="Bound">q</a> <a id="4797" href="Definition.Modality.Context.Properties.Insertion.html#4797" class="Bound">γ≤δ</a> <a id="4801" href="Definition.Modality.Context.Properties.Insertion.html#4801" class="Bound">p≤q</a> <a id="4805" class="Symbol">=</a> <a id="4807" href="Definition.Modality.Context.Properties.Insertion.html#4797" class="Bound">γ≤δ</a> <a id="4811" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="4813" href="Definition.Modality.Context.Properties.Insertion.html#4801" class="Bound">p≤q</a>
<a id="4817" href="Definition.Modality.Context.Properties.Insertion.html#4637" class="Function">insertAt-monotone</a> <a id="4835" class="Symbol">(</a><a id="4836" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="4839" href="Definition.Modality.Context.Properties.Insertion.html#4839" class="Bound">n</a><a id="4840" class="Symbol">)</a> <a id="4842" class="Symbol">(</a><a id="4843" href="Definition.Modality.Context.Properties.Insertion.html#4843" class="Bound">γ</a> <a id="4845" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="4847" href="Definition.Modality.Context.Properties.Insertion.html#4847" class="Bound">p′</a><a id="4849" class="Symbol">)</a> <a id="4851" class="Symbol">(</a><a id="4852" href="Definition.Modality.Context.Properties.Insertion.html#4852" class="Bound">δ</a> <a id="4854" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">∙</a> <a id="4856" href="Definition.Modality.Context.Properties.Insertion.html#4856" class="Bound">q′</a><a id="4858" class="Symbol">)</a> <a id="4860" href="Definition.Modality.Context.Properties.Insertion.html#4860" class="Bound">p</a> <a id="4862" href="Definition.Modality.Context.Properties.Insertion.html#4862" class="Bound">q</a> <a id="4864" class="Symbol">(</a><a id="4865" href="Definition.Modality.Context.Properties.Insertion.html#4865" class="Bound">γ≤δ</a> <a id="4869" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="4871" href="Definition.Modality.Context.Properties.Insertion.html#4871" class="Bound">p′≤q′</a><a id="4876" class="Symbol">)</a> <a id="4878" href="Definition.Modality.Context.Properties.Insertion.html#4878" class="Bound">p≤q</a> <a id="4882" class="Symbol">=</a>
  <a id="4886" href="Definition.Modality.Context.Properties.Insertion.html#4637" class="Function">insertAt-monotone</a> <a id="4904" href="Definition.Modality.Context.Properties.Insertion.html#4839" class="Bound">n</a> <a id="4906" href="Definition.Modality.Context.Properties.Insertion.html#4843" class="Bound">γ</a> <a id="4908" href="Definition.Modality.Context.Properties.Insertion.html#4852" class="Bound">δ</a> <a id="4910" href="Definition.Modality.Context.Properties.Insertion.html#4860" class="Bound">p</a> <a id="4912" href="Definition.Modality.Context.Properties.Insertion.html#4862" class="Bound">q</a> <a id="4914" href="Definition.Modality.Context.Properties.Insertion.html#4865" class="Bound">γ≤δ</a> <a id="4918" href="Definition.Modality.Context.Properties.Insertion.html#4878" class="Bound">p≤q</a> <a id="4922" href="Definition.Modality.Context.html#783" class="InductiveConstructor Operator">∙</a> <a id="4924" href="Definition.Modality.Context.Properties.Insertion.html#4871" class="Bound">p′≤q′</a>

<a id="4931" class="Comment">-- Lemma on insertions and lifted variable weakenings</a>
<a id="4985" class="Comment">-- 𝟘ᶜ , x[⇑ⁿ(↑id)] ≔ 𝟙 ≡ insertAt n (𝟘ᶜ , x ≔ 𝟙) 𝟘</a>

<a id="insertAt-liftn"></a><a id="5037" href="Definition.Modality.Context.Properties.Insertion.html#5037" class="Function">insertAt-liftn</a> <a id="5052" class="Symbol">:</a> <a id="5054" class="Symbol">(</a><a id="5055" href="Definition.Modality.Context.Properties.Insertion.html#5055" class="Bound">n</a> <a id="5057" class="Symbol">:</a> <a id="5059" href="Agda.Builtin.Nat.html#192" class="Datatype">Nat</a><a id="5062" class="Symbol">)</a> <a id="5064" class="Symbol">(</a><a id="5065" href="Definition.Modality.Context.Properties.Insertion.html#5065" class="Bound">x</a> <a id="5067" class="Symbol">:</a> <a id="5069" href="Data.Fin.Base.html#1146" class="Datatype">Fin</a> <a id="5073" class="Symbol">(</a><a id="5074" href="Definition.Modality.Context.Properties.Insertion.html#5055" class="Bound">n</a> <a id="5076" href="Definition.Modality.Context.Properties.Insertion.html#516" class="Primitive Operator">+ⁿ</a> <a id="5079" href="Definition.Modality.Context.Properties.Insertion.html#629" class="Generalizable">m</a><a id="5080" class="Symbol">))</a>
               <a id="5098" class="Symbol">→</a> <a id="5100" class="Symbol">(</a><a id="5101" href="Definition.Modality.Context.html#2199" class="Function">𝟘ᶜ</a> <a id="5104" href="Definition.Modality.Context.html#1005" class="Function Operator">,</a> <a id="5106" href="Definition.Untyped.html#10152" class="Function">wkVar</a> <a id="5112" class="Symbol">(</a><a id="5113" href="Definition.Untyped.html#9957" class="Function">liftn</a> <a id="5119" class="Symbol">(</a><a id="5120" href="Definition.Untyped.html#9451" class="InductiveConstructor">step</a> <a id="5125" href="Definition.Untyped.html#9387" class="InductiveConstructor">id</a><a id="5127" class="Symbol">)</a> <a id="5129" href="Definition.Modality.Context.Properties.Insertion.html#5055" class="Bound">n</a><a id="5130" class="Symbol">)</a> <a id="5132" href="Definition.Modality.Context.Properties.Insertion.html#5065" class="Bound">x</a> <a id="5134" href="Definition.Modality.Context.html#1005" class="Function Operator">≔</a> <a id="5136" href="Definition.Modality.html#655" class="Field">𝟙</a><a id="5137" class="Symbol">)</a> <a id="5139" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5141" href="Definition.Modality.Context.html#1182" class="Function">insertAt</a> <a id="5150" href="Definition.Modality.Context.Properties.Insertion.html#5055" class="Bound">n</a> <a id="5152" class="Symbol">(</a><a id="5153" href="Definition.Modality.Context.html#2199" class="Function">𝟘ᶜ</a> <a id="5156" href="Definition.Modality.Context.html#1005" class="Function Operator">,</a> <a id="5158" href="Definition.Modality.Context.Properties.Insertion.html#5065" class="Bound">x</a> <a id="5160" href="Definition.Modality.Context.html#1005" class="Function Operator">≔</a> <a id="5162" href="Definition.Modality.html#655" class="Field">𝟙</a><a id="5163" class="Symbol">)</a> <a id="5165" href="Definition.Modality.html#645" class="Field">𝟘</a>
<a id="5167" href="Definition.Modality.Context.Properties.Insertion.html#5037" class="Function">insertAt-liftn</a> <a id="5182" class="Number">0</a> <a id="5184" href="Definition.Modality.Context.Properties.Insertion.html#5184" class="Bound">x</a> <a id="5186" class="Symbol">=</a> <a id="5188" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="5193" href="Definition.Modality.Context.Properties.Insertion.html#5037" class="Function">insertAt-liftn</a> <a id="5208" class="Symbol">(</a><a id="5209" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="5212" href="Definition.Modality.Context.Properties.Insertion.html#5212" class="Bound">n</a><a id="5213" class="Symbol">)</a> <a id="5215" href="Data.Fin.Base.html#1168" class="InductiveConstructor">x0</a> <a id="5218" class="Symbol">=</a> <a id="5220" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="5225" class="Symbol">(</a><a id="5226" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="5229" class="Symbol">_)</a> <a id="5232" class="Symbol">(</a><a id="5233" href="Relation.Binary.PropositionalEquality.Core.html#1727" class="Function">sym</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Definition.Modality.Context.Properties.Insertion.html#1036" class="Function">insertAt-𝟘</a> <a id="5249" href="Definition.Modality.Context.Properties.Insertion.html#5212" class="Bound">n</a><a id="5250" class="Symbol">))</a>
<a id="5253" href="Definition.Modality.Context.Properties.Insertion.html#5037" class="Function">insertAt-liftn</a> <a id="5268" class="Symbol">(</a><a id="5269" href="Tools.Nat.html#406" class="InductiveConstructor">1+</a> <a id="5272" href="Definition.Modality.Context.Properties.Insertion.html#5272" class="Bound">n</a><a id="5273" class="Symbol">)</a> <a id="5275" class="Symbol">(</a><a id="5276" href="Definition.Modality.Context.Properties.Insertion.html#5276" class="Bound">x</a> <a id="5278" href="Data.Fin.Base.html#1199" class="InductiveConstructor Operator">+1</a><a id="5280" class="Symbol">)</a> <a id="5282" class="Symbol">=</a> <a id="5284" href="Relation.Binary.PropositionalEquality.Core.html#1173" class="Function">cong</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Definition.Modality.Context.html#634" class="InductiveConstructor Operator">_∙</a> <a id="5293" class="Symbol">_)</a> <a id="5296" class="Symbol">(</a><a id="5297" href="Definition.Modality.Context.Properties.Insertion.html#5037" class="Function">insertAt-liftn</a> <a id="5312" href="Definition.Modality.Context.Properties.Insertion.html#5272" class="Bound">n</a> <a id="5314" href="Definition.Modality.Context.Properties.Insertion.html#5276" class="Bound">x</a><a id="5315" class="Symbol">)</a>
</pre></body></html>